import{a as jv,b as zv,c as Ph,d as Bv,e as xs,f as Fh,g as Bc,h as Uv,i as $v,j as Oh,k as kt,l as Kn,m as mi,n as Uc,o as Is,p as Nh,q as qv,r as Gv,s as Es,t as $c,u as ue,v as Ze,w as Vh}from"./chunk-7XJPOFUU.js";import{$ as av,$a as $,$b as Sv,A as Kt,Aa as lv,Ab as qr,B as hh,Ba as Rc,Bb as Ye,C as en,Ca as dv,Cb as Xe,D as nn,Da as Te,Db as Ih,E as mh,Ea as Be,Eb as F,F as fh,Fa as _s,Fb as Fc,G as ke,Ga as zr,Gb as Li,H as rv,Ha as Br,Hb as Eh,I as fs,Ia as uv,Ib as Ch,J as Bn,Ja as hv,Jb as Th,K as di,Ka as mv,Kb as de,L as ph,La as fv,Lb as J,M as ov,Ma as pv,Mb as Gr,N as ps,Na as gv,Nb as Ah,O as Lr,Oa as bv,Ob as Oc,P as sv,Pa as Me,Pb as Nc,Q as Ac,Qa as _v,Qb as Sh,R as Sc,Ra as vv,Rb as Dh,S as Oi,Sa as vs,Sb as Hr,T as Ut,Ta as it,Tb as Vc,U as gh,Ua as T,Ub as Rh,V as Ni,Va as qn,Vb as Pe,W as Tt,Wa as yv,Wb as Tv,X as gt,Xa as kc,Xb as St,Y as Vi,Ya as Mc,Yb as Lc,Z as P,Za as Ur,Zb as Av,_ as B,_a as wv,_b as Wr,a as Fi,aa as N,ab as xv,ac as Dv,b as tv,ba as bh,bb as $r,bc as Q,c as De,ca as b,cb as oe,cc as Rv,d as ch,da as R,db as be,dc as ws,e as lh,ea as re,eb as Iv,ec as kv,f as yt,fa as _h,fb as yh,fc as Mv,g as Ee,ga as gs,gb as Ev,gc as Hn,h as Ic,ha as G,hb as se,hc as Pv,i as ev,ia as Z,ib as Yt,ic as Fv,j as Ji,ja as U,jb as _t,jc as Kr,k as tn,ka as tt,kb as At,kc as _e,l as jn,la as bs,lb as ui,lc as Ov,m as wt,ma as Dc,mb as ys,mc as Nv,n as M,na as cv,nb as I,nc as Wn,o as zn,oa as jr,ob as E,oc as Vv,p as dh,pa as rn,pb as nt,pc as Lv,q as iv,qa as Ce,qb as wh,r as j,ra as je,rb as xh,s as Vr,sa as ze,sb as hi,sc as kh,t as Re,ta as vh,tb as Pc,tc as jc,u as ms,ua as on,ub as xt,v as Ec,va as Un,vb as Xt,vc as Qr,w as uh,wa as ge,wb as Zt,wc as Mh,x as Cc,xa as $n,xb as It,xc as zc,y as nv,ya as dt,yb as Cv,z as Tc,za as Rt,zb as Gn}from"./chunk-W3TNXIVK.js";import{a as C,b as ht,e as ah,f as g}from"./chunk-CQCHLVVT.js";var jh=class{};var Yr=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var zh=class{encodeKey(t){return Hv(t)}encodeValue(t){return Hv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function jT(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=i.get(s)||[];c.push(a),i.set(s,c)}),i}var zT=/%(\d[a-f0-9])/gi,BT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hv(e){return encodeURIComponent(e).replace(zT,(t,i)=>BT[i]??t)}function qc(e){return`${e}`}var sn=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new zh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=jT(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let n=t.fromObject[i],r=Array.isArray(n)?n.map(qc):[qc(n)];this.map.set(i,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{i.push({param:n,value:o,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(qc(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(qc(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Bh=class{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function UT(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Wv(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Kv(e){return typeof Blob<"u"&&e instanceof Blob}function Qv(e){return typeof FormData<"u"&&e instanceof FormData}function $T(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Cs=class e{constructor(t,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(UT(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Yr,this.context??=new Bh,!this.params)this.params=new sn,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),c=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Wv(this.body)||Kv(this.body)||Qv(this.body)||$T(this.body)?this.body:this.body instanceof sn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Qv(this.body)?null:Kv(this.body)?this.body.type||null:Wv(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof sn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let i=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,l=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((h,m)=>h.set(m,t.setHeaders[m]),l)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,m)=>h.set(m,t.setParams[m]),d)),new e(i,n,s,{params:d,headers:l,context:u,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},Yv=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Yv||{}),Uh=class{constructor(t,i=Xv.Ok,n="OK"){this.headers=t.headers||new Yr,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var $h=class e extends Uh{constructor(t={}){super(t),this.type=Yv.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var Xv=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Xv||{});function Lh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Zv=(()=>{let t=class t{constructor(n){this.handler=n}request(n,r,o={}){let s;if(n instanceof Cs)s=n;else{let l;o.headers instanceof Yr?l=o.headers:l=new Yr(o.headers);let d;o.params&&(o.params instanceof sn?d=o.params:d=new sn({fromObject:o.params})),s=new Cs(n,r,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=M(s).pipe(nn(l=>this.handler.handle(l)));if(n instanceof Cs||o.observe==="events")return a;let c=a.pipe(Kt(l=>l instanceof $h));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(j(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(j(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(j(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(j(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new sn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Lh(o,r))}post(n,r,o={}){return this.request("POST",n,Lh(o,r))}put(n,r,o={}){return this.request("PUT",n,Lh(o,r))}};t.\u0275fac=function(r){return new(r||t)(b(jh))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();var Hh=class extends Dv{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wh=class e extends Hh{static makeCurrent(){Sv(new e)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=HT();return i==null?null:WT(i)}resetBaseElement(){Ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Pv(document.cookie,t)}},Ts=null;function HT(){return Ts=Ts||document.querySelector("base"),Ts?Ts.getAttribute("href"):null}function WT(e){return new URL(e,document.baseURI).pathname}var KT=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),Kh=new N(""),ey=(()=>{let t=class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new gt(5101,!1);return this._eventNameToPlugin.set(n,r),r}};t.\u0275fac=function(r){return new(r||t)(b(Kh),b($))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),Gc=class{constructor(t){this._doc=t}},qh="ng-app-id",iy=(()=>{let t=class t{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wn(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${qh}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(qh),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(qh,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(b(Q),b(Rc),b(_s,8),b(Te))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),Gh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yh=/%COMP%/g,ny="%COMP%",QT=`_nghost-${ny}`,YT=`_ngcontent-${ny}`,XT=!0,ZT=new N("",{providedIn:"root",factory:()=>XT});function JT(e){return YT.replace(Yh,e)}function tA(e){return QT.replace(Yh,e)}function ry(e,t){return t.map(i=>i.replace(Yh,e))}var Hc=(()=>{let t=class t{constructor(n,r,o,s,a,c,l,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Wn(c),this.defaultRenderer=new As(n,a,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gs.ShadowDom&&(r=ht(C({},r),{encapsulation:gs.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof Wc?o.applyToHost(n):o instanceof Ss&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case gs.Emulated:s=new Wc(l,d,r,this.appId,u,a,c,h);break;case gs.ShadowDom:return new Qh(l,d,n,r,a,c,this.nonce,h);default:s=new Ss(l,d,r,u,a,c,h);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(b(ey),b(iy),b(Rc),b(ZT),b(Q),b(Te),b($),b(_s))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),As=class{constructor(t,i,n,r){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(Gh[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(Jv(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(Jv(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new gt(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,r){if(r){i=r+":"+i;let o=Gh[r];o?t.setAttributeNS(o,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let r=Gh[n];r?t.removeAttributeNS(r,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,r){r&(vs.DashCase|vs.Important)?t.style.setProperty(i,n,r&vs.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&vs.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n){if(typeof t=="string"&&(t=Wr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function Jv(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Qh=class extends As{constructor(t,i,n,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ry(r.id,r.styles);for(let d of l){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ss=class extends As{constructor(t,i,n,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=c?ry(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wc=class extends Ss{constructor(t,i,n,r,o,s,a,c){let l=r+"-"+n.id;super(t,i,n,o,s,a,c,l),this.contentAttr=JT(l),this.hostAttr=tA(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}},eA=(()=>{let t=class t extends Gc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(b(Q))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),ty=["alt","control","meta","shift"],iA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},rA=(()=>{let t=class t extends Gc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wr().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),ty.forEach(d=>{let u=r.indexOf(d);u>-1&&(r.splice(u,1),a+=d+".")}),a+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(n,r){let o=iA[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),ty.forEach(a=>{if(a!==o){let c=nA[a];c(n)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{t.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(r){return new(r||t)(b(Q))},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();function oy(e,t){return Tv(C({rootComponent:e},oA(t)))}function oA(e){return{appProviders:[...dA,...e?.providers??[]],platformProviders:lA}}function sA(){Wh.makeCurrent()}function aA(){return new $n}function cA(){return lv(document),document}var lA=[{provide:Te,useValue:Ov},{provide:dv,useValue:sA,multi:!0},{provide:Q,useFactory:cA,deps:[]}];var dA=[{provide:cv,useValue:"root"},{provide:$n,useFactory:aA,deps:[]},{provide:Kh,useClass:eA,multi:!0,deps:[Q,$,Te]},{provide:Kh,useClass:rA,multi:!0,deps:[Q]},Hc,iy,ey,{provide:Mc,useExisting:Hc},{provide:Lv,useClass:KT,deps:[]},[]];var sy=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(r){return new(r||t)(b(Q))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Xh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=b(uA),o},providedIn:"root"});let e=t;return e})(),uA=(()=>{let t=class t extends Xh{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Me.NONE:return r;case Me.HTML:return Br(r,"HTML")?zr(r):bv(this._doc,String(r)).toString();case Me.STYLE:return Br(r,"Style")?zr(r):r;case Me.SCRIPT:if(Br(r,"Script"))return zr(r);throw new gt(5200,!1);case Me.URL:return Br(r,"URL")?zr(r):gv(String(r));case Me.RESOURCE_URL:if(Br(r,"ResourceURL"))return zr(r);throw new gt(5201,!1);default:throw new gt(5202,!1)}}bypassSecurityTrustHtml(n){return uv(n)}bypassSecurityTrustStyle(n){return hv(n)}bypassSecurityTrustScript(n){return mv(n)}bypassSecurityTrustUrl(n){return fv(n)}bypassSecurityTrustResourceUrl(n){return pv(n)}};t.\u0275fac=function(r){return new(r||t)(b(Q))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Y="primary",qs=Symbol("RouteTitle"),im=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function eo(e){return new im(e)}function hA(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=e[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function mA(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!fi(e[i],t[i]))return!1;return!0}function fi(e,t){let i=e?nm(e):void 0,n=t?nm(t):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!gy(e[r],t[r]))return!1;return!0}function nm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function gy(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((r,o)=>n[o]===r)}else return e===t}function by(e){return e.length>0?e[e.length-1]:null}function un(e){return dh(e)?e:Nc(e)?wt(Promise.resolve(e)):M(e)}var fA={exact:vy,subset:yy},_y={exact:pA,subset:gA,ignored:()=>!0};function cy(e,t,i){return fA[i.paths](e.root,t.root,i.matrixParams)&&_y[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function pA(e,t){return fi(e,t)}function vy(e,t,i){if(!Yn(e.segments,t.segments)||!Yc(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!vy(e.children[n],t.children[n],i))return!1;return!0}function gA(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>gy(e[i],t[i]))}function yy(e,t,i){return wy(e,t,t.segments,i)}function wy(e,t,i,n){if(e.segments.length>i.length){let r=e.segments.slice(0,i.length);return!(!Yn(r,i)||t.hasChildren()||!Yc(r,i,n))}else if(e.segments.length===i.length){if(!Yn(e.segments,i)||!Yc(e.segments,i,n))return!1;for(let r in t.children)if(!e.children[r]||!yy(e.children[r],t.children[r],n))return!1;return!0}else{let r=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!Yn(e.segments,r)||!Yc(e.segments,r,n)||!e.children[Y]?!1:wy(e.children[Y],t,o,n)}}function Yc(e,t,i){return t.every((n,r)=>_y[i](e[r].parameters,n.parameters))}var an=class{constructor(t=new ut([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=eo(this.queryParams),this._queryParamMap}toString(){return vA.serialize(this)}},ut=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xc(this)}},Qn=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=eo(this.parameters),this._parameterMap}toString(){return Iy(this)}};function bA(e,t){return Yn(e,t)&&e.every((i,n)=>fi(i.parameters,t[n].parameters))}function Yn(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function _A(e,t){let i=[];return Object.entries(e.children).forEach(([n,r])=>{n===Y&&(i=i.concat(t(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==Y&&(i=i.concat(t(r,n)))}),i}var Gs=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>new Os,providedIn:"root"});let e=t;return e})(),Os=class{parse(t){let i=new om(t);return new an(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${Ds(t.root,!0)}`,n=xA(t.queryParams),r=typeof t.fragment=="string"?`#${yA(t.fragment)}`:"";return`${i}${n}${r}`}},vA=new Os;function Xc(e){return e.segments.map(t=>Iy(t)).join("/")}function Ds(e,t){if(!e.hasChildren())return Xc(e);if(t){let i=e.children[Y]?Ds(e.children[Y],!1):"",n=[];return Object.entries(e.children).forEach(([r,o])=>{r!==Y&&n.push(`${r}:${Ds(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=_A(e,(n,r)=>r===Y?[Ds(e.children[Y],!1)]:[`${r}:${Ds(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[Y]!=null?`${Xc(e)}/${i[0]}`:`${Xc(e)}/(${i.join("//")})`}}function xy(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kc(e){return xy(e).replace(/%3B/gi,";")}function yA(e){return encodeURI(e)}function rm(e){return xy(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zc(e){return decodeURIComponent(e)}function ly(e){return Zc(e.replace(/\+/g,"%20"))}function Iy(e){return`${rm(e.path)}${wA(e.parameters)}`}function wA(e){return Object.entries(e).map(([t,i])=>`;${rm(t)}=${rm(i)}`).join("")}function xA(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Kc(i)}=${Kc(r)}`).join("&"):`${Kc(i)}=${Kc(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var IA=/^[^\/()?;#]+/;function Zh(e){let t=e.match(IA);return t?t[0]:""}var EA=/^[^\/()?;=#]+/;function CA(e){let t=e.match(EA);return t?t[0]:""}var TA=/^[^=?&#]+/;function AA(e){let t=e.match(TA);return t?t[0]:""}var SA=/^[^&#]+/;function DA(e){let t=e.match(SA);return t?t[0]:""}var om=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[Y]=new ut(t,i)),n}parseSegment(){let t=Zh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new gt(4009,!1);return this.capture(t),new Qn(Zc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=CA(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=Zh(this.remaining);r&&(n=r,this.capture(n))}t[Zc(i)]=Zc(n)}parseQueryParam(t){let i=AA(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=DA(this.remaining);s&&(n=s,this.capture(n))}let r=ly(i),o=ly(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Zh(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new gt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Y);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[Y]:new ut([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new gt(4011,!1)}};function Ey(e){return e.segments.length>0?new ut([],{[Y]:e}):e}function Cy(e){let t={};for(let[n,r]of Object.entries(e.children)){let o=Cy(r);if(n===Y&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let i=new ut(e.segments,t);return RA(i)}function RA(e){if(e.numberOfChildren===1&&e.children[Y]){let t=e.children[Y];return new ut(e.segments.concat(t.segments),t.children)}return e}function io(e){return e instanceof an}function kA(e,t,i=null,n=null){let r=Ty(e);return Ay(r,t,i,n)}function Ty(e){let t;function i(o){let s={};for(let c of o.children){let l=i(c);s[c.outlet]=l}let a=new ut(o.url,s);return o===e&&(t=a),a}let n=i(e.root),r=Ey(n);return t??r}function Ay(e,t,i,n){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return Jh(r,r,r,i,n);let o=MA(t);if(o.toRoot())return Jh(r,r,new ut([],{}),i,n);let s=PA(o,r,e),a=s.processChildren?Ms(s.segmentGroup,s.index,o.commands):Dy(s.segmentGroup,s.index,o.commands);return Jh(r,s.segmentGroup,a,i,n)}function Jc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ns(e){return typeof e=="object"&&e!=null&&e.outlets}function Jh(e,t,i,n,r){let o={};n&&Object.entries(n).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;e===t?s=i:s=Sy(e,t,i);let a=Ey(Cy(s));return new an(a,o,r)}function Sy(e,t,i){let n={};return Object.entries(e.children).forEach(([r,o])=>{o===t?n[r]=i:n[r]=Sy(o,t,i)}),new ut(e.segments,n)}var tl=class{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&Jc(n[0]))throw new gt(4003,!1);let r=n.find(Ns);if(r&&r!==by(n))throw new gt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function MA(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new tl(!0,0,e);let t=0,i=!1,n=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?i=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new tl(i,t,n)}var Jr=class{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function PA(e,t,i){if(e.isAbsolute)return new Jr(t,!0,0);if(!i)return new Jr(t,!1,NaN);if(i.parent===null)return new Jr(i,!0,0);let n=Jc(e.commands[0])?0:1,r=i.segments.length-1+n;return FA(i,r,e.numberOfDoubleDots)}function FA(e,t,i){let n=e,r=t,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new gt(4005,!1);r=n.segments.length}return new Jr(n,!1,r-o)}function OA(e){return Ns(e[0])?e[0].outlets:{[Y]:e}}function Dy(e,t,i){if(e??=new ut([],{}),e.segments.length===0&&e.hasChildren())return Ms(e,t,i);let n=NA(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new ut(e.segments.slice(0,n.pathIndex),{});return o.children[Y]=new ut(e.segments.slice(n.pathIndex),e.children),Ms(o,0,r)}else return n.match&&r.length===0?new ut(e.segments,{}):n.match&&!e.hasChildren()?sm(e,t,i):n.match?Ms(e,0,r):sm(e,t,i)}function Ms(e,t,i){if(i.length===0)return new ut(e.segments,{});{let n=OA(i),r={};if(Object.keys(n).some(o=>o!==Y)&&e.children[Y]&&e.numberOfChildren===1&&e.children[Y].segments.length===0){let o=Ms(e.children[Y],t,i);return new ut(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Dy(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new ut(e.segments,r)}}function NA(e,t,i){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return o;let s=e.segments[r],a=i[n];if(Ns(a))break;let c=`${a}`,l=n<i.length-1?i[n+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!uy(c,l,s))return o;n+=2}else{if(!uy(c,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function sm(e,t,i){let n=e.segments.slice(0,t),r=0;for(;r<i.length;){let o=i[r];if(Ns(o)){let c=VA(o.outlets);return new ut(n,c)}if(r===0&&Jc(i[0])){let c=e.segments[t];n.push(new Qn(c.path,dy(i[0]))),r++;continue}let s=Ns(o)?o.outlets[Y]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&Jc(a)?(n.push(new Qn(s,dy(a))),r+=2):(n.push(new Qn(s,{})),r++)}return new ut(n,{})}function VA(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=sm(new ut([],{}),0,n))}),t}function dy(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function uy(e,t,i){return e==i.path&&fi(t,i.parameters)}var Ps="imperative",Jt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Jt||{}),Ue=class{constructor(t,i){this.id=t,this.url=i}},no=class extends Ue{constructor(t,i,n="imperative",r=null){super(t,i),this.type=Jt.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Je=class extends Ue{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=Jt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Oe=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Oe||{}),el=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(el||{}),cn=class extends Ue{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=Jt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ln=class extends Ue{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=Jt.NavigationSkipped}},Vs=class extends Ue{constructor(t,i,n,r){super(t,i),this.error=n,this.target=r,this.type=Jt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},il=class extends Ue{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=Jt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},am=class extends Ue{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=Jt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cm=class extends Ue{constructor(t,i,n,r,o){super(t,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=Jt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},lm=class extends Ue{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=Jt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dm=class extends Ue{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=Jt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},um=class{constructor(t){this.route=t,this.type=Jt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hm=class{constructor(t){this.route=t,this.type=Jt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mm=class{constructor(t){this.snapshot=t,this.type=Jt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fm=class{constructor(t){this.snapshot=t,this.type=Jt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pm=class{constructor(t){this.snapshot=t,this.type=Jt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gm=class{constructor(t){this.snapshot=t,this.type=Jt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nl=class{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=Jt.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ls=class{},js=class{constructor(t){this.url=t}};var bm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hs,this.attachRef=null}},Hs=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new bm,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),rl=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=_m(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=_m(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=vm(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return vm(t,this._root).map(i=>i.value)}};function _m(e,t){if(e===t.value)return t;for(let i of t.children){let n=_m(e,i);if(n)return n}return null}function vm(e,t){if(e===t.value)return[t];for(let i of t.children){let n=vm(e,i);if(n.length)return n.unshift(t),n}return[]}var Fe=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function Zr(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var ol=class extends rl{constructor(t,i){super(t),this.snapshot=i,Dm(this,t)}toString(){return this.snapshot.toString()}};function Ry(e){let t=LA(e),i=new Ee([new Qn("",{})]),n=new Ee({}),r=new Ee({}),o=new Ee({}),s=new Ee(""),a=new dn(i,n,o,s,r,Y,e,t.root);return a.snapshot=t.root,new ol(new Fe(a,[]),t)}function LA(e){let t={},i={},n={},r="",o=new zs([],t,n,r,i,Y,e,null,{});return new sl("",new Fe(o,[]))}var dn=class{constructor(t,i,n,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[qs]))??M(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(t=>eo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(t=>eo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sm(e,t,i="emptyOnly"){let n,{routeConfig:r}=e;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:C(C({},t.params),e.params),data:C(C({},t.data),e.data),resolve:C(C(C(C({},e.data),t.data),r?.data),e._resolvedData)}:n={params:C({},e.params),data:C({},e.data),resolve:C(C({},e.data),e._resolvedData??{})},r&&My(r)&&(n.resolve[qs]=r.title),n}var zs=class{get title(){return this.data?.[qs]}constructor(t,i,n,r,o,s,a,c,l){this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=eo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=eo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},sl=class extends rl{constructor(t,i){super(i),this.url=t,Dm(this,i)}toString(){return ky(this._root)}};function Dm(e,t){t.value._routerState=e,t.children.forEach(i=>Dm(e,i))}function ky(e){let t=e.children.length>0?` { ${e.children.map(ky).join(", ")} } `:"";return`${e.value}${t}`}function tm(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,fi(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),fi(t.params,i.params)||e.paramsSubject.next(i.params),mA(t.url,i.url)||e.urlSubject.next(i.url),fi(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ym(e,t){let i=fi(e.params,t.params)&&bA(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||ym(e.parent,t.parent))}function My(e){return typeof e.title=="string"||e.title===null}var Rm=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Y,this.activateEvents=new Rt,this.deactivateEvents=new Rt,this.attachEvents=new Rt,this.detachEvents=new Rt,this.parentContexts=R(Hs),this.location=R($r),this.changeDetector=R(Pe),this.environmentInjector=R(jr),this.inputBinder=R(ul,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new gt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new gt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new gt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new gt(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new wm(n,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ce]});let e=t;return e})(),wm=class{constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n,this.__ngOutletInjector=!0}get(t,i){return t===dn?this.route:t===Hs?this.childContexts:this.parent.get(t,i)}},ul=new N(""),hy=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Vr([r.queryParams,r.params,r.data]).pipe(Ut(([s,a,c],l)=>(c=C(C(C({},s),a),c),l===0?M(c):Promise.resolve(c)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=Av(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of a.inputs)n.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(n,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();function jA(e,t,i){let n=Bs(e,t._root,i?i._root:void 0);return new ol(n,t)}function Bs(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let r=zA(e,t,i);return new Fe(n,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Bs(e,a)),s}}let n=BA(t.value),r=t.children.map(o=>Bs(e,o));return new Fe(n,r)}}function zA(e,t,i){return t.children.map(n=>{for(let r of i.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return Bs(e,n,r);return Bs(e,n)})}function BA(e){return new dn(new Ee(e.url),new Ee(e.params),new Ee(e.queryParams),new Ee(e.fragment),new Ee(e.data),e.outlet,e.component,e)}var Py="ngNavigationCancelingError";function Fy(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=io(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Oy(!1,Oe.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function Oy(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[Py]=!0,i.cancellationCode=t,i}function UA(e){return Ny(e)&&io(e.url)}function Ny(e){return!!e&&e[Py]}var $A=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["ng-component"]],standalone:!0,features:[J],decls:1,vars:0,template:function(r,o){r&1&&nt(0,"router-outlet")},dependencies:[Rm],encapsulation:2});let e=t;return e})();function qA(e,t){return e.providers&&!e._injector&&(e._injector=yh(e.providers,t,`Route: ${e.path}`)),e._injector??t}function km(e){let t=e.children&&e.children.map(km),i=t?ht(C({},e),{children:t}):C({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==Y&&(i.component=$A),i}function pi(e){return e.outlet||Y}function GA(e,t){let i=e.filter(n=>pi(n)===t);return i.push(...e.filter(n=>pi(n)!==t)),i}function Ws(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var HA=(e,t,i,n)=>j(r=>(new xm(t,r.targetRouterState,r.currentRouterState,i,n).activate(e),r)),xm=class{constructor(t,i,n,r,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),tm(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let r=Zr(i);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,i,s.children)}else this.deactivateChildRoutes(t,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=Zr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=Zr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let r=Zr(i);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new gm(o.value.snapshot))}),t.children.length&&this.forwardEvent(new fm(t.value.snapshot))}activateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(tm(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,s.children)}else this.activateChildRoutes(t,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tm(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=Ws(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}},al=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},to=class{constructor(t,i){this.component=t,this.route=i}};function WA(e,t,i){let n=e._root,r=t?t._root:null;return Rs(n,r,i,[n.value])}function KA(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function so(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!av(e)?e:t.get(e):n}function Rs(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zr(t);return e.children.forEach(s=>{QA(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fs(a,i.getContext(s),r)),r}function QA(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=YA(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new al(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Rs(e,t,a?a.children:null,n,r):Rs(e,t,i,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new to(a.outlet.component,s))}else s&&Fs(t,a,r),r.canActivateChecks.push(new al(n)),o.component?Rs(e,null,a?a.children:null,n,r):Rs(e,null,i,n,r);return r}function YA(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!Yn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Yn(e.url,t.url)||!fi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ym(e,t)||!fi(e.queryParams,t.queryParams);case"paramsChange":default:return!ym(e,t)}}function Fs(e,t,i){let n=Zr(e),r=e.value;Object.entries(n).forEach(([o,s])=>{r.component?t?Fs(s,t.children.getContext(o),i):Fs(s,null,i):Fs(s,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new to(t.outlet.component,r)):i.canDeactivateChecks.push(new to(null,r)):i.canDeactivateChecks.push(new to(null,r))}function Ks(e){return typeof e=="function"}function XA(e){return typeof e=="boolean"}function ZA(e){return e&&Ks(e.canLoad)}function JA(e){return e&&Ks(e.canActivate)}function tS(e){return e&&Ks(e.canActivateChild)}function eS(e){return e&&Ks(e.canDeactivate)}function iS(e){return e&&Ks(e.canMatch)}function Vy(e){return e instanceof iv||e?.name==="EmptyError"}var Qc=Symbol("INITIAL_VALUE");function ro(){return Ut(e=>Vr(e.map(t=>t.pipe(ke(1),Oi(Qc)))).pipe(j(t=>{for(let i of t)if(i!==!0){if(i===Qc)return Qc;if(i===!1||i instanceof an)return i}return!0}),Kt(t=>t!==Qc),ke(1)))}function nS(e,t){return Re(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?M(ht(C({},i),{guardsResult:!0})):rS(s,n,r,e).pipe(Re(a=>a&&XA(a)?oS(n,o,e,t):M(a)),j(a=>ht(C({},i),{guardsResult:a})))})}function rS(e,t,i,n){return wt(e).pipe(Re(r=>dS(r.component,r.route,i,t,n)),di(r=>r!==!0,!0))}function oS(e,t,i,n){return wt(t).pipe(nn(r=>Ec(aS(r.route.parent,n),sS(r.route,n),lS(e,r.path,i),cS(e,r.route,i))),di(r=>r!==!0,!0))}function sS(e,t){return e!==null&&t&&t(new pm(e)),M(!0)}function aS(e,t){return e!==null&&t&&t(new mm(e)),M(!0)}function cS(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return M(!0);let r=n.map(o=>uh(()=>{let s=Ws(t)??i,a=so(o,s),c=JA(a)?a.canActivate(t,e):rn(s,()=>a(t,e));return un(c).pipe(di())}));return M(r).pipe(ro())}function lS(e,t,i){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>KA(s)).filter(s=>s!==null).map(s=>uh(()=>{let a=s.guards.map(c=>{let l=Ws(s.node)??i,d=so(c,l),u=tS(d)?d.canActivateChild(n,e):rn(l,()=>d(n,e));return un(u).pipe(di())});return M(a).pipe(ro())}));return M(o).pipe(ro())}function dS(e,t,i,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let c=Ws(t)??r,l=so(a,c),d=eS(l)?l.canDeactivate(e,t,i,n):rn(c,()=>l(e,t,i,n));return un(d).pipe(di())});return M(s).pipe(ro())}function uS(e,t,i,n){let r=t.canLoad;if(r===void 0||r.length===0)return M(!0);let o=r.map(s=>{let a=so(s,e),c=ZA(a)?a.canLoad(t,i):rn(e,()=>a(t,i));return un(c)});return M(o).pipe(ro(),Ly(n))}function Ly(e){return tv(Tt(t=>{if(io(t))throw Fy(e,t)}),j(t=>t===!0))}function hS(e,t,i,n){let r=t.canMatch;if(!r||r.length===0)return M(!0);let o=r.map(s=>{let a=so(s,e),c=iS(a)?a.canMatch(t,i):rn(e,()=>a(t,i));return un(c)});return M(o).pipe(ro(),Ly(n))}var Us=class{constructor(t){this.segmentGroup=t||null}},cl=class extends Error{constructor(t){super(),this.urlTree=t}};function Xr(e){return zn(new Us(e))}function mS(e){return zn(new gt(4e3,!1))}function fS(e){return zn(Oy(!1,Oe.GuardRejected))}var Im=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return M(n);if(r.numberOfChildren>1||!r.children[Y])return mS(t.redirectTo);r=r.children[Y]}}applyRedirectCommands(t,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i.startsWith("/"))throw new cl(r);return r}applyRedirectCreateUrlTree(t,i,n,r){let o=this.createSegmentGroup(t,i.root,n,r);return new an(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[r]=i[a]}else n[r]=o}),n}createSegmentGroup(t,i,n,r){let o=this.createSegments(t,i.segments,n,r),s={};return Object.entries(i.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,n,r)}),new ut(o,s)}createSegments(t,i,n,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,i,n){let r=n[i.path.substring(1)];if(!r)throw new gt(4001,!1);return r}findOrReturn(t,i){let n=0;for(let r of i){if(r.path===t.path)return i.splice(n),r;n++}return t}},Em={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pS(e,t,i,n,r){let o=Mm(e,t,i);return o.matched?(n=qA(t,n),hS(n,t,i,r).pipe(j(s=>s===!0?o:C({},Em)))):M(o)}function Mm(e,t,i){if(t.path==="**")return gS(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?C({},Em):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||hA)(i,e,t);if(!r)return C({},Em);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?C(C({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function gS(e){return{matched:!0,parameters:e.length>0?by(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function my(e,t,i,n){return i.length>0&&vS(e,i,n)?{segmentGroup:new ut(t,_S(n,new ut(i,e.children))),slicedSegments:[]}:i.length===0&&yS(e,i,n)?{segmentGroup:new ut(e.segments,bS(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new ut(e.segments,e.children),slicedSegments:i}}function bS(e,t,i,n){let r={};for(let o of i)if(hl(e,t,o)&&!n[pi(o)]){let s=new ut([],{});r[pi(o)]=s}return C(C({},n),r)}function _S(e,t){let i={};i[Y]=t;for(let n of e)if(n.path===""&&pi(n)!==Y){let r=new ut([],{});i[pi(n)]=r}return i}function vS(e,t,i){return i.some(n=>hl(e,t,n)&&pi(n)!==Y)}function yS(e,t,i){return i.some(n=>hl(e,t,n))}function hl(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function wS(e,t,i,n){return pi(e)!==n&&(n===Y||!hl(t,i,e))?!1:Mm(t,e,i).matched}function xS(e,t,i){return t.length===0&&!e.children[i]}var Cm=class{};function IS(e,t,i,n,r,o,s="emptyOnly"){return new Tm(e,t,i,n,r,s,o).recognize()}var ES=31,Tm=class{constructor(t,i,n,r,o,s,a){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Im(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new gt(4002,`'${t.segmentGroup}'`)}recognize(){let t=my(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(j(i=>{let n=new zs([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,{},Y,this.rootComponentType,null,{}),r=new Fe(n,i),o=new sl("",r),s=kA(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Y).pipe(en(n=>{if(n instanceof cl)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Us?this.noMatchError(n):n}))}inheritParamsAndData(t,i){let n=t.value,r=Sm(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n):this.processSegment(t,i,n,n.segments,r,!0).pipe(j(o=>o instanceof Fe?[o]:[]))}processChildren(t,i,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return wt(r).pipe(nn(o=>{let s=n.children[o],a=GA(i,o);return this.processSegmentGroup(t,a,s,o)}),Lr((o,s)=>(o.push(...s),o)),fh(null),ov(),Re(o=>{if(o===null)return Xr(n);let s=jy(o);return CS(s),M(s)}))}processSegment(t,i,n,r,o,s){return wt(i).pipe(nn(a=>this.processSegmentAgainstRoute(a._injector??t,i,a,n,r,o,s).pipe(en(c=>{if(c instanceof Us)return M(null);throw c}))),di(a=>!!a),en(a=>{if(Vy(a))return xS(n,r,o)?M(new Cm):Xr(n);throw a}))}processSegmentAgainstRoute(t,i,n,r,o,s,a){return wS(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,n,o,s):Xr(r):Xr(r)}expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:d}=Mm(i,r,o);if(!a)return Xr(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ES&&(this.allowRedirects=!1));let u=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,u).pipe(Re(h=>this.processSegment(t,n,i,h.concat(d),s,!1)))}matchSegmentAgainstRoute(t,i,n,r,o){let s=pS(i,n,r,t,this.urlSerializer);return n.path==="**"&&(i.children={}),s.pipe(Ut(a=>a.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(Ut(({routes:c})=>{let l=n._loadedInjector??t,{consumedSegments:d,remainingSegments:u,parameters:h}=a,m=new zs(d,h,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,AS(n),pi(n),n.component??n._loadedComponent??null,n,SS(n)),{segmentGroup:y,slicedSegments:_}=my(i,d,u,c);if(_.length===0&&y.hasChildren())return this.processChildren(l,c,y).pipe(j(V=>V===null?null:new Fe(m,V)));if(c.length===0&&_.length===0)return M(new Fe(m,[]));let x=pi(n)===o;return this.processSegment(l,c,y,_,x?Y:o,!0).pipe(j(V=>new Fe(m,V instanceof Fe?[V]:[])))}))):Xr(i)))}getChildConfig(t,i,n){return i.children?M({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?M({routes:i._loadedRoutes,injector:i._loadedInjector}):uS(t,i,n,this.urlSerializer).pipe(Re(r=>r?this.configLoader.loadChildren(t,i).pipe(Tt(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):fS(i))):M({routes:[],injector:t})}};function CS(e){e.sort((t,i)=>t.value.outlet===Y?-1:i.value.outlet===Y?1:t.value.outlet.localeCompare(i.value.outlet))}function TS(e){let t=e.value.routeConfig;return t&&t.path===""}function jy(e){let t=[],i=new Set;for(let n of e){if(!TS(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):t.push(n)}for(let n of i){let r=jy(n.children);t.push(new Fe(n.value,r))}return t.filter(n=>!i.has(n))}function AS(e){return e.data||{}}function SS(e){return e.resolve||{}}function DS(e,t,i,n,r,o){return Re(s=>IS(e,t,i,n,s.extractedUrl,r,o).pipe(j(({state:a,tree:c})=>ht(C({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function RS(e,t){return Re(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return M(i);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of zy(c))s.add(l);let a=0;return wt(s).pipe(nn(c=>o.has(c)?kS(c,n,e,t):(c.data=Sm(c,c.parent,e).resolve,M(void 0))),Tt(()=>a++),ph(1),Re(c=>a===s.size?M(i):Ji))})}function zy(e){let t=e.children.map(i=>zy(i)).flat();return[e,...t]}function kS(e,t,i,n){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!My(r)&&(o[qs]=r.title),MS(o,e,t,n).pipe(j(s=>(e._resolvedData=s,e.data=Sm(e,e.parent,i).resolve,null)))}function MS(e,t,i,n){let r=nm(e);if(r.length===0)return M({});let o={};return wt(r).pipe(Re(s=>PS(e[s],t,i,n).pipe(di(),Tt(a=>{o[s]=a}))),ph(1),rv(o),en(s=>Vy(s)?Ji:zn(s)))}function PS(e,t,i,n){let r=Ws(t)??n,o=so(e,r),s=o.resolve?o.resolve(t,i):rn(r,()=>o(t,i));return un(s)}function em(e){return Ut(t=>{let i=e(t);return i?wt(i).pipe(j(()=>t)):M(t)})}var By=(()=>{let t=class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Y);return r}getResolvedTitleForRoute(n){return n.data[qs]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>R(FS),providedIn:"root"});let e=t;return e})(),FS=(()=>{let t=class t extends By{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(b(sy))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Qs=new N("",{providedIn:"root",factory:()=>({})}),$s=new N(""),Pm=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(Vc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return M(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=un(n.loadComponent()).pipe(j(Uy),Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Bn(()=>{this.componentLoaders.delete(n)})),o=new lh(r,()=>new yt).pipe(ch());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return M({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=OS(r,this.compiler,n,this.onLoadEndListener).pipe(Bn(()=>{this.childrenLoaders.delete(r)})),a=new lh(s,()=>new yt).pipe(ch());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function OS(e,t,i,n){return un(e.loadChildren()).pipe(j(Uy),Re(r=>r instanceof Iv||Array.isArray(r)?M(r):wt(t.compileModuleAsync(r))),j(r=>{n&&n(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get($s,[],{optional:!0,self:!0}).flat()),{routes:s.map(km),injector:o}}))}function NS(e){return e&&typeof e=="object"&&"default"in e}function Uy(e){return NS(e)?e.default:e}var Fm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>R(VS),providedIn:"root"});let e=t;return e})(),VS=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$y=new N(""),qy=new N("");function LS(e,t,i){let n=e.get(qy),r=e.get(Q);return e.get($).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),jS(e))),{onViewTransitionCreated:c}=n;return c&&rn(e,()=>c({transition:a,from:t,to:i})),s})}function jS(e){return new Promise(t=>{xv(t,{injector:e})})}var Om=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yt,this.transitionAbortSubject=new yt,this.configLoader=R(Pm),this.environmentInjector=R(jr),this.urlSerializer=R(Gs),this.rootContexts=R(Hs),this.location=R(Hn),this.inputBindingEnabled=R(ul,{optional:!0})!==null,this.titleStrategy=R(By),this.options=R(Qs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(Fm),this.createViewTransition=R($y,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let n=o=>this.events.next(new um(o)),r=o=>this.events.next(new hm(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ht(C(C({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new Ee({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ps,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kt(s=>s.id!==0),j(s=>ht(C({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ut(s=>{let a=!1,c=!1;return M(s).pipe(Ut(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Oe.SupersededByNewNavigation),Ji;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ht(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new ln(l.id,this.urlSerializer.serialize(l.rawUrl),h,el.IgnoredSameUrlNavigation)),l.resolve(null),Ji}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return M(l).pipe(Ut(h=>{let m=this.transitions?.getValue();return this.events.next(new no(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?Ji:Promise.resolve(h)}),DS(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Tt(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ht(C({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new il(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:m,source:y,restoredState:_,extras:x}=l,V=new no(h,this.urlSerializer.serialize(m),y,_);this.events.next(V);let q=Ry(this.rootComponentType).snapshot;return this.currentTransition=s=ht(C({},l),{targetSnapshot:q,urlAfterRedirects:m,extras:ht(C({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,M(s)}else{let h="";return this.events.next(new ln(l.id,this.urlSerializer.serialize(l.extractedUrl),h,el.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ji}}),Tt(l=>{let d=new am(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),j(l=>(this.currentTransition=s=ht(C({},l),{guards:WA(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),nS(this.environmentInjector,l=>this.events.next(l)),Tt(l=>{if(s.guardsResult=l.guardsResult,io(l.guardsResult))throw Fy(this.urlSerializer,l.guardsResult);let d=new cm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),Kt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Oe.GuardRejected),!1)),em(l=>{if(l.guards.canActivateChecks.length)return M(l).pipe(Tt(d=>{let u=new lm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),Ut(d=>{let u=!1;return M(d).pipe(RS(this.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",Oe.NoDataFromResolver)}}))}),Tt(d=>{let u=new dm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),em(l=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(Tt(m=>{u.component=m}),j(()=>{})));for(let m of u.children)h.push(...d(m));return h};return Vr(d(l.targetSnapshot.root)).pipe(fh(null),ke(1))}),em(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:l,targetSnapshot:d}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return u?wt(u).pipe(j(()=>s)):M(s)}),j(l=>{let d=jA(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ht(C({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Tt(()=>{this.events.next(new Ls)}),HA(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ke(1),Tt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Je(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Ni(this.transitionAbortSubject.pipe(Tt(l=>{throw l}))),Bn(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Oe.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),en(l=>{if(c=!0,Ny(l))this.events.next(new cn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),UA(l)?this.events.next(new js(l.url)):s.resolve(!1);else{this.events.next(new Vs(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Ji}))}))}cancelNavigationTransition(n,r,o){let s=new cn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function zS(e){return e!==Ps}var BS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>R(US),providedIn:"root"});let e=t;return e})(),Am=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},US=(()=>{let t=class t extends Am{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=on(t)))(o||t)}})(),t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Gy=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:()=>R($S),providedIn:"root"});let e=t;return e})(),$S=(()=>{let t=class t extends Gy{constructor(){super(...arguments),this.location=R(Hn),this.urlSerializer=R(Gs),this.options=R(Qs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(Fm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new an,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ry(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof no)this.stateMemento=this.createStateMemento();else if(n instanceof ln)this.rawUrlTree=r.initialUrl;else if(n instanceof il){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof Ls?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof cn&&(n.code===Oe.GuardRejected||n.code===Oe.NoDataFromResolver)?this.restoreHistory(r):n instanceof Vs?this.restoreHistory(r,!0):n instanceof Je&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=C(C({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=C(C({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=on(t)))(o||t)}})(),t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ks=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ks||{});function Hy(e,t){e.events.pipe(Kt(i=>i instanceof Je||i instanceof cn||i instanceof Vs||i instanceof ln),j(i=>i instanceof Je||i instanceof ln?ks.COMPLETE:(i instanceof cn?i.code===Oe.Redirect||i.code===Oe.SupersededByNewNavigation:!1)?ks.REDIRECTING:ks.FAILED),Kt(i=>i!==ks.REDIRECTING),ke(1)).subscribe(()=>{t()})}function qS(e){throw e}var GS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=R(Oc),this.stateManager=R(Gy),this.options=R(Qs,{optional:!0})||{},this.pendingTasks=R(Ev),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(Om),this.urlSerializer=R(Gs),this.location=R(Hn),this.urlHandlingStrategy=R(Fm),this._events=new yt,this.errorHandler=this.options.errorHandler||qS,this.navigated=!1,this.routeReuseStrategy=R(BS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R($s,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(ul,{optional:!0}),this.eventsSubscription=new Fi,this.isNgZoneEnabled=R($)instanceof $&&$.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof cn&&r.code!==Oe.Redirect&&r.code!==Oe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Je)this.navigated=!0;else if(r instanceof js){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||zS(o.source)};this.scheduleNavigation(a,Ps,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}KS(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=C({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(km),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:a,u=null;switch(c){case"merge":u=C(C({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let m=o?o.snapshot:this.routerState.snapshot.root;h=Ty(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return Ay(h,n,u,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=io(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ps,null,r)}navigate(n,r={skipLocationChange:!1}){return WS(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=C({},GS):r===!1?o=C({},HS):o=r,io(n))return cy(this.currentUrlTree,n,o);let s=this.parseUrl(n);return cy(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((h,m)=>{c=h,l=m});let u=this.pendingTasks.add();return Hy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function WS(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new gt(4008,!1)}function KS(e){return!(e instanceof Ls)&&!(e instanceof js)}var oo=(()=>{let t=class t{constructor(n,r,o,s,a,c){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new yt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof Je&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:vv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,n,r):o.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(r){return new(r||t)(T(Ae),T(dn),Un("tabindex"),T(Ur),T(dt),T(ws))},t.\u0275dir=tt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&xt("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Yt("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[G.HasDecoratorInputTransform,"preserveFragment","preserveFragment",St],skipLocationChange:[G.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",St],replaceUrl:[G.HasDecoratorInputTransform,"replaceUrl","replaceUrl",St],routerLink:"routerLink"},standalone:!0,features:[be,Ce]});let e=t;return e})(),ml=(()=>{let t=class t{get isActive(){return this._isActive}constructor(n,r,o,s,a){this.router=n,this.element=r,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Rt,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof Je&&this.update()})}ngAfterContentInit(){M(this.links.changes,M(null)).pipe(ms()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=wt(n).pipe(ms()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=QS(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?n.isActive(s,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};t.\u0275fac=function(r){return new(r||t)(T(Ae),T(dt),T(Ur),T(Pe),T(oo,8))},t.\u0275dir=tt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,s){if(r&1&&Gn(s,oo,5),r&2){let a;Ye(a=Xe())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ce]});let e=t;return e})();function QS(e){return!!e.paths}var ll=class{};var YS=(()=>{let t=class t{constructor(n,r,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Kt(n=>n instanceof Je),nn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=yh(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return wt(o).pipe(ms())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=M(null);let s=o.pipe(Re(a=>a===null?M(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return wt([s,a]).pipe(ms())}else return s})}};t.\u0275fac=function(r){return new(r||t)(b(Ae),b(Vc),b(jr),b(ll),b(Pm))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Wy=new N(""),XS=(()=>{let t=class t{constructor(n,r,o,s,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof no?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Je?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ln&&n.code===el.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof nl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){qn()},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})();function Ky(e,...t){return bs([{provide:$s,multi:!0,useValue:e},[],{provide:dn,useFactory:Qy,deps:[Ae]},{provide:Dh,multi:!0,useFactory:Yy},t.map(i=>i.\u0275providers)])}function Qy(e){return e.routerState.root}function Ys(e,t){return{\u0275kind:e,\u0275providers:t}}function Yy(){let e=R(ge);return t=>{let i=e.get(Hr);if(t!==i.components[0])return;let n=e.get(Ae),r=e.get(Xy);e.get(Nm)===1&&n.initialNavigation(),e.get(Zy,null,bh.Optional)?.setUpPreloading(),e.get(Wy,null,bh.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Xy=new N("",{factory:()=>new yt}),Nm=new N("",{providedIn:"root",factory:()=>1});function ZS(){return Ys(2,[{provide:Nm,useValue:0},{provide:Sh,multi:!0,deps:[ge],useFactory:t=>{let i=t.get(Rv,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=t.get(Ae),o=t.get(Xy);Hy(r,()=>{n(!0)}),t.get(Om).afterPreactivation=()=>(n(!0),o.closed?M(void 0):o),r.initialNavigation()}))}}])}function JS(){return Ys(3,[{provide:Sh,multi:!0,useFactory:()=>{let t=R(Ae);return()=>{t.setUpLocationChangeListener()}}},{provide:Nm,useValue:2}])}var Zy=new N("");function tD(e){return Ys(0,[{provide:Zy,useExisting:YS},{provide:ll,useExisting:e}])}function eD(){return Ys(8,[hy,{provide:ul,useExisting:hy}])}function iD(e){let t=[{provide:$y,useValue:LS},{provide:qy,useValue:C({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ys(9,t)}var fy=new N("ROUTER_FORROOT_GUARD"),nD=[Hn,{provide:Gs,useClass:Os},Ae,Hs,{provide:dn,useFactory:Qy,deps:[Ae]},Pm,[]],hn=(()=>{let t=class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[nD,[],{provide:$s,multi:!0,useValue:n},{provide:fy,useFactory:aD,deps:[[Ae,new re,new _h]]},{provide:Qs,useValue:r||{}},r?.useHash?oD():sD(),rD(),r?.preloadingStrategy?tD(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?cD(r):[],r?.bindToComponentInputs?eD().\u0275providers:[],r?.enableViewTransitions?iD().\u0275providers:[],lD()]}}static forChild(n){return{ngModule:t,providers:[{provide:$s,multi:!0,useValue:n}]}}};t.\u0275fac=function(r){return new(r||t)(b(fy,8))},t.\u0275mod=U({type:t}),t.\u0275inj=B({});let e=t;return e})();function rD(){return{provide:Wy,useFactory:()=>{let e=R(Vv),t=R($),i=R(Qs),n=R(Om),r=R(Gs);return i.scrollOffset&&e.setOffset(i.scrollOffset),new XS(r,n,e,t,i)}}}function oD(){return{provide:ws,useClass:Mv}}function sD(){return{provide:ws,useClass:kv}}function aD(e){return"guarded"}function cD(e){return[e.initialNavigation==="disabled"?JS().\u0275providers:[],e.initialNavigation==="enabledBlocking"?ZS().\u0275providers:[]]}var py=new N("");function lD(){return[{provide:py,useFactory:Yy},{provide:Dh,multi:!0,useExisting:py}]}var Lm;try{Lm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Lm=!1}var Mt=(()=>{let t=class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Nv(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Lm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(b(Te))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Xs;function dD(){if(Xs==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Xs=!0}))}finally{Xs=Xs||!1}return Xs}function ao(e){return dD()?e:!!e.capture}var Xn;function Jy(){if(Xn==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Xn=!1,Xn;if("scrollBehavior"in document.documentElement.style)Xn=!0;else{let e=Element.prototype.scrollTo;e?Xn=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Xn=!1}}return Xn}var Vm;function uD(){if(Vm==null){let e=typeof document<"u"?document.head:null;Vm=!!(e&&(e.createShadowRoot||e.attachShadow))}return Vm}function t0(e){if(uD()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ti(e){return e.composedPath?e.composedPath()[0]:e.target}function Zs(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function co(e){return Array.isArray(e)?e:[e]}function Vt(e){return e==null?"":typeof e=="string"?e:`${e}px`}function ji(e){return e instanceof dt?e.nativeElement:e}var hD=(()=>{let t=class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var e0=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({providers:[hD]});let e=t;return e})();var i0=new Set,Jn,mD=(()=>{let t=class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pD}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&fD(n,this._nonce),this._matchMedia(n)}};t.\u0275fac=function(r){return new(r||t)(b(Mt),b(_s,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function fD(e,t){if(!i0.has(e))try{Jn||(Jn=document.createElement("style"),t&&Jn.setAttribute("nonce",t),Jn.setAttribute("type","text/css"),document.head.appendChild(Jn)),Jn.sheet&&(Jn.sheet.insertRule(`@media ${e} {body{ }}`,0),i0.add(e))}catch(i){console.error(i)}}function pD(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var r0=(()=>{let t=class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new yt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return n0(co(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=n0(co(n)).map(a=>this._registerQuery(a).observable),s=Vr(o);return s=Ec(s.pipe(ke(1)),s.pipe(Sc(1),mh(0))),s.pipe(j(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:d})=>{c.matches=c.matches||l,c.breakpoints[d]=l}),c}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new De(a=>{let c=l=>this._zone.run(()=>a.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Oi(r),j(({matches:a})=>({query:n,matches:a})),Ni(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};t.\u0275fac=function(r){return new(r||t)(b(mD),b($))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function n0(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}function zm(e){return e.buttons===0||e.detail===0}function Bm(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var bD=new N("cdk-input-modality-detector-options"),_D={ignoreKeys:[18,17,224,91,16]},a0=650,lo=ao({passive:!0,capture:!0}),vD=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Ee(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ti(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<a0||(this._modality.next(zm(a)?"keyboard":"mouse"),this._mostRecentTarget=ti(a))},this._onTouchstart=a=>{if(Bm(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ti(a)},this._options=C(C({},_D),s),this.modalityDetected=this._modality.pipe(Sc(1)),this.modalityChanged=this.modalityDetected.pipe(fs()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,lo),o.addEventListener("mousedown",this._onMousedown,lo),o.addEventListener("touchstart",this._onTouchstart,lo)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,lo),document.removeEventListener("mousedown",this._onMousedown,lo),document.removeEventListener("touchstart",this._onTouchstart,lo))}};t.\u0275fac=function(r){return new(r||t)(b(Mt),b($),b(Q),b(bD,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var gl=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(gl||{}),yD=new N("cdk-focus-monitor-default-options"),pl=ao({passive:!0,capture:!0}),bl=(()=>{let t=class t{constructor(n,r,o,s,a){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new yt,this._rootNodeFocusAndBlurListener=c=>{let l=ti(c);for(let d=l;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=s,this._detectionMode=a?.detectionMode||gl.IMMEDIATE}monitor(n,r=!1){let o=ji(n);if(!this._platform.isBrowser||o.nodeType!==1)return M();let s=t0(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new yt,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(n){let r=ji(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=ji(n),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,r,l)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===gl.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===gl.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?a0:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=ti(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,pl),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,pl)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ni(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pl),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pl),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(b($),b(Mt),b(vD),b(Q,8),b(yD,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var tr=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(tr||{}),o0="cdk-high-contrast-black-on-white",s0="cdk-high-contrast-white-on-black",jm="cdk-high-contrast-active",c0=(()=>{let t=class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=R(r0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return tr.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return tr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return tr.BLACK_ON_WHITE}return tr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(jm,o0,s0),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===tr.BLACK_ON_WHITE?n.add(jm,o0):r===tr.WHITE_ON_BLACK&&n.add(jm,s0)}}};t.\u0275fac=function(r){return new(r||t)(b(Mt),b(Q))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var wD=new N("cdk-dir-doc",{providedIn:"root",factory:xD});function xD(){return R(Q)}var ID=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ED(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?ID.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var d0=(()=>{let t=class t{constructor(n){if(this.value="ltr",this.change=new Rt,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=ED(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(b(wD,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var mn=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({});let e=t;return e})();var AD=["mat-internal-form-field",""],SD=["*"];function DD(){return!0}var RD=new N("mat-sanity-checks",{providedIn:"root",factory:DD}),pt=(()=>{let t=class t{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return Zs()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};t.\u0275fac=function(r){return new(r||t)(b(c0),b(RD,8),b(Q))},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[mn,mn]});let e=t;return e})();var Wm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[pt,pt]});let e=t;return e})(),$e=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}($e||{}),qm=class{constructor(t,i,n,r=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=$e.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},u0=ao({passive:!0,capture:!0}),Gm=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let i=ti(t);i&&this._events.get(t.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,u0)})}removeHandler(t,i,n){let r=this._events.get(t);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,u0)))}},h0={enterDuration:225,exitDuration:150},kD=800,m0=ao({passive:!0,capture:!0}),f0=["mousedown","touchstart"],p0=["mouseup","mouseleave","touchend","touchcancel"],Js=class Js{constructor(t,i,n,r){this._target=t,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ji(n))}fadeInRipple(t,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=C(C({},h0),n.animation);n.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||MD(t,i,r),a=t-r.left,c=i-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,m=u.transitionDuration,y=h==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,_=new qm(this,d,n,y);d.style.transform="scale3d(1, 1, 1)",_.state=$e.FADING_IN,n.persistent||(this._mostRecentTransientRipple=_);let x=null;return!y&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let V=()=>this._finishRippleTransition(_),q=()=>this._destroyRipple(_);d.addEventListener("transitionend",V),d.addEventListener("transitioncancel",q),x={onTransitionEnd:V,onTransitionCancel:q}}),this._activeRipples.set(_,x),(y||!l)&&this._finishRippleTransition(_),_}fadeOutRipple(t){if(t.state===$e.FADING_OUT||t.state===$e.HIDDEN)return;let i=t.element,n=C(C({},h0),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=$e.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=ji(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,f0.forEach(n=>{Js._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{p0.forEach(i=>{this._triggerElement.addEventListener(i,this,m0)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===$e.FADING_IN?this._startFadeOutTransition(t):t.state===$e.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=$e.VISIBLE,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=$e.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){let i=zm(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+kD;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Bm(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===$e.VISIBLE||t.config.terminateOnPointerUp&&t.state===$e.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(f0.forEach(i=>Js._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&p0.forEach(i=>t.removeEventListener(i,this,m0)))}};Js._eventManager=new Gm;var Hm=Js;function MD(e,t,i){let n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+r*r)}var v0=new N("mat-ripple-global-options"),vl=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,a){this._elementRef=n,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Hm(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:C(C(C({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,C(C({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,C(C({},this.rippleConfig),n))}};t.\u0275fac=function(r){return new(r||t)(T(dt),T($),T(Mt),T(v0,8),T(Be,8))},t.\u0275dir=tt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&At("mat-ripple-unbounded",o.unbounded)},inputs:{color:[G.None,"matRippleColor","color"],unbounded:[G.None,"matRippleUnbounded","unbounded"],centered:[G.None,"matRippleCentered","centered"],radius:[G.None,"matRippleRadius","radius"],animation:[G.None,"matRippleAnimation","animation"],disabled:[G.None,"matRippleDisabled","disabled"],trigger:[G.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),yl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[pt,pt]});let e=t;return e})();var g0={capture:!0},b0=["focus","click","mouseenter","touchstart"],Um="mat-ripple-loader-uninitialized",$m="mat-ripple-loader-class-name",_0="mat-ripple-loader-centered",_l="mat-ripple-loader-disabled",y0=(()=>{let t=class t{constructor(){this._document=R(Q,{optional:!0}),this._animationMode=R(Be,{optional:!0}),this._globalRippleOptions=R(v0,{optional:!0}),this._platform=R(Mt),this._ngZone=R($),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;let o=n.target.closest(`[${Um}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let n of b0)this._document?.addEventListener(n,this._onInteraction,g0)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of b0)this._document?.removeEventListener(r,this._onInteraction,g0)}configureRipple(n,r){n.setAttribute(Um,""),(r.className||!n.hasAttribute($m))&&n.setAttribute($m,r.className||""),r.centered&&n.setAttribute(_0,""),r.disabled&&n.setAttribute(_l,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute(_l,""):n.removeAttribute(_l)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute($m)),n.append(o);let s=new vl(new dt(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(_0),s.disabled=n.hasAttribute(_l),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(Um),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),w0=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){r&2&&At("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[J],attrs:AD,ngContentSelectors:SD,decls:1,vars:0,template:function(r,o){r&1&&(Zt(),It(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0});let e=t;return e})();var PD=["*"];var FD=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],OD=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],ND=new N("MAT_CARD_CONFIG"),fn=(()=>{let t=class t{constructor(n){this.appearance=n?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(T(ND,8))},t.\u0275cmp=Z({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&At("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[J],ngContentSelectors:PD,decls:1,vars:0,template:function(r,o){r&1&&(Zt(),It(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})(),gi=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let e=t;return e})();var bi=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})();var wl=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,o){r&2&&At("mat-mdc-card-actions-align-end",o.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let e=t;return e})(),uo=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[J],ngContentSelectors:OD,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(Zt(FD),It(0),I(1,"div",0),It(2,1),E(),It(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})();var xl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let e=t;return e})();var qe=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[pt,_e,pt]});let e=t;return e})();var x0=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-home"]],standalone:!0,features:[J],decls:34,vars:0,consts:[[1,"titulo"],[1,"card-container"],[1,"card"],["mat-card-image","","src","\\assets\\Imagenes\\juego-ahorcado.png","alt","Imagen 1"],["mat-card-title",""],[1,"card-actions"],["mat-button","","routerLink","ahorcado","routerLinkActive","active-route",1,"custom-button"],["mat-card-image","","src","\\assets\\Imagenes\\juego-mayoromenor.jpg","alt","Imagen 2"],["mat-button","","routerLink","mayoromenor","routerLinkActive","active-route",1,"custom-button"],["mat-card-image","","src","\\assets\\Imagenes\\card-preguntadobanderas.jpg","alt","Imagen 3"],["mat-button","","routerLink","Preguntados","routerLinkActive","active-route",1,"custom-button"]],template:function(r,o){r&1&&(I(0,"header",0)(1,"h1"),F(2,"Bienvenidos a la sala de juegos"),E()(),I(3,"div",1)(4,"mat-card",2),nt(5,"img",3),I(6,"mat-card-content")(7,"h2",4),F(8,"Ahorcado"),E(),I(9,"p"),F(10,"\xA1Juega al Ahorcado! Tu objetivo: descubrir la palabra secreta antes de que se complete el ahorcado. \xBFTe sientes preparado para el desaf\xEDo?"),E()(),I(11,"mat-card-actions",5)(12,"button",6),F(13,"Juegar ahora"),E()()(),I(14,"mat-card",2),nt(15,"img",7),I(16,"mat-card-content")(17,"h2",4),F(18,"Mayor o Menor"),E(),I(19,"p"),F(20,"\xA1Juega a Mayor o Menor! Adivina si el siguiente n\xFAmero es mayor o menor. \xBFEst\xE1s listo para desafiar tus habilidades num\xE9ricas?"),E()(),I(21,"mat-card-actions",5)(22,"button",8),F(23,"Juegar ahora"),E()()(),I(24,"mat-card",2),nt(25,"img",9),I(26,"mat-card-content")(27,"h2",4),F(28,"Preguntados"),E(),I(29,"p"),F(30,"\xBFCu\xE1nto sabes de banderas? Adivina la bandera correcta y demuestra tus conocimientos. \xBFTe atreves a aceptar el desaf\xEDo?"),E()(),I(31,"mat-card-actions",5)(32,"button",10),F(33,"Juegar ahora"),E()()()())},dependencies:[qe,fn,wl,bi,xl,gi,hn,oo,ml],styles:['header[_ngcontent-%COMP%]{background-color:#112e57;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}.card-container[_ngcontent-%COMP%]{padding:50px;display:flex;justify-content:space-between;background-color:#828dee}.card[_ngcontent-%COMP%]{width:calc(33.33% - 10px);margin-right:10px}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:220px;object-fit:cover}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.custom-button[_ngcontent-%COMP%]{background-color:#6369bb;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;width:100%}.custom-button[_ngcontent-%COMP%]:hover{background-color:#9627c6}']});let e=t;return e})();var Il=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[pt,_e,e0,pt]});let e=t;return e})();var k0=(()=>{let t=class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(r){return new(r||t)(T(Ur),T(dt))},t.\u0275dir=tt({type:t});let e=t;return e})(),VD=(()=>{let t=class t extends k0{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=on(t)))(o||t)}})(),t.\u0275dir=tt({type:t,features:[oe]});let e=t;return e})(),oa=new N("");var LD={provide:oa,useExisting:Vi(()=>po),multi:!0};function jD(){let e=Wr()?Wr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var zD=new N(""),po=(()=>{let t=class t extends k0{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!jD())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(r){return new(r||t)(T(Ur),T(dt),T(zD,8))},t.\u0275dir=tt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&xt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[de([LD]),oe]});let e=t;return e})();function pn(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function M0(e){return e!=null&&typeof e.length=="number"}var ir=new N(""),Ml=new N(""),BD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,gn=class{static min(t){return UD(t)}static max(t){return $D(t)}static required(t){return P0(t)}static requiredTrue(t){return qD(t)}static email(t){return GD(t)}static minLength(t){return HD(t)}static maxLength(t){return WD(t)}static pattern(t){return KD(t)}static nullValidator(t){return Cl(t)}static compose(t){return j0(t)}static composeAsync(t){return z0(t)}};function UD(e){return t=>{if(pn(t.value)||pn(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function $D(e){return t=>{if(pn(t.value)||pn(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function P0(e){return pn(e.value)?{required:!0}:null}function qD(e){return e.value===!0?null:{required:!0}}function GD(e){return pn(e.value)||BD.test(e.value)?null:{email:!0}}function HD(e){return t=>pn(t.value)||!M0(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function WD(e){return t=>M0(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function KD(e){if(!e)return Cl;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(pn(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function Cl(e){return null}function F0(e){return e!=null}function O0(e){return Nc(e)?wt(e):e}function N0(e){let t={};return e.forEach(i=>{t=i!=null?C(C({},t),i):t}),Object.keys(t).length===0?null:t}function V0(e,t){return t.map(i=>i(e))}function QD(e){return!e.validate}function L0(e){return e.map(t=>QD(t)?t:i=>t.validate(i))}function j0(e){if(!e)return null;let t=e.filter(F0);return t.length==0?null:function(i){return N0(V0(i,t))}}function Xm(e){return e!=null?j0(L0(e)):null}function z0(e){if(!e)return null;let t=e.filter(F0);return t.length==0?null:function(i){let n=V0(i,t).map(O0);return Cc(n).pipe(j(N0))}}function Zm(e){return e!=null?z0(L0(e)):null}function I0(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function B0(e){return e._rawValidators}function U0(e){return e._rawAsyncValidators}function Km(e){return e?Array.isArray(e)?e:[e]:[]}function Tl(e,t){return Array.isArray(e)?e.includes(t):e===t}function E0(e,t){let i=Km(t);return Km(e).forEach(r=>{Tl(i,r)||i.push(r)}),i}function C0(e,t){return Km(t).filter(i=>!Tl(e,i))}var Al=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Zm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},zi=class extends Al{get formDirective(){return null}get path(){return null}},er=class extends Al{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Sl=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},YD={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oL=ht(C({},YD),{"[class.ng-submitted]":"isSubmitted"}),Pl=(()=>{let t=class t extends Sl{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(T(er,2))},t.\u0275dir=tt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&At("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[oe]});let e=t;return e})(),Fl=(()=>{let t=class t extends Sl{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(T(zi,10))},t.\u0275dir=tt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&At("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[oe]});let e=t;return e})();var ea="VALID",El="INVALID",ho="PENDING",ia="DISABLED";function Jm(e){return(Ol(e)?e.validators:e)||null}function XD(e){return Array.isArray(e)?Xm(e):e||null}function tf(e,t){return(Ol(t)?t.asyncValidators:e)||null}function ZD(e){return Array.isArray(e)?Zm(e):e||null}function Ol(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function $0(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new gt(1e3,"");if(!n[i])throw new gt(1001,"")}function q0(e,t,i){e._forEachChild((n,r)=>{if(i[r]===void 0)throw new gt(1002,"")})}var mo=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ea}get invalid(){return this.status===El}get pending(){return this.status==ho}get disabled(){return this.status===ia}get enabled(){return this.status!==ia}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(E0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(E0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(C0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(C0(t,this._rawAsyncValidators))}hasValidator(t){return Tl(this._rawValidators,t)}hasAsyncValidator(t){return Tl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ho,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=ia,this.errors=null,this._forEachChild(n=>{n.disable(ht(C({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ht(C({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=ea,this._forEachChild(n=>{n.enable(ht(C({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ht(C({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ea||this.status===ho)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ia:ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ho,this._hasOwnPendingAsyncValidator=!0;let i=O0(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Rt,this.statusChanges=new Rt}_calculateStatus(){return this._allControlsDisabled()?ia:this.errors?El:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ho)?ho:this._anyControlsHaveStatus(El)?El:ea}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ol(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=XD(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ZD(this._rawAsyncValidators)}},fo=class extends mo{constructor(t,i,n){super(Jm(i),tf(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){q0(this,!0,t),Object.keys(t).forEach(n=>{$0(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Qm=class extends fo{};var sa=new N("CallSetDisabledState",{providedIn:"root",factory:()=>Nl}),Nl="always";function G0(e,t){return[...t.path,e]}function Dl(e,t,i=Nl){ef(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),tR(e,t),iR(e,t),eR(e,t),JD(e,t)}function T0(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),kl(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Rl(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function JD(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function ef(e,t){let i=B0(e);t.validator!==null?e.setValidators(I0(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=U0(e);t.asyncValidator!==null?e.setAsyncValidators(I0(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();Rl(t._rawValidators,r),Rl(t._rawAsyncValidators,r)}function kl(e,t){let i=!1;if(e!==null){if(t.validator!==null){let r=B0(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(i=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=U0(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(i=!0,e.setAsyncValidators(o))}}}let n=()=>{};return Rl(t._rawValidators,n),Rl(t._rawAsyncValidators,n),i}function tR(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&H0(e,t)})}function eR(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&H0(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function H0(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function iR(e,t){let i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function W0(e,t){e==null,ef(e,t)}function nR(e,t){return kl(e,t)}function K0(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function rR(e){return Object.getPrototypeOf(e.constructor)===VD}function Q0(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Y0(e,t){if(!t)return null;Array.isArray(t);let i,n,r;return t.forEach(o=>{o.constructor===po?i=o:rR(o)?n=o:r=o}),r||n||i||null}function oR(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var sR={provide:zi,useExisting:Vi(()=>nf)},na=Promise.resolve(),nf=(()=>{let t=class t extends zi{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Rt,this.form=new fo({},Xm(n),Zm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){na.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Dl(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){na.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){na.then(()=>{let r=this._findContainer(n.path),o=new fo({});W0(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){na.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){na.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,Q0(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};t.\u0275fac=function(r){return new(r||t)(T(ir,10),T(Ml,10),T(sa,8))},t.\u0275dir=tt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&xt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[G.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[de([sR]),oe]});let e=t;return e})();function A0(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function S0(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var ra=class extends mo{constructor(t=null,i,n){super(Jm(i),tf(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ol(i)&&(i.nonNullable||i.initialValueIsDefault)&&(S0(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){A0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){A0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){S0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var aR=e=>e instanceof ra;var cR={provide:er,useExisting:Vi(()=>rf)},D0=Promise.resolve(),rf=(()=>{let t=class t extends er{constructor(n,r,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new ra,this._registered=!1,this.name="",this.update=new Rt,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Y0(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),K0(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Dl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){D0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&St(r);D0.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?G0(n,this._parent):[n]}};t.\u0275fac=function(r){return new(r||t)(T(zi,9),T(ir,10),T(Ml,10),T(oa,10),T(Pe,8),T(sa,8))},t.\u0275dir=tt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[G.None,"disabled","isDisabled"],model:[G.None,"ngModel","model"],options:[G.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[de([cR]),oe,Ce]});let e=t;return e})(),Vl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})();var X0=new N("");var lR={provide:zi,useExisting:Vi(()=>of)},of=(()=>{let t=class t extends zi{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Rt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Dl(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){T0(n.control||null,n,!1),oR(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,Q0(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(T0(r||null,n),aR(o)&&(Dl(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);W0(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&nR(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ef(this.form,this),this._oldForm&&kl(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(r){return new(r||t)(T(ir,10),T(Ml,10),T(sa,8))},t.\u0275dir=tt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&xt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[G.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[de([lR]),oe,Ce]});let e=t;return e})();var dR={provide:er,useExisting:Vi(()=>sf)},sf=(()=>{let t=class t extends er{set isDisabled(n){}constructor(n,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Rt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Y0(this,s)}ngOnChanges(n){this._added||this._setUpControl(),K0(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return G0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(T(zi,13),T(ir,10),T(Ml,10),T(oa,10),T(X0,8))},t.\u0275dir=tt({type:t,selectors:[["","formControlName",""]],inputs:{name:[G.None,"formControlName","name"],isDisabled:[G.None,"disabled","isDisabled"],model:[G.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[de([dR]),oe,Ce]});let e=t;return e})();var uR=(()=>{let t=class t{constructor(){this._validator=Cl}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cl,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,features:[Ce]});let e=t;return e})();var hR={provide:ir,useExisting:Vi(()=>af),multi:!0};var af=(()=>{let t=class t extends uR{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=St,this.createValidator=n=>P0}enabled(n){return n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=on(t)))(o||t)}})(),t.\u0275dir=tt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Yt("required",o._enabled?"":null)},inputs:{required:"required"},features:[de([hR]),oe]});let e=t;return e})();var Z0=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({});let e=t;return e})(),Ym=class extends mo{constructor(t,i,n){super(Jm(i),tf(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){q0(this,!1,t),t.forEach((n,r)=>{$0(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function R0(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var J0=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),s={};return R0(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new fo(o,s)}record(n,r=null){let o=this._reduceControls(n);return new Qm(o,r)}control(n,r,o){let s={};return this.useNonNullable?(R0(r)?s=r:(s.validators=r,s.asyncValidators=o),new ra(n,ht(C({},s),{nonNullable:!0}))):new ra(n,r,o)}array(n,r,o){let s=n.map(a=>this._createControl(a));return new Ym(s,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof ra)return n;if(n instanceof mo)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,o,s)}else return this.control(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var go=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:sa,useValue:n.callSetDisabledState??Nl}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[Z0]});let e=t;return e})(),tw=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:X0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:sa,useValue:n.callSetDisabledState??Nl}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[Z0]});let e=t;return e})();var iw=(()=>{let t=class t{constructor(n){this.router=n,this.email="",this.password=""}logearte(){console.log(this.email,this.password)}usuarioRegistrado(){this.email="sol993@utn.com",this.password="123456"}registro(){this.router.navigate(["registro"])}};t.\u0275fac=function(r){return new(r||t)(T(Ae))},t.\u0275cmp=Z({type:t,selectors:[["app-login"]],standalone:!0,features:[J],decls:19,vars:2,consts:[["id","login_form","action","login/login-access.php","method","post",1,"form_class"],[1,"form_div"],["name","login_txt","type","text","placeholder","Ingresa tu email","autofocus","",1,"field_class",3,"ngModelChange","ngModel"],["id","pass","name","password_txt","type","password","placeholder","Ingresa tu contrase\xF1a",1,"field_class",3,"ngModelChange","ngModel"],["type","submit","form","login_form",1,"submit_class",3,"click"],[1,"btn_usuarioregistrado",3,"click"],["type","submit",1,"btn_usuarioregistrado",3,"click"]],template:function(r,o){r&1&&(I(0,"body")(1,"header")(2,"h1"),F(3,"Ingresa a tu cuenta"),E()(),I(4,"main")(5,"form",0)(6,"div",1)(7,"label"),F(8,"Email:"),E(),I(9,"input",2),Th("ngModelChange",function(a){return Ch(o.email,a)||(o.email=a),a}),E(),I(10,"label"),F(11,"Contrase\xF1a:"),E(),I(12,"input",3),Th("ngModelChange",function(a){return Ch(o.password,a)||(o.password=a),a}),E(),I(13,"button",4),xt("click",function(){return o.logearte()}),F(14,"Ingresar"),E(),I(15,"button",5),xt("click",function(){return o.registro()}),F(16,"Registrate aqu\xED"),E(),I(17,"button",6),xt("click",function(){return o.usuarioRegistrado()}),F(18,"Usuario registrado"),E()()()()()),r&2&&(it(9),Eh("ngModel",o.email),it(3),Eh("ngModel",o.password))},dependencies:[_e,go,Vl,po,Pl,Fl,rf,nf,qe,Il,hn],styles:['*[_ngcontent-%COMP%]{padding:0;margin:0}body[_ngcontent-%COMP%]{background-color:#516cb5}header[_ngcontent-%COMP%]{background-color:#112e57;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:87vh;width:100%;background:url(/assets/Imagenes/login-fondo.png) no-repeat center center;background-size:cover}.form_class[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d}.form_div[_ngcontent-%COMP%]{text-transform:uppercase}.form_div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{letter-spacing:3px;font-size:1rem}.field_class[_ngcontent-%COMP%]{width:100%;border-radius:6px;border-style:solid;border-width:1px;padding:5px 0;text-indent:6px;margin-top:10px;margin-bottom:20px;font-family:"system-ui";font-size:.9rem;letter-spacing:2px}.submit_class[_ngcontent-%COMP%], .btn_usuarioregistrado[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#a1a0d8;color:#fff;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer;width:40%}.btn_usuarioregistrado[_ngcontent-%COMP%]:hover, .submit_class[_ngcontent-%COMP%]:hover{background-color:#9627c6}']});let e=t;return e})();var nw=["mat-button",""],rw=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],ow=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],mR='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',fR=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var pR=new N("MAT_BUTTON_CONFIG");var gR=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],sw=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=R(bl),this._rippleLoader=R(y0),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=R(pR,{optional:!0}),c=n.nativeElement,l=c.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(c,{className:"mat-mdc-button-ripple"});for(let{attribute:d,mdcClasses:u}of gR)c.hasAttribute(d)&&l.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){qn()},t.\u0275dir=tt({type:t,inputs:{color:"color",disableRipple:[G.HasDecoratorInputTransform,"disableRipple","disableRipple",St],disabled:[G.HasDecoratorInputTransform,"disabled","disabled",St],ariaDisabled:[G.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",St],disabledInteractive:[G.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",St]},features:[be]});let e=t;return e})();var bR=(()=>{let t=class t extends sw{constructor(n,r,o,s){super(n,r,o,s),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled==null?this.disabled:this.ariaDisabled}};t.\u0275fac=function(r){qn()},t.\u0275dir=tt({type:t,inputs:{tabIndex:[G.HasDecoratorInputTransform,"tabIndex","tabIndex",n=>n==null?void 0:Lc(n)]},features:[be,oe]});let e=t;return e})(),aw=(()=>{let t=class t extends sw{constructor(n,r,o,s){super(n,r,o,s)}};t.\u0275fac=function(r){return new(r||t)(T(dt),T(Mt),T($),T(Be,8))},t.\u0275cmp=Z({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Yt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ui(o.color?"mat-"+o.color:""),At("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[oe,J],attrs:nw,ngContentSelectors:ow,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Zt(rw),nt(0,"span",0),It(1),I(2,"span",1),It(3,1),E(),It(4,2),nt(5,"span",2)(6,"span",3)),r&2&&At("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),cw=(()=>{let t=class t extends bR{constructor(n,r,o,s){super(n,r,o,s)}};t.\u0275fac=function(r){return new(r||t)(T(dt),T(Mt),T($),T(Be,8))},t.\u0275cmp=Z({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,o){r&2&&(Yt("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getDisabledAttribute()),ui(o.color?"mat-"+o.color:""),At("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[oe,J],attrs:nw,ngContentSelectors:ow,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Zt(rw),nt(0,"span",0),It(1),I(2,"span",1),It(3,1),E(),It(4,2),nt(5,"span",2)(6,"span",3)),r&2&&At("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[mR,fR],encapsulation:2,changeDetection:0});let e=t;return e})();var Ll=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[pt,yl,pt]});let e=t;return e})();var _R=["*"],jl;function vR(){if(jl===void 0&&(jl=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(jl=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return jl}function aa(e){return vR()?.createHTML(e)||e}function dw(e){return Error(`Unable to find icon with the name "${e}"`)}function yR(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function uw(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function hw(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}var Bi=class{constructor(t,i,n){this.url=t,this.svgText=i,this.options=n}},wR=(()=>{let t=class t{constructor(n,r,o,s){this._httpClient=n,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(n,r,o){return this.addSvgIconInNamespace("",n,r,o)}addSvgIconLiteral(n,r,o){return this.addSvgIconLiteralInNamespace("",n,r,o)}addSvgIconInNamespace(n,r,o,s){return this._addSvgIconConfig(n,r,new Bi(o,null,s))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,r,o,s){let a=this._sanitizer.sanitize(Me.HTML,o);if(!a)throw hw(o);let c=aa(a);return this._addSvgIconConfig(n,r,new Bi("",c,s))}addSvgIconSet(n,r){return this.addSvgIconSetInNamespace("",n,r)}addSvgIconSetLiteral(n,r){return this.addSvgIconSetLiteralInNamespace("",n,r)}addSvgIconSetInNamespace(n,r,o){return this._addSvgIconSetConfig(n,new Bi(r,null,o))}addSvgIconSetLiteralInNamespace(n,r,o){let s=this._sanitizer.sanitize(Me.HTML,r);if(!s)throw hw(r);let a=aa(s);return this._addSvgIconSetConfig(n,new Bi("",a,o))}registerFontClassAlias(n,r=n){return this._fontCssClassesByAlias.set(n,r),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let r=this._sanitizer.sanitize(Me.RESOURCE_URL,n);if(!r)throw uw(n);let o=this._cachedIconsByUrl.get(r);return o?M(zl(o)):this._loadSvgIconFromConfig(new Bi(n,null)).pipe(Tt(s=>this._cachedIconsByUrl.set(r,s)),j(s=>zl(s)))}getNamedSvgIcon(n,r=""){let o=mw(r,n),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,n),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(n,a):zn(dw(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?M(zl(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(j(r=>zl(r)))}_getSvgFromIconSetConfigs(n,r){let o=this._extractIconWithNameFromAnySet(n,r);if(o)return M(o);let s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(en(c=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Me.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(d)),M(null)})));return Cc(s).pipe(j(()=>{let a=this._extractIconWithNameFromAnySet(n,r);if(!a)throw dw(n);return a}))}_extractIconWithNameFromAnySet(n,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(n)>-1){let a=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(a,n,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(Tt(r=>n.svgText=r),j(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?M(null):this._fetchIcon(n).pipe(Tt(r=>n.svgText=r))}_extractSvgIconFromSet(n,r,o){let s=n.querySelector(`[id="${r}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let c=this._svgElementFromString(aa("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,o)}_svgElementFromString(n){let r=this._document.createElement("DIV");r.innerHTML=n;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){let r=this._svgElementFromString(aa("<svg></svg>")),o=n.attributes;for(let s=0;s<o.length;s++){let{name:a,value:c}=o[s];a!=="id"&&r.setAttribute(a,c)}for(let s=0;s<n.childNodes.length;s++)n.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(n.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(n,r){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),r&&r.viewBox&&n.setAttribute("viewBox",r.viewBox),n}_fetchIcon(n){let{url:r,options:o}=n,s=o?.withCredentials??!1;if(!this._httpClient)throw yR();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(Me.RESOURCE_URL,r);if(!a)throw uw(r);let c=this._inProgressUrlFetches.get(a);if(c)return c;let l=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(j(d=>aa(d)),Bn(()=>this._inProgressUrlFetches.delete(a)),sv());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(n,r,o){return this._svgIconConfigs.set(mw(n,r),o),this}_addSvgIconSetConfig(n,r){let o=this._iconSetConfigs.get(n);return o?o.push(r):this._iconSetConfigs.set(n,[r]),this}_svgElementFromConfig(n){if(!n.svgElement){let r=this._svgElementFromString(n.svgText);this._setSvgAttributes(r,n.options),n.svgElement=r}return n.svgElement}_getIconConfigFromResolvers(n,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,n);if(s)return xR(s)?new Bi(s.url,null,s.options):new Bi(s,null)}}};t.\u0275fac=function(r){return new(r||t)(b(Zv,8),b(Xh),b(Q,8),b($n))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function zl(e){return e.cloneNode(!0)}function mw(e,t){return e+":"+t}function xR(e){return!!(e.url&&e.options)}var IR=new N("MAT_ICON_DEFAULT_OPTIONS"),ER=new N("mat-icon-location",{providedIn:"root",factory:CR});function CR(){let e=R(Q),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var fw=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],TR=fw.map(e=>`[${e}]`).join(", "),AR=/^url\(['"]?#(.*?)['"]?\)$/,pw=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){let r=this._cleanupFontValue(n);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){let r=this._cleanupFontValue(n);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(n,r,o,s,a,c){this._elementRef=n,this._iconRegistry=r,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Fi.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),o||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let r=n.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,r=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=n.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>n.classList.remove(o)),r.forEach(o=>n.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${n}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(n){let r=n.querySelectorAll(TR),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)fw.forEach(a=>{let c=r[s],l=c.getAttribute(a),d=l?l.match(AR):null;if(d){let u=o.get(c);u||(u=[],o.set(c,u)),u.push({name:a,value:d[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[r,o]=this._splitIconName(n);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(ke(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};t.\u0275fac=function(r){return new(r||t)(T(dt),T(wR),Un("aria-hidden"),T(ER),T($n),T(IR,8))},t.\u0275cmp=Z({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(Yt("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),ui(o.color?"mat-"+o.color:""),At("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[G.HasDecoratorInputTransform,"inline","inline",St],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[be,J],ngContentSelectors:_R,decls:1,vars:0,template:function(r,o){r&1&&(Zt(),It(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let e=t;return e})(),Bl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[pt,pt]});let e=t;return e})();var gw=(()=>{let t=class t{githubSol(){return location.href="https://github.com/Sol993",!1}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-about"]],standalone:!0,features:[J],decls:24,vars:0,consts:[[1,"titulo"],[1,"container"],[1,"card"],[1,"content-container"],[1,"image-container"],["mat-card-image","","src","assets\\Imagenes\\imgSobreMi.jpeg",1,"rounded-image"],[1,"text-container"],[1,"p-style"],["mat-button","","mat-raised-button","","color","primary","href","https://github.com/Sol993",1,"button-link"],[1,"button-content"],["src","assets\\Iconos\\github-mark.png",1,"image"],[1,"text"]],template:function(r,o){r&1&&(I(0,"header",0)(1,"h1"),F(2,"Sobre mi..."),E()(),I(3,"div",1)(4,"mat-card",2)(5,"mat-card-content")(6,"div",3)(7,"div",4),nt(8,"img",5),E(),I(9,"div",6)(10,"mat-card-title"),F(11,"Solange Correa"),E(),I(12,"p",7),F(13,"Soy estudiante de la UTN de Avellaneda. "),E(),I(14,"p"),F(15,'Mi juego es "..." '),E(),I(16,"p"),F(17,"Tengo 31 a\xF1os, me gusta leer y programar."),E()()()(),I(18,"mat-card-actions")(19,"a",8)(20,"span",9),nt(21,"img",10),I(22,"span",11),F(23," Mi GitHub"),E()()()()()())},dependencies:[qe,fn,wl,bi,xl,gi,Ll,cw,Bl],styles:['header[_ngcontent-%COMP%]{background-color:#112e57;color:#fff;display:flex;align-items:center;justify-content:center;height:15vh;box-shadow:5px 5px 10px #0000004d}h1[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:78vh;width:100%;background-image:url(/assets/Imagenes/fondo.jpg)}.card[_ngcontent-%COMP%]{max-width:600px;width:100%;margin:0 auto}mat-card-header[_ngcontent-%COMP%]{color:#6c53e7;font-size:20px;font-style:italic;font-weight:700;line-height:1.5px}.content-container[_ngcontent-%COMP%]{display:flex;align-items:center}.image-container[_ngcontent-%COMP%]{width:200px;height:200px;margin-right:20px;border-radius:10%}.rounded-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:50%}.text-container[_ngcontent-%COMP%]{flex:1;color:#40158c;text-align:center}mat-card-actions[_ngcontent-%COMP%]{justify-content:flex-end}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}p-style[_ngcontent-%COMP%]{padding:20px}.button-link[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none;background-color:#6369bb}.button-content[_ngcontent-%COMP%]{display:flex;align-items:center}.image[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:8px}.text[_ngcontent-%COMP%]{font-size:14px}']});let e=t;return e})();var bw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-error"]],standalone:!0,features:[J],decls:2,vars:0,template:function(r,o){r&1&&(I(0,"p"),F(1,"error works!"),E())}});let e=t;return e})();var _w=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[Wm,pt,Wm,pt]});let e=t;return e})();function DR(e,t){if(e&1&&(I(0,"span"),F(1),E()),e&2){let i=t.$implicit;it(),Fc(i)}}function RR(e,t){if(e&1){let i=hi();I(0,"button",9),xt("click",function(){let r=je(i).$implicit,o=Xt(2);return ze(o.seleccionarLetra(r.letra))}),F(1),E()}if(e&2){let i=t.$implicit;_t("disabled",!i.activo),it(),Fc(i.letra)}}function kR(e,t){if(e&1&&(wh(0),I(1,"div",1)(2,"div",2)(3,"p"),F(4),E(),I(5,"div",3),se(6,DR,2,1,"span",4),E(),I(7,"div",5),se(8,RR,2,2,"button",6),E()(),I(9,"div",7),nt(10,"img",8),E()(),xh()),e&2){let i=Xt();it(4),Li("Intentos restantes: ",i.intentosRestantes," / 6"),it(2),_t("ngForOf",i.palabraOculta),it(2),_t("ngForOf",i.letrasDisponibles),it(2),Cv("src","\\assets\\Imagenes\\juegos\\ahorcado\\",i.intentosRestantes,".jpeg",_v)}}function MR(e,t){if(e&1&&(I(0,"div"),nt(1,"img",12),I(2,"p"),F(3,"\xA1Juego Terminado! Perdiste."),E(),I(4,"p"),F(5),E()()),e&2){let i=Xt(2);it(5),Li("La palabra es ",i.palabraSecreta,"")}}function PR(e,t){e&1&&(I(0,"div"),nt(1,"img",13),I(2,"p"),F(3,"\xA1Juego Terminado! Ganaste."),E()())}function FR(e,t){if(e&1){let i=hi();wh(0),I(1,"div",10),se(2,MR,6,1,"div",0)(3,PR,4,0,"div",0),E(),I(4,"div",10)(5,"button",11),xt("click",function(){je(i);let r=Xt();return ze(r.nuevaPartida())}),F(6,"Jugar de nuevo"),E()(),xh()}if(e&2){let i=Xt();it(2),_t("ngIf",i.intentosRestantes===6),it(),_t("ngIf",!i.palabraOculta.includes("_"))}}var vw=(()=>{let t=class t{constructor(){this.palabras=["PLATO","ELEFANTE","COMPUTADORA","RANA","QUESO","PARAGUAS","TELEVISION","CELULAR","MONTA\xD1A","JUNGLA","PERRO","TIERRA"],this.palabraSecreta="",this.palabraOculta=[],this.letrasPalabraSecreta=[],this.letrasDisponibles=[],this.intentosRestantes=0,this.juegoTerminado=!1,this.nuevaPartida()}nuevaPartida(){this.nuevaPalabra(),this.inicializarLetras(),this.intentosRestantes=0,this.juegoTerminado=!1}nuevaPalabra(){let n=Math.floor(Math.random()*this.palabras.length);this.palabraSecreta=this.palabras[n],this.letrasPalabraSecreta=this.palabraSecreta.split(""),this.palabraOculta=this.letrasPalabraSecreta.map(r=>"_")}inicializarLetras(){this.letrasDisponibles="ABCDEFGHIJKLMN\xD1OPQRSTUVWXYZ".split("").map(n=>({letra:n,activo:!0}))}seleccionarLetra(n){if(!this.juegoTerminado&&this.intentosRestantes<6){let r=this.letrasDisponibles.find(o=>o.letra===n);if(r&&r.activo&&(r.activo=!1,this.palabraOculta.includes("_")))if(this.letrasPalabraSecreta.includes(n)){for(let o=0;o<this.letrasPalabraSecreta.length;o++)this.letrasPalabraSecreta[o]===n&&(this.palabraOculta[o]=n);this.palabraOculta.includes("_")||this.juegoGanado()}else this.intentosRestantes++,this.intentosRestantes===6&&this.juegoPerdido()}}juegoGanado(){this.juegoTerminado=!0}juegoPerdido(){this.juegoTerminado=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-ahorcado"]],standalone:!0,features:[J],decls:8,vars:2,consts:[[4,"ngIf"],[1,"container"],[1,"letras"],["id","palabra-oculta",1,"palabra-oculta"],[4,"ngFor","ngForOf"],[1,"btn-div"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngFor","ngForOf"],[1,"img-div"],["alt","Imagen del ahorcado",3,"src"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"contenedor"],["mat-raised-button","","color","primary",3,"click"],["alt","game-over","src","\\assets\\Imagenes\\juegos\\ahorcado\\game-over.gif"],["alt","winner","src","\\assets\\Imagenes\\juegos\\ahorcado\\winner.gif"]],template:function(r,o){r&1&&(I(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),F(3,"Juego del Ahorcado"),E()(),I(4,"mat-card-content")(5,"div"),se(6,kR,11,5,"ng-container",0)(7,FR,7,2,"ng-container",0),E()()()),r&2&&(it(6),_t("ngIf",!o.juegoTerminado),it(),_t("ngIf",o.juegoTerminado))},dependencies:[qe,fn,bi,uo,gi,_e,Fv,Kr,_w],styles:['mat-card-header[_ngcontent-%COMP%]{background-color:#112e57;color:#fff;display:flex;align-items:center;justify-content:center;height:10vh;box-shadow:5px 5px 10px #0000004d}mat-card-title[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}mat-card-content[_ngcontent-%COMP%]{background-image:url(/assets/Imagenes/login-fondo.png);height:73vh}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px}.letras[_ngcontent-%COMP%]{width:50%;color:#fff}h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:10px}button[_ngcontent-%COMP%]{font-size:1.2rem;padding:10px 20px;margin:30px 0;background-color:#8d7cb3;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#190246}button[_ngcontent-%COMP%]:disabled{background-color:#4c504c}.contenedor[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:20px 0;max-width:350px;height:auto}img[_ngcontent-%COMP%]{margin-top:20px;max-width:250px;height:auto}#palabra-oculta[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:20px}.palabra-oculta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:last-child){margin-right:10px!important}.btn-div[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.img-div[_ngcontent-%COMP%]{width:45%}.contenedor[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.contenedor[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:20px}']});let e=t;return e})();function OR(e,t){if(e&1){let i=hi();I(0,"div",1)(1,"div",2)(2,"div",3)(3,"p"),F(4),E(),I(5,"p"),F(6),E(),I(7,"p"),F(8,"\xBFLa siguiente carta ser\xE1 mayor o menor?"),E()(),I(9,"div",4)(10,"button",5),xt("click",function(){je(i);let r=Xt();return ze(r.checkGuess("mayor"))}),F(11,"Mayor"),E(),I(12,"button",5),xt("click",function(){je(i);let r=Xt();return ze(r.checkGuess("menor"))}),F(13,"Menor"),E()(),I(14,"p"),F(15),E()()()}if(e&2){let i=Xt();it(4),Li("Tienes ",i.intentos," intentos"),it(2),Li("Carta actual: ",i.currentCard,""),it(9),Li("Puntuaci\xF3n: ",i.score,"")}}function NR(e,t){if(e&1){let i=hi();I(0,"div",1)(1,"div",2)(2,"p"),F(3),E(),I(4,"button",6),xt("click",function(){je(i);let r=Xt();return ze(r.reiniciarjuego())}),F(5,"Reiniciar"),E()()()}if(e&2){let i=Xt();it(3),Li("\xA1Juego terminado! Tu puntuaci\xF3n final es: ",i.score,"")}}var yw=(()=>{let t=class t{constructor(){this.cards=[],this.score=0,this.gameOver=!1,this.intentos=5}ngOnInit(){this.startGame()}startGame(){this.generateCards(),this.getNextCard()}generateCards(){for(let n=1;n<=12;n++)this.cards.push(n)}getNextCard(){let n=Math.floor(Math.random()*this.cards.length);this.currentCard=this.cards[n]}checkGuess(n){if(this.intentos===0){this.gameOver=!0;return}let r=Math.floor(Math.random()*this.cards.length);this.nextCard=this.cards[r],n==="mayor"&&this.nextCard>this.currentCard||n==="menor"&&this.nextCard<this.currentCard?(this.score++,this.currentCard=this.nextCard):this.intentos--,this.intentos===0&&(this.gameOver=!0)}reiniciarjuego(){this.score=0,this.gameOver=!1,this.startGame()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-mayoromenor"]],standalone:!0,features:[J],decls:6,vars:2,consts:[["class","contenier",4,"ngIf"],[1,"contenier"],[1,"game-container"],[1,"card-info"],[1,"buttons"],["mat-raised-button","","color","primary",1,"button",3,"click"],["mat-raised-button","","color","warn",1,"button",3,"click"]],template:function(r,o){r&1&&(I(0,"mat-card-header")(1,"mat-card-title"),F(2,"Juego mayor o menor"),E()(),I(3,"mat-card-content"),se(4,OR,16,3,"div",0)(5,NR,6,1,"div",0),E()),r&2&&(it(4),_t("ngIf",!o.gameOver),it(),_t("ngIf",o.gameOver))},dependencies:[_e,Kr,qe,bi,uo,gi,go],styles:['mat-card-header[_ngcontent-%COMP%]{background-color:#112e57;color:#fff;display:flex;align-items:center;justify-content:center;height:10vh;box-shadow:5px 5px 10px #0000004d}mat-card-title[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}.contenier[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:80vh;background-image:url(/assets/Imagenes/login-fondo.png);background-size:cover;background-position:center;color:#fff}.game-container[_ngcontent-%COMP%]{background-color:#64578cd0;padding:40px}.card-info[_ngcontent-%COMP%]{font-size:18px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.button[_ngcontent-%COMP%]{background-color:#0c498a;color:#fff;margin:0 10px;padding:10px 20px;border-radius:10px;border:none;cursor:pointer}.button[_ngcontent-%COMP%]:hover{background-color:#1e058e}.score[_ngcontent-%COMP%]{font-size:18px;margin-top:20px}p[_ngcontent-%COMP%]{padding:10px}']});let e=t;return e})();var ww=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-preguntados"]],standalone:!0,features:[J],decls:2,vars:0,template:function(r,o){r&1&&(I(0,"p"),F(1,"preguntados works!"),E())}});let e=t;return e})();var VR="firebase",LR="10.11.1";ue(VR,LR,"app");var _i=new Gr("ANGULARFIRE2_VERSION");function $l(e,t,i){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===i);if(o.length===1)return o[0]}return i.container.getProvider(e).getImmediate({optional:!0})}var ca=(e,t)=>{let i=t?[t]:$c(),n=[];return i.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},ei=class{constructor(){return ca(jR)}},jR="app-check";function bo(){}var Ul=class{zone;delegate;constructor(t,i=ev){this.zone=t,this.delegate=i}now(){return this.delegate.now()}schedule(t,i,n){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,i,n)}},cf=class{zone;task=null;constructor(t){this.zone=t}call(t,i){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bo,{},bo,bo)),i.pipe(Tt({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},vi=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new Ul(Zone.current)),this.insideAngular=i.run(()=>new Ul(Zone.current,Ic)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||e)(b($))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ql(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function zR(e){return ql().ngZone.runOutsideAngular(()=>e())}function nr(e){return ql().ngZone.run(()=>e())}function ve(e){return BR(ql())(e)}function BR(e){return function(i){return i=i.lift(new cf(e.ngZone)),i.pipe(jn(e.outsideAngular),tn(e.insideAngular))}}var UR=(e,t)=>function(){let n=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),nr(()=>e.apply(void 0,n))},_o=(e,t)=>function(){let i,n=arguments;for(let o=0;o<arguments.length;o++)typeof n[o]=="function"&&(t&&(i||=nr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bo,{},bo,bo))),n[o]=UR(n[o],i));let r=zR(()=>e.apply(this,n));if(!t)if(r instanceof De){let o=ql();return r.pipe(jn(o.outsideAngular),tn(o.insideAngular))}else return nr(()=>r);return r instanceof De?r.pipe(ve):r instanceof Promise?nr(()=>new Promise((o,s)=>r.then(a=>nr(()=>o(a)),a=>nr(()=>s(a))))):typeof r=="function"&&i?function(){return setTimeout(()=>{i&&i.state==="scheduled"&&i.invoke()},10),r.apply(this,arguments)}:nr(()=>r)};var Ui=class{constructor(t){return t}},rr=class{constructor(){return $c()}};function $R(e){return e&&e.length===1?e[0]:new Ui(Es())}var lf=new N("angularfire2._apps"),qR={provide:Ui,useFactory:$R,deps:[[new re,lf]]},GR={provide:rr,deps:[[new re,lf]]};function HR(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new Ui(n)}}var WR=(()=>{class e{constructor(i){ue("angularfire",_i.full,"core"),ue("angularfire",_i.full,"app"),ue("angular",Ah.full,i.toString())}static \u0275fac=function(n){return new(n||e)(b(Te))};static \u0275mod=U({type:e});static \u0275inj=B({providers:[qR,GR]})}return e})();function Iw(e,...t){return{ngModule:WR,providers:[{provide:lf,useFactory:HR(e),multi:!0,deps:[$,ge,vi,...t]}]}}var Ew=_o(Gv,!0);var KR=new Map,QR={activated:!1,tokenObservers:[]},YR={initialized:!1,enabled:!1};function ii(e){return KR.get(e)||Object.assign({},QR)}function Dw(){return YR}var XR="https://content-firebaseappcheck.googleapis.com/v1";var ZR="exchangeDebugToken",Cw={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},D2=24*60*60*1e3;var uf=class{constructor(t,i,n,r,o){if(this.operation=t,this.retryPolicy=i,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return g(this,null,function*(){this.stop();try{this.pending=new Ph,this.pending.promise.catch(i=>{}),yield JR(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ph,this.pending.promise.catch(i=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(i){this.retryPolicy(i)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}};function JR(e){return new Promise(t=>{setTimeout(t,e)})}var t1={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},bn=new $v("appCheck","AppCheck",t1);function Rw(e){if(!ii(e).activated)throw bn.create("use-before-activation",{appName:e.name})}function kw(n,r){return g(this,arguments,function*({url:e,body:t},i){let o={"Content-Type":"application/json"},s=i.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(m){throw bn.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw bn.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw bn.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw bn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let u=Number(d[1])*1e3,h=Date.now();return{token:l.token,expireTimeMillis:h+u,issuedAtTimeMillis:h}})}function Mw(e,t){let{projectId:i,appId:n,apiKey:r}=e.options;return{url:`${XR}/projects/${i}/apps/${n}:${ZR}?key=${r}`,body:{debug_token:t}}}var e1="firebase-app-check-database",i1=1,hf="firebase-app-check-store";var Gl=null;function n1(){return Gl||(Gl=new Promise((e,t)=>{try{let i=indexedDB.open(e1,i1);i.onsuccess=n=>{e(n.target.result)},i.onerror=n=>{var r;t(bn.create("storage-open",{originalErrorMessage:(r=n.target.error)===null||r===void 0?void 0:r.message}))},i.onupgradeneeded=n=>{let r=n.target.result;switch(n.oldVersion){case 0:r.createObjectStore(hf,{keyPath:"compositeKey"})}}}catch(i){t(bn.create("storage-open",{originalErrorMessage:i?.message}))}}),Gl)}function r1(e,t){return o1(s1(e),t)}function o1(e,t){return g(this,null,function*(){let n=(yield n1()).transaction(hf,"readwrite"),o=n.objectStore(hf).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},n.onerror=c=>{var l;a(bn.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function s1(e){return`${e.options.appId}-${e.name}`}var mf=new Uc("@firebase/app-check");function df(e,t){return Bc()?r1(e,t).catch(i=>{mf.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function Pw(){return Dw().enabled}function Fw(){return g(this,null,function*(){let e=Dw();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var a1={error:"UNKNOWN_ERROR"};function c1(e){return jv.encodeString(JSON.stringify(e),!1)}function ff(e,t=!1){return g(this,null,function*(){let i=e.app;Rw(i);let n=ii(i),r=n.token,o;if(r&&!la(r)&&(n.token=void 0,r=void 0),!r){let c=yield n.cachedTokenPromise;c&&(la(c)?r=c:yield df(i,void 0))}if(!t&&r&&la(r))return{token:r.token};let s=!1;if(Pw()){n.exchangeTokenPromise||(n.exchangeTokenPromise=kw(Mw(i,yield Fw()),e.heartbeatServiceProvider).finally(()=>{n.exchangeTokenPromise=void 0}),s=!0);let c=yield n.exchangeTokenPromise;return yield df(i,c),n.token=c,{token:c.token}}try{n.exchangeTokenPromise||(n.exchangeTokenPromise=n.provider.getToken().finally(()=>{n.exchangeTokenPromise=void 0}),s=!0),r=yield ii(i).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?mf.warn(c.message):mf.error(c),o=c}let a;return r?o?la(r)?a={token:r.token,internalError:o}:a=Aw(o):(a={token:r.token},n.token=r,yield df(i,r)):a=Aw(o),s&&h1(i,a),a})}function l1(e){return g(this,null,function*(){let t=e.app;Rw(t);let{provider:i}=ii(t);if(Pw()){let n=yield Fw(),{token:r}=yield kw(Mw(t,n),e.heartbeatServiceProvider);return{token:r}}else{let{token:n}=yield i.getToken();return{token:n}}})}function d1(e,t,i,n){let{app:r}=e,o=ii(r),s={next:i,error:n,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&la(o.token)){let a=o.token;Promise.resolve().then(()=>{i({token:a.token}),Tw(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Tw(e))}function Ow(e,t){let i=ii(e),n=i.tokenObservers.filter(r=>r.next!==t);n.length===0&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=n}function Tw(e){let{app:t}=e,i=ii(t),n=i.tokenRefresher;n||(n=u1(e),i.tokenRefresher=n),!n.isRunning()&&i.isTokenAutoRefreshEnabled&&n.start()}function u1(e){let{app:t}=e;return new uf(()=>g(this,null,function*(){let i=ii(t),n;if(i.token?n=yield ff(e,!0):n=yield ff(e),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{let i=ii(t);if(i.token){let n=i.token.issuedAtTimeMillis+(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)*.5+3e5,r=i.token.expireTimeMillis-5*60*1e3;return n=Math.min(n,r),Math.max(0,n-Date.now())}else return 0},Cw.RETRIAL_MIN_WAIT,Cw.RETRIAL_MAX_WAIT)}function h1(e,t){let i=ii(e).tokenObservers;for(let n of i)try{n.type==="EXTERNAL"&&t.error!=null?n.error(t.error):n.next(t)}catch{}}function la(e){return e.expireTimeMillis-Date.now()>0}function Aw(e){return{token:c1(a1),error:e}}var pf=class{constructor(t,i){this.app=t,this.heartbeatServiceProvider=i}_delete(){let{tokenObservers:t}=ii(this.app);for(let i of t)Ow(this.app,i.next);return Promise.resolve()}};function m1(e,t){return new pf(e,t)}function f1(e){return{getToken:t=>ff(e,t),getLimitedUseToken:()=>l1(e),addTokenListener:t=>d1(e,"INTERNAL",t),removeTokenListener:t=>Ow(e.app,t)}}var p1="@firebase/app-check",g1="0.8.3";var b1="app-check",Sw="app-check-internal";function _1(){Is(new Kn(b1,e=>{let t=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat");return m1(t,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider(Sw).initialize()})),Is(new Kn(Sw,e=>{let t=e.getProvider("app-check").getImmediate();return f1(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),ue(p1,g1)}_1();var v1=["localhost","0.0.0.0","127.0.0.1"],B2=typeof window<"u"&&v1.includes(window.location.hostname);var y1="firebase",w1="10.11.1";Ze.registerVersion(y1,w1,"app-compat");var x1=["ngOnDestroy"],Lw=(e,t,i,n={})=>new Proxy(e,{get:(r,o)=>i.runOutsideAngular(()=>{if(e[o])return n?.spy?.get&&n.spy.get(o,e[o]),e[o];if(x1.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>i.run(()=>l)):i.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(d=>{let u=d?.(...l);return n?.spy?.apply&&n.spy.apply(o,l,u),u})})})});var gf=class{constructor(t){return t}},Hl=new N("angularfire2.app.options"),Wl=new N("angularfire2.app.name");function Kl(e,t,i){let n=typeof i=="string"&&i||"[DEFAULT]",r=typeof i=="object"&&i||{};r.name=r.name||n;let s=Ze.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Ze.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;I1("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new gf(s)}var I1=(e,...t)=>{Rh()&&typeof console<"u"&&console[e](...t)};function Ql(e,t,i,n,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return E1(r,s)||(Vw("error",`${t} was already initialized on the ${i} Firebase App with different settings.${C1?" You may need to reload as Firebase is not HMR aware.":""}`),Vw("warn",{is:r,was:s})),o;{let a=n();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function E1(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var C1=typeof module<"u"&&!!module.hot,Vw=(e,...t)=>{Rh()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var bf=new N("angularfire2.auth.use-emulator"),_f=new N("angularfire2.auth.settings"),vf=new N("angularfire2.auth.tenant-id"),yf=new N("angularfire2.auth.langugage-code"),wf=new N("angularfire2.auth.use-device-language"),xf=new N("angularfire.auth.persistence"),If=(e,t,i,n,r,o,s,a)=>Ql(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let c=t.runOutsideAngular(()=>e.auth());if(i&&c.useEmulator(...i),n&&(c.tenantId=n),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(let[l,d]of Object.entries(s))c.settings[l]=d;return a&&c.setPersistence(a),c},[i,n,r,o,s,a]),jw=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(i,n,r,o,s,a,c,l,d,u,h,m){let y=new yt,_=M(void 0).pipe(tn(s.outsideAngular),Ut(()=>o.runOutsideAngular(()=>import("./chunk-DE4KG6FJ.js"))),j(()=>Kl(i,o,n)),j(x=>If(x,o,a,l,d,u,c,h)),Ac({bufferSize:1,refCount:!1}));if(Wn(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=M(null);else{_.pipe(di()).subscribe();let x=_.pipe(Ut(O=>O.getRedirectResult().then(X=>X,()=>null)),ve,Ac({bufferSize:1,refCount:!1})),V=_.pipe(Ut(O=>new De(X=>({unsubscribe:o.runOutsideAngular(()=>O.onAuthStateChanged(et=>X.next(et),et=>X.error(et),()=>X.complete()))})))),q=_.pipe(Ut(O=>new De(X=>({unsubscribe:o.runOutsideAngular(()=>O.onIdTokenChanged(et=>X.next(et),et=>X.error(et),()=>X.complete()))}))));this.authState=x.pipe(gh(V),jn(s.outsideAngular),tn(s.insideAngular)),this.user=x.pipe(gh(q),jn(s.outsideAngular),tn(s.insideAngular)),this.idToken=this.user.pipe(Ut(O=>O?wt(O.getIdToken()):M(null))),this.idTokenResult=this.user.pipe(Ut(O=>O?wt(O.getIdTokenResult()):M(null))),this.credential=Tc(x,y,this.authState.pipe(Kt(O=>!O))).pipe(j(O=>O?.user?O:null),jn(s.outsideAngular),tn(s.insideAngular))}return Lw(this,_,o,{spy:{apply:(x,V,q)=>{(x.startsWith("signIn")||x.startsWith("createUser"))&&q.then(O=>y.next(O))}}})}static \u0275fac=function(n){return new(n||e)(b(Hl),b(Wl,8),b(Te),b($),b(vi),b(bf,8),b(_f,8),b(vf,8),b(yf,8),b(wf,8),b(xf,8),b(ei,8))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var A1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ri={},D,Gf=Gf||{},H=A1||self;function ld(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ia(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function S1(e){return Object.prototype.hasOwnProperty.call(e,Ef)&&e[Ef]||(e[Ef]=++D1)}var Ef="closure_uid_"+(1e9*Math.random()>>>0),D1=0;function R1(e,t,i){return e.call.apply(e.bind,arguments)}function k1(e,t,i){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function he(e,t,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?he=R1:he=k1,he.apply(null,arguments)}function Yl(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function ee(e,t){function i(){}i.prototype=t.prototype,e.$=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.ac=function(n,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[r].apply(n,s)}}function _n(){this.s=this.s,this.o=this.o}var M1=0;_n.prototype.s=!1;_n.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),M1!=0)&&S1(this)};_n.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Zw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let i=0;i<e.length;i++)if(i in e&&e[i]===t)return i;return-1};function Hf(e){let t=e.length;if(0<t){let i=Array(t);for(let n=0;n<t;n++)i[n]=e[n];return i}return[]}function zw(e,t){for(let i=1;i<arguments.length;i++){let n=arguments[i];if(ld(n)){let r=e.length||0,o=n.length||0;e.length=r+o;for(let s=0;s<o;s++)e[r+s]=n[s]}else e.push(n)}}function me(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var P1=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let i=()=>{};H.addEventListener("test",i,t),H.removeEventListener("test",i,t)}catch{}return e}();function pa(e){return/^[\s\xa0]*$/.test(e)}function dd(){var e=H.navigator;return e&&(e=e.userAgent)?e:""}function yi(e){return dd().indexOf(e)!=-1}function Wf(e){return Wf[" "](e),e}Wf[" "]=function(){};function F1(e,t){var i=xk;return Object.prototype.hasOwnProperty.call(i,e)?i[e]:i[e]=t(e)}var O1=yi("Opera"),xo=yi("Trident")||yi("MSIE"),Jw=yi("Edge"),Df=Jw||xo,tx=yi("Gecko")&&!(dd().toLowerCase().indexOf("webkit")!=-1&&!yi("Edge"))&&!(yi("Trident")||yi("MSIE"))&&!yi("Edge"),N1=dd().toLowerCase().indexOf("webkit")!=-1&&!yi("Edge");function ex(){var e=H.document;return e?e.documentMode:void 0}var Rf;t:{if(Xl="",Zl=function(){var e=dd();if(tx)return/rv:([^\);]+)(\)|;)/.exec(e);if(Jw)return/Edge\/([\d\.]+)/.exec(e);if(xo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(N1)return/WebKit\/(\S+)/.exec(e);if(O1)return/(?:Version)[ \/]?(\S+)/.exec(e)}(),Zl&&(Xl=Zl?Zl[1]:""),xo&&(Jl=ex(),Jl!=null&&Jl>parseFloat(Xl))){Rf=String(Jl);break t}Rf=Xl}var Xl,Zl,Jl,kf;H.document&&xo?(Cf=ex(),kf=Cf||parseInt(Rf,10)||void 0):kf=void 0;var Cf,V1=kf;function ga(e,t){if(me.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var i=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tx){t:{try{Wf(t.nodeName);var r=!0;break t}catch{}r=!1}r||(t=null)}}else i=="mouseover"?t=e.fromElement:i=="mouseout"&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:L1[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ga.$.h.call(this)}}ee(ga,me);var L1={2:"touch",3:"pen",4:"mouse"};ga.prototype.h=function(){ga.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ea="closure_listenable_"+(1e6*Math.random()|0),j1=0;function z1(e,t,i,n,r){this.listener=e,this.proxy=null,this.src=t,this.type=i,this.capture=!!n,this.la=r,this.key=++j1,this.fa=this.ia=!1}function ud(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Kf(e,t,i){for(let n in e)t.call(i,e[n],n,e)}function B1(e,t){for(let i in e)t.call(void 0,e[i],i,e)}function ix(e){let t={};for(let i in e)t[i]=e[i];return t}var Bw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nx(e,t){let i,n;for(let r=1;r<arguments.length;r++){n=arguments[r];for(i in n)e[i]=n[i];for(let o=0;o<Bw.length;o++)i=Bw[o],Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}}function hd(e){this.src=e,this.g={},this.h=0}hd.prototype.add=function(e,t,i,n,r){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=Pf(e,t,n,r);return-1<s?(t=e[s],i||(t.ia=!1)):(t=new z1(t,this.src,o,!!n,r),t.ia=i,e.push(t)),t};function Mf(e,t){var i=t.type;if(i in e.g){var n=e.g[i],r=Zw(n,t),o;(o=0<=r)&&Array.prototype.splice.call(n,r,1),o&&(ud(t),e.g[i].length==0&&(delete e.g[i],e.h--))}}function Pf(e,t,i,n){for(var r=0;r<e.length;++r){var o=e[r];if(!o.fa&&o.listener==t&&o.capture==!!i&&o.la==n)return r}return-1}var Qf="closure_lm_"+(1e6*Math.random()|0),Tf={};function rx(e,t,i,n,r){if(n&&n.once)return sx(e,t,i,n,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)rx(e,t[o],i,n,r);return null}return i=Zf(i),e&&e[Ea]?e.O(t,i,Ia(n)?!!n.capture:!!n,r):ox(e,t,i,!1,n,r)}function ox(e,t,i,n,r,o){if(!t)throw Error("Invalid event type");var s=Ia(r)?!!r.capture:!!r,a=Xf(e);if(a||(e[Qf]=a=new hd(e)),i=a.add(t,i,n,s,o),i.proxy)return i;if(n=U1(),i.proxy=n,n.src=e,n.listener=i,e.addEventListener)P1||(r=s),r===void 0&&(r=!1),e.addEventListener(t.toString(),n,r);else if(e.attachEvent)e.attachEvent(cx(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return i}function U1(){function e(i){return t.call(e.src,e.listener,i)}let t=$1;return e}function sx(e,t,i,n,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)sx(e,t[o],i,n,r);return null}return i=Zf(i),e&&e[Ea]?e.P(t,i,Ia(n)?!!n.capture:!!n,r):ox(e,t,i,!0,n,r)}function ax(e,t,i,n,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)ax(e,t[o],i,n,r);else n=Ia(n)?!!n.capture:!!n,i=Zf(i),e&&e[Ea]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],i=Pf(o,i,n,r),-1<i&&(ud(o[i]),Array.prototype.splice.call(o,i,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Xf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Pf(t,i,n,r)),(i=-1<e?t[e]:null)&&Yf(i))}function Yf(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ea])Mf(t.i,e);else{var i=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(i,n,e.capture):t.detachEvent?t.detachEvent(cx(i),n):t.addListener&&t.removeListener&&t.removeListener(n),(i=Xf(t))?(Mf(i,e),i.h==0&&(i.src=null,t[Qf]=null)):ud(e)}}}function cx(e){return e in Tf?Tf[e]:Tf[e]="on"+e}function $1(e,t){if(e.fa)e=!0;else{t=new ga(t,this);var i=e.listener,n=e.la||e.src;e.ia&&Yf(e),e=i.call(n,t)}return e}function Xf(e){return e=e[Qf],e instanceof hd?e:null}var Af="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zf(e){return typeof e=="function"?e:(e[Af]||(e[Af]=function(t){return e.handleEvent(t)}),e[Af])}function te(){_n.call(this),this.i=new hd(this),this.S=this,this.J=null}ee(te,_n);te.prototype[Ea]=!0;te.prototype.removeEventListener=function(e,t,i,n){ax(this,e,t,i,n)};function ce(e,t){var i,n=e.J;if(n)for(i=[];n;n=n.J)i.push(n);if(e=e.S,n=t.type||t,typeof t=="string")t=new me(t,e);else if(t instanceof me)t.target=t.target||e;else{var r=t;t=new me(n,e),nx(t,r)}if(r=!0,i)for(var o=i.length-1;0<=o;o--){var s=t.g=i[o];r=td(s,n,!0,t)&&r}if(s=t.g=e,r=td(s,n,!0,t)&&r,r=td(s,n,!1,t)&&r,i)for(o=0;o<i.length;o++)s=t.g=i[o],r=td(s,n,!1,t)&&r}te.prototype.N=function(){if(te.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var i=e.g[t],n=0;n<i.length;n++)ud(i[n]);delete e.g[t],e.h--}}this.J=null};te.prototype.O=function(e,t,i,n){return this.i.add(String(e),t,!1,i,n)};te.prototype.P=function(e,t,i,n){return this.i.add(String(e),t,!0,i,n)};function td(e,t,i,n){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==i){var a=s.listener,c=s.la||s.src;s.ia&&Mf(e.i,s),r=a.call(c,n)!==!1&&r}}return r&&!n.defaultPrevented}var Jf=H.JSON.stringify,Ff=class{constructor(t,i){this.i=t,this.j=i,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}};function q1(){var e=tp;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Of=class{constructor(){this.h=this.g=null}add(t,i){let n=lx.get();n.set(t,i),this.h?this.h.next=n:this.g=n,this.h=n}},lx=new Ff(()=>new Nf,e=>e.reset()),Nf=class{constructor(){this.next=this.g=this.h=null}set(t,i){this.h=t,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}};function G1(e){var t=1;e=e.split(":");let i=[];for(;0<t&&e.length;)i.push(e.shift()),t--;return e.length&&i.push(e.join(":")),i}function H1(e){H.setTimeout(()=>{throw e},0)}var ba,_a=!1,tp=new Of,dx=()=>{let e=H.Promise.resolve(void 0);ba=()=>{e.then(W1)}},W1=()=>{for(var e;e=q1();){try{e.h.call(e.g)}catch(i){H1(i)}var t=lx;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_a=!1};function md(e,t){te.call(this),this.h=e||1,this.g=t||H,this.j=he(this.qb,this),this.l=Date.now()}ee(md,te);D=md.prototype;D.ga=!1;D.T=null;D.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ce(this,"tick"),this.ga&&(ep(this),this.start()))}};D.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ep(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}D.N=function(){md.$.N.call(this),ep(this),delete this.g};function ip(e,t,i){if(typeof e=="function")i&&(e=he(e,i));else if(e&&typeof e.handleEvent=="function")e=he(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:H.setTimeout(e,t||0)}function ux(e){e.g=ip(()=>{e.g=null,e.i&&(e.i=!1,ux(e))},e.j);let t=e.h;e.h=null,e.m.apply(null,t)}var Vf=class extends _n{constructor(t,i){super(),this.m=t,this.j=i,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ux(this)}N(){super.N(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function va(e){_n.call(this),this.h=e,this.g={}}ee(va,_n);var Uw=[];function hx(e,t,i,n){Array.isArray(i)||(i&&(Uw[0]=i.toString()),i=Uw);for(var r=0;r<i.length;r++){var o=rx(t,i[r],n||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function mx(e){Kf(e.g,function(t,i){this.g.hasOwnProperty(i)&&Yf(t)},e),e.g={}}va.prototype.N=function(){va.$.N.call(this),mx(this)};va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fd(){this.g=!0}fd.prototype.Ea=function(){this.g=!1};function K1(e,t,i,n,r,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var d=l[0];l=l[1];var u=d.split("_");s=2<=u.length&&u[1]=="type"?s+(d+"="+l+"&"):s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+`
`+i+`
`+s})}function Q1(e,t,i,n,r,o,s){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+`
`+i+`
`+o+" "+s})}function yo(e,t,i,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+X1(e,i)+(n?" "+n:"")})}function Y1(e,t){e.info(function(){return"TIMEOUT: "+t})}fd.prototype.info=function(){};function X1(e,t){if(!e.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i){for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return Jf(i)}catch{return t}}var cr={},$w=null;function pd(){return $w=$w||new te}cr.Ta="serverreachability";function fx(e){me.call(this,cr.Ta,e)}ee(fx,me);function ya(e){let t=pd();ce(t,new fx(t))}cr.STAT_EVENT="statevent";function px(e,t){me.call(this,cr.STAT_EVENT,e),this.stat=t}ee(px,me);function ye(e){let t=pd();ce(t,new px(t,e))}cr.Ua="timingevent";function gx(e,t){me.call(this,cr.Ua,e),this.size=t}ee(gx,me);function Ca(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){e()},t)}var gd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function np(){}np.prototype.h=null;function qw(e){return e.h||(e.h=e.i())}function _x(){}var Ta={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rp(){me.call(this,"d")}ee(rp,me);function op(){me.call(this,"c")}ee(op,me);var Lf;function bd(){}ee(bd,np);bd.prototype.g=function(){return new XMLHttpRequest};bd.prototype.i=function(){return{}};Lf=new bd;function Aa(e,t,i,n){this.l=e,this.j=t,this.m=i,this.W=n||1,this.U=new va(this),this.P=Z1,e=Df?125:void 0,this.V=new md(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vx}function vx(){this.i=null,this.g="",this.h=!1}var Z1=45e3,yx={},jf={};D=Aa.prototype;D.setTimeout=function(e){this.P=e};function zf(e,t,i){e.L=1,e.A=vd(qi(t)),e.u=i,e.S=!0,wx(e,null)}function wx(e,t){e.G=Date.now(),Sa(e),e.B=qi(e.A);var i=e.B,n=e.W;Array.isArray(n)||(n=[String(n)]),Dx(i.i,"t",n),e.o=0,i=e.l.J,e.h=new vx,e.g=Yx(e.l,i?t:null,!e.u),0<e.O&&(e.M=new Vf(he(e.Pa,e,e.g),e.O)),hx(e.U,e.g,"readystatechange",e.nb),t=e.I?ix(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),ya(),K1(e.j,e.v,e.B,e.m,e.W,e.u)}D.nb=function(e){e=e.target;let t=this.M;t&&wi(e)==3?t.l():this.Pa(e)};D.Pa=function(e){try{if(e==this.g)t:{let d=wi(this.g);var t=this.g.Ia();let u=this.g.da();if(!(3>d)&&(d!=3||Df||this.g&&(this.h.h||this.g.ja()||Kw(this.g)))){this.J||d!=4||t==7||(t==8||0>=u?ya(3):ya(2)),_d(this);var i=this.g.da();this.ca=i;e:if(xx(this)){var n=Kw(this.g);e="";var r=n.length,o=wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){or(this),fa(this);var s="";break e}this.h.i=new H.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:o&&t==r-1});n.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=i==200,Q1(this.j,this.v,this.B,this.m,this.W,d,i),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pa(a)){var l=a;break e}}l=null}if(i=l)yo(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bf(this,i);else{this.i=!1,this.s=3,ye(12),or(this),fa(this);break t}}this.S?(Ix(this,d,s),Df&&this.i&&d==3&&(hx(this.U,this.V,"tick",this.mb),this.V.start())):(yo(this.j,this.m,s,null),Bf(this,s)),d==4&&or(this),this.i&&!this.J&&(d==4?Hx(this.l,this):(this.i=!1,Sa(this)))}else vk(this.g),i==400&&0<s.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),or(this),fa(this)}}}catch{}finally{}};function xx(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Ix(e,t,i){let n=!0,r;for(;!e.J&&e.o<i.length;)if(r=J1(e,i),r==jf){t==4&&(e.s=4,ye(14),n=!1),yo(e.j,e.m,null,"[Incomplete Response]");break}else if(r==yx){e.s=4,ye(15),yo(e.j,e.m,i,"[Invalid Chunk]"),n=!1;break}else yo(e.j,e.m,r,null),Bf(e,r);xx(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||i.length!=0||e.h.h||(e.s=1,ye(16),n=!1),e.i=e.i&&n,n?0<i.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+i.length),up(t),t.M=!0,ye(11))):(yo(e.j,e.m,i,"[Invalid Chunked Response]"),or(e),fa(e))}D.mb=function(){if(this.g){var e=wi(this.g),t=this.g.ja();this.o<t.length&&(_d(this),Ix(this,e,t),this.i&&e!=4&&Sa(this))}};function J1(e,t){var i=e.o,n=t.indexOf(`
`,i);return n==-1?jf:(i=Number(t.substring(i,n)),isNaN(i)?yx:(n+=1,n+i>t.length?jf:(t=t.slice(n,n+i),e.o=n+i,t)))}D.cancel=function(){this.J=!0,or(this)};function Sa(e){e.Y=Date.now()+e.P,Ex(e,e.P)}function Ex(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Ca(he(e.lb,e),t)}function _d(e){e.C&&(H.clearTimeout(e.C),e.C=null)}D.lb=function(){this.C=null;let e=Date.now();0<=e-this.Y?(Y1(this.j,this.B),this.L!=2&&(ya(),ye(17)),or(this),this.s=2,fa(this)):Ex(this,this.Y-e)};function fa(e){e.l.H==0||e.J||Hx(e.l,e)}function or(e){_d(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,ep(e.V),mx(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Bf(e,t){try{var i=e.l;if(i.H!=0&&(i.g==e||Uf(i.i,e))){if(!e.K&&Uf(i.i,e)&&i.H==3){try{var n=i.Ja.g.parse(t)}catch{n=null}if(Array.isArray(n)&&n.length==3){var r=n;if(r[0]==0){t:if(!i.u){if(i.g)if(i.g.G+3e3<e.G)od(i),xd(i);else break t;dp(i),ye(18)}}else i.Fa=r[1],0<i.Fa-i.V&&37500>r[2]&&i.G&&i.A==0&&!i.v&&(i.v=Ca(he(i.ib,i),6e3));if(1>=Mx(i.i)&&i.oa){try{i.oa()}catch{}i.oa=void 0}}else sr(i,11)}else if((e.K||i.g==e)&&od(i),!pa(t))for(r=i.Ja.g.parse(t),t=0;t<r.length;t++){let l=r[t];if(i.V=l[0],l=l[1],i.H==2)if(l[0]=="c"){i.K=l[1],i.pa=l[2];let d=l[3];d!=null&&(i.ra=d,i.l.info("VER="+i.ra));let u=l[4];u!=null&&(i.Ga=u,i.l.info("SVER="+i.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(n=1.5*h,i.L=n,i.l.info("backChannelRequestTimeoutMs_="+n)),n=i;let m=e.g;if(m){let y=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=n.i;o.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(sp(o,o.h),o.h=null))}if(n.F){let _=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(n.Da=_,Et(n.I,n.F,_))}}i.H=3,i.h&&i.h.Ba(),i.ca&&(i.S=Date.now()-e.G,i.l.info("Handshake RTT: "+i.S+"ms")),n=i;var s=e;if(n.wa=Qx(n,n.J?n.pa:null,n.Y),s.K){Px(n.i,s);var a=s,c=n.L;c&&a.setTimeout(c),a.C&&(_d(a),Sa(a)),n.g=s}else qx(n);0<i.j.length&&Id(i)}else l[0]!="stop"&&l[0]!="close"||sr(i,7);else i.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?sr(i,7):lp(i):l[0]!="noop"&&i.h&&i.h.Aa(l),i.A=0)}}ya(4)}catch{}}function tk(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ld(e)){for(var t=[],i=e.length,n=0;n<i;n++)t.push(e[n]);return t}t=[],i=0;for(n in e)t[i++]=e[n];return t}function ek(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(ld(e)||typeof e=="string"){var t=[];e=e.length;for(var i=0;i<e;i++)t.push(i);return t}t=[],i=0;for(let n in e)t[i++]=n;return t}}}function Cx(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ld(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var i=ek(e),n=tk(e),r=n.length,o=0;o<r;o++)t.call(void 0,n[o],i&&i[o],e)}var Tx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ik(e,t){if(e){e=e.split("&");for(var i=0;i<e.length;i++){var n=e[i].indexOf("="),r=null;if(0<=n){var o=e[i].substring(0,n);r=e[i].substring(n+1)}else o=e[i];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ar(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ar){this.h=e.h,nd(this,e.j),this.s=e.s,this.g=e.g,rd(this,e.m),this.l=e.l;var t=e.i,i=new wa;i.i=t.i,t.g&&(i.g=new Map(t.g),i.h=t.h),Gw(this,i),this.o=e.o}else e&&(t=String(e).match(Tx))?(this.h=!1,nd(this,t[1]||"",!0),this.s=ha(t[2]||""),this.g=ha(t[3]||"",!0),rd(this,t[4]),this.l=ha(t[5]||"",!0),Gw(this,t[6]||"",!0),this.o=ha(t[7]||"")):(this.h=!1,this.i=new wa(null,this.h))}ar.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ma(t,Hw,!0),":");var i=this.g;return(i||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ma(t,Hw,!0),"@"),e.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&e.push(":",String(i))),(i=this.l)&&(this.g&&i.charAt(0)!="/"&&e.push("/"),e.push(ma(i,i.charAt(0)=="/"?ok:rk,!0))),(i=this.i.toString())&&e.push("?",i),(i=this.o)&&e.push("#",ma(i,ak)),e.join("")};function qi(e){return new ar(e)}function nd(e,t,i){e.j=i?ha(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gw(e,t,i){t instanceof wa?(e.i=t,ck(e.i,e.h)):(i||(t=ma(t,sk)),e.i=new wa(t,e.h))}function Et(e,t,i){e.i.set(t,i)}function vd(e){return Et(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ha(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ma(e,t,i){return typeof e=="string"?(e=encodeURI(e).replace(t,nk),i&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nk(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Hw=/[#\/\?@]/g,rk=/[#\?:]/g,ok=/[#\?]/g,sk=/[#\?@]/g,ak=/#/g;function wa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vn(e){e.g||(e.g=new Map,e.h=0,e.i&&ik(e.i,function(t,i){e.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}D=wa.prototype;D.add=function(e,t){vn(this),this.i=null,e=Io(this,e);var i=this.g.get(e);return i||this.g.set(e,i=[]),i.push(t),this.h+=1,this};function Ax(e,t){vn(e),t=Io(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Sx(e,t){return vn(e),t=Io(e,t),e.g.has(t)}D.forEach=function(e,t){vn(this),this.g.forEach(function(i,n){i.forEach(function(r){e.call(t,r,n,this)},this)},this)};D.ta=function(){vn(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),i=[];for(let n=0;n<t.length;n++){let r=e[n];for(let o=0;o<r.length;o++)i.push(t[n])}return i};D.Z=function(e){vn(this);let t=[];if(typeof e=="string")Sx(this,e)&&(t=t.concat(this.g.get(Io(this,e))));else{e=Array.from(this.g.values());for(let i=0;i<e.length;i++)t=t.concat(e[i])}return t};D.set=function(e,t){return vn(this),this.i=null,e=Io(this,e),Sx(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};D.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Dx(e,t,i){Ax(e,t),0<i.length&&(e.i=null,e.g.set(Io(e,t),Hf(i)),e.h+=i.length)}D.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var i=0;i<t.length;i++){var n=t[i];let o=encodeURIComponent(String(n)),s=this.Z(n);for(n=0;n<s.length;n++){var r=o;s[n]!==""&&(r+="="+encodeURIComponent(String(s[n]))),e.push(r)}}return this.i=e.join("&")};function Io(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ck(e,t){t&&!e.j&&(vn(e),e.i=null,e.g.forEach(function(i,n){var r=n.toLowerCase();n!=r&&(Ax(this,n),Dx(this,r,i))},e)),e.j=t}var lk=class{constructor(e,t){this.g=e,this.map=t}};function Rx(e){this.l=e||dk,H.PerformanceNavigationTiming?(e=H.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(H.g&&H.g.Ka&&H.g.Ka()&&H.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dk=10;function kx(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Mx(e){return e.h?1:e.g?e.g.size:0}function Uf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function sp(e,t){e.g?e.g.add(t):e.h=t}function Px(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Rx.prototype.cancel=function(){if(this.i=Fx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Fx(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let i of e.g.values())t=t.concat(i.F);return t}return Hf(e.i)}var uk=class{stringify(e){return H.JSON.stringify(e,void 0)}parse(e){return H.JSON.parse(e,void 0)}};function hk(){this.g=new uk}function mk(e,t,i){let n=i||"";try{Cx(e,function(r,o){let s=r;Ia(r)&&(s=Jf(r)),t.push(n+o+"="+encodeURIComponent(s))})}catch(r){throw t.push(n+"type="+encodeURIComponent("_badmap")),r}}function fk(e,t){let i=new fd;if(H.Image){let n=new Image;n.onload=Yl(ed,i,n,"TestLoadImage: loaded",!0,t),n.onerror=Yl(ed,i,n,"TestLoadImage: error",!1,t),n.onabort=Yl(ed,i,n,"TestLoadImage: abort",!1,t),n.ontimeout=Yl(ed,i,n,"TestLoadImage: timeout",!1,t),H.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}function ed(e,t,i,n,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(n)}catch{}}function Da(e){this.l=e.ec||null,this.j=e.ob||!1}ee(Da,np);Da.prototype.g=function(){return new yd(this.l,this.j)};Da.prototype.i=function(e){return function(){return e}}({});function yd(e,t){te.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ap,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ee(yd,te);var ap=0;D=yd.prototype;D.open=function(e,t){if(this.readyState!=ap)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xa(this)};D.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||H).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};D.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ra(this)),this.readyState=ap};D.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ox(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Ox(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}D.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ra(this):xa(this),this.readyState==3&&Ox(this)}};D.Za=function(e){this.g&&(this.response=this.responseText=e,Ra(this))};D.Ya=function(e){this.g&&(this.response=e,Ra(this))};D.ka=function(){this.g&&Ra(this)};function Ra(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xa(e)}D.setRequestHeader=function(e,t){this.v.append(e,t)};D.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};D.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var i=t.next();!i.done;)i=i.value,e.push(i[0]+": "+i[1]),i=t.next();return e.join(`\r
`)};function xa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var pk=H.JSON.parse;function Ft(e){te.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Nx,this.L=this.M=!1}ee(Ft,te);var Nx="",gk=/^https?$/i,bk=["POST","PUT"];D=Ft.prototype;D.Oa=function(e){this.M=e};D.ha=function(e,t,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lf.g(),this.C=this.u?qw(this.u):qw(Lf),this.g.onreadystatechange=he(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){Ww(this,o);return}if(e=i||"",i=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)i.set(r,n[r]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(let o of n.keys())i.set(o,n.get(o));else throw Error("Unknown input type for opt_headers: "+String(n));n=Array.from(i.keys()).find(o=>o.toLowerCase()=="content-type"),r=H.FormData&&e instanceof H.FormData,!(0<=Zw(bk,t))||n||r||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of i)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{jx(this),0<this.B&&((this.L=_k(this.g))?(this.g.timeout=this.B,this.g.ontimeout=he(this.ua,this)):this.A=ip(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Ww(this,o)}};function _k(e){return xo&&typeof e.timeout=="number"&&e.ontimeout!==void 0}D.ua=function(){typeof Gf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ce(this,"timeout"),this.abort(8))};function Ww(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vx(e),wd(e)}function Vx(e){e.F||(e.F=!0,ce(e,"complete"),ce(e,"error"))}D.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ce(this,"complete"),ce(this,"abort"),wd(this))};D.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wd(this,!0)),Ft.$.N.call(this)};D.La=function(){this.s||(this.G||this.v||this.l?Lx(this):this.kb())};D.kb=function(){Lx(this)};function Lx(e){if(e.h&&typeof Gf<"u"&&(!e.C[1]||wi(e)!=4||e.da()!=2)){if(e.v&&wi(e)==4)ip(e.La,0,e);else if(ce(e,"readystatechange"),wi(e)==4){e.h=!1;try{let s=e.da();t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var i;if(!(i=t)){var n;if(n=s===0){var r=String(e.I).match(Tx)[1]||null;!r&&H.self&&H.self.location&&(r=H.self.location.protocol.slice(0,-1)),n=!gk.test(r?r.toLowerCase():"")}i=n}if(i)ce(e,"complete"),ce(e,"success");else{e.m=6;try{var o=2<wi(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",Vx(e)}}finally{wd(e)}}}}function wd(e,t){if(e.g){jx(e);let i=e.g,n=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ce(e,"ready");try{i.onreadystatechange=n}catch{}}}function jx(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(H.clearTimeout(e.A),e.A=null)}D.isActive=function(){return!!this.g};function wi(e){return e.g?e.g.readyState:0}D.da=function(){try{return 2<wi(this)?this.g.status:-1}catch{return-1}};D.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};D.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),pk(t)}};function Kw(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Nx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function vk(e){let t={};e=(e.g&&2<=wi(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let n=0;n<e.length;n++){if(pa(e[n]))continue;var i=G1(e[n]);let r=i[0];if(i=i[1],typeof i!="string")continue;i=i.trim();let o=t[r]||[];t[r]=o,o.push(i)}B1(t,function(n){return n.join(", ")})}D.Ia=function(){return this.m};D.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function zx(e){let t="";return Kf(e,function(i,n){t+=n,t+=":",t+=i,t+=`\r
`}),t}function cp(e,t,i){t:{for(n in i){var n=!1;break t}n=!0}n||(i=zx(i),typeof e=="string"?i!=null&&encodeURIComponent(String(i)):Et(e,t,i))}function da(e,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[e]||t}function Bx(e){this.Ga=0,this.j=[],this.l=new fd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=da("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=da("baseRetryDelayMs",5e3,e),this.hb=da("retryDelaySeedMs",1e4,e),this.eb=da("forwardChannelMaxRetries",2,e),this.xa=da("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Rx(e&&e.concurrentRequestLimit),this.Ja=new hk,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}D=Bx.prototype;D.ra=8;D.H=1;function lp(e){if(Ux(e),e.H==3){var t=e.W++,i=qi(e.I);if(Et(i,"SID",e.K),Et(i,"RID",t),Et(i,"TYPE","terminate"),ka(e,i),t=new Aa(e,e.l,t),t.L=2,t.A=vd(qi(i)),i=!1,H.navigator&&H.navigator.sendBeacon)try{i=H.navigator.sendBeacon(t.A.toString(),"")}catch{}!i&&H.Image&&(new Image().src=t.A,i=!0),i||(t.g=Yx(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Sa(t)}Kx(e)}function xd(e){e.g&&(up(e),e.g.cancel(),e.g=null)}function Ux(e){xd(e),e.u&&(H.clearTimeout(e.u),e.u=null),od(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&H.clearTimeout(e.m),e.m=null)}function Id(e){if(!kx(e.i)&&!e.m){e.m=!0;var t=e.Na;ba||dx(),_a||(ba(),_a=!0),tp.add(t,e),e.C=0}}function yk(e,t){return Mx(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Ca(he(e.Na,e,t),Wx(e,e.C)),e.C++,!0)}D.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;let r=new Aa(this,this.l,e),o=this.s;if(this.U&&(o?(o=ix(o),nx(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)t:{for(var t=0,i=0;i<this.j.length;i++){e:{var n=this.j[i];if("__data__"in n.map&&(n=n.map.__data__,typeof n=="string")){n=n.length;break e}n=void 0}if(n===void 0)break;if(t+=n,4096<t){t=i;break t}if(t===4096||i===this.j.length-1){t=i+1;break t}}t=1e3}else t=1e3;t=$x(this,r,t),i=qi(this.I),Et(i,"RID",e),Et(i,"CVER",22),this.F&&Et(i,"X-HTTP-Session-Id",this.F),ka(this,i),o&&(this.O?t="headers="+encodeURIComponent(String(zx(o)))+"&"+t:this.o&&cp(i,this.o,o)),sp(this.i,r),this.bb&&Et(i,"TYPE","init"),this.P?(Et(i,"$req",t),Et(i,"SID","null"),r.aa=!0,zf(r,i,null)):zf(r,i,t),this.H=2}}else this.H==3&&(e?Qw(this,e):this.j.length==0||kx(this.i)||Qw(this))};function Qw(e,t){var i;t?i=t.m:i=e.W++;let n=qi(e.I);Et(n,"SID",e.K),Et(n,"RID",i),Et(n,"AID",e.V),ka(e,n),e.o&&e.s&&cp(n,e.o,e.s),i=new Aa(e,e.l,i,e.C+1),e.o===null&&(i.I=e.s),t&&(e.j=t.F.concat(e.j)),t=$x(e,i,1e3),i.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),sp(e.i,i),zf(i,n,t)}function ka(e,t){e.na&&Kf(e.na,function(i,n){Et(t,n,i)}),e.h&&Cx({},function(i,n){Et(t,n,i)})}function $x(e,t,i){i=Math.min(e.j.length,i);var n=e.h?he(e.h.Va,e.h,e):null;t:{var r=e.j;let o=-1;for(;;){let s=["count="+i];o==-1?0<i?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<i;c++){let l=r[c].g,d=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{mk(d,s,"req"+l+"_")}catch{n&&n(d)}}if(a){n=s.join("&");break t}}}return e=e.j.splice(0,i),t.F=e,n}function qx(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ba||dx(),_a||(ba(),_a=!0),tp.add(t,e),e.A=0}}function dp(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Ca(he(e.Ma,e),Wx(e,e.A)),e.A++,!0)}D.Ma=function(){if(this.u=null,Gx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ca(he(this.jb,this),e)}};D.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ye(10),xd(this),Gx(this))};function up(e){e.B!=null&&(H.clearTimeout(e.B),e.B=null)}function Gx(e){e.g=new Aa(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=qi(e.wa);Et(t,"RID","rpc"),Et(t,"SID",e.K),Et(t,"AID",e.V),Et(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Et(t,"TO",e.qa),Et(t,"TYPE","xmlhttp"),ka(e,t),e.o&&e.s&&cp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var i=e.g;e=e.pa,i.L=1,i.A=vd(qi(t)),i.u=null,i.S=!0,wx(i,e)}D.ib=function(){this.v!=null&&(this.v=null,xd(this),dp(this),ye(19))};function od(e){e.v!=null&&(H.clearTimeout(e.v),e.v=null)}function Hx(e,t){var i=null;if(e.g==t){od(e),up(e),e.g=null;var n=2}else if(Uf(e.i,t))i=t.F,Px(e.i,t),n=1;else return;if(e.H!=0){if(t.i)if(n==1){i=t.u?t.u.length:0,t=Date.now()-t.G;var r=e.C;n=pd(),ce(n,new gx(n,i)),Id(e)}else qx(e);else if(r=t.s,r==3||r==0&&0<t.ca||!(n==1&&yk(e,t)||n==2&&dp(e)))switch(i&&0<i.length&&(t=e.i,t.i=t.i.concat(i)),r){case 1:sr(e,5);break;case 4:sr(e,10);break;case 3:sr(e,6);break;default:sr(e,2)}}}function Wx(e,t){let i=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(i*=2),i*t}function sr(e,t){if(e.l.info("Error code "+t),t==2){var i=null;e.h&&(i=null);var n=he(e.pb,e);i||(i=new ar("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||nd(i,"https"),vd(i)),fk(i.toString(),n)}else ye(2);e.H=0,e.h&&e.h.za(t),Kx(e),Ux(e)}D.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ye(2)):(this.l.info("Failed to ping google.com"),ye(1))};function Kx(e){if(e.H=0,e.ma=[],e.h){let t=Fx(e.i);(t.length!=0||e.j.length!=0)&&(zw(e.ma,t),zw(e.ma,e.j),e.i.i.length=0,Hf(e.j),e.j.length=0),e.h.ya()}}function Qx(e,t,i){var n=i instanceof ar?qi(i):new ar(i);if(n.g!="")t&&(n.g=t+"."+n.g),rd(n,n.m);else{var r=H.location;n=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new ar(null);n&&nd(o,n),t&&(o.g=t),r&&rd(o,r),i&&(o.l=i),n=o}return i=e.F,t=e.Da,i&&t&&Et(n,i,t),Et(n,"VER",e.ra),ka(e,n),n}function Yx(e,t,i){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Ft(new Da({ob:i})):new Ft(e.va),t.Oa(e.J),t}D.isActive=function(){return!!this.h&&this.h.isActive(this)};function Xx(){}D=Xx.prototype;D.Ba=function(){};D.Aa=function(){};D.za=function(){};D.ya=function(){};D.isActive=function(){return!0};D.Va=function(){};function sd(){if(xo&&!(10<=Number(V1)))throw Error("Environmental error: no available transport.")}sd.prototype.g=function(e,t){return new Ne(e,t)};function Ne(e,t){te.call(this),this.g=new Bx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!pa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pa(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Eo(this)}ee(Ne,te);Ne.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,i=this.h||void 0;ye(0),e.Y=t,e.na=i||{},e.G=e.aa,e.I=Qx(e,null,e.Y),Id(e)};Ne.prototype.close=function(){lp(this.g)};Ne.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var i={};i.__data__=e,e=i}else this.v&&(i={},i.__data__=Jf(e),e=i);t.j.push(new lk(t.fb++,e)),t.H==3&&Id(t)};Ne.prototype.N=function(){this.g.h=null,delete this.j,lp(this.g),delete this.g,Ne.$.N.call(this)};function Zx(e){rp.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(let i in t){e=i;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ee(Zx,rp);function Jx(){op.call(this),this.status=1}ee(Jx,op);function Eo(e){this.g=e}ee(Eo,Xx);Eo.prototype.Ba=function(){ce(this.g,"a")};Eo.prototype.Aa=function(e){ce(this.g,new Zx(e))};Eo.prototype.za=function(e){ce(this.g,new Jx)};Eo.prototype.ya=function(){ce(this.g,"b")};function wk(){this.blockSize=-1}function ni(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ee(ni,wk);ni.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sf(e,t,i){i||(i=0);var n=Array(16);if(typeof t=="string")for(var r=0;16>r;++r)n[r]=t.charCodeAt(i++)|t.charCodeAt(i++)<<8|t.charCodeAt(i++)<<16|t.charCodeAt(i++)<<24;else for(r=0;16>r;++r)n[r]=t[i++]|t[i++]<<8|t[i++]<<16|t[i++]<<24;t=e.g[0],i=e.g[1],r=e.g[2];var o=e.g[3],s=t+(o^i&(r^o))+n[0]+3614090360&4294967295;t=i+(s<<7&4294967295|s>>>25),s=o+(r^t&(i^r))+n[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=r+(i^o&(t^i))+n[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(t^r&(o^t))+n[3]+3250441966&4294967295,i=r+(s<<22&4294967295|s>>>10),s=t+(o^i&(r^o))+n[4]+4118548399&4294967295,t=i+(s<<7&4294967295|s>>>25),s=o+(r^t&(i^r))+n[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=r+(i^o&(t^i))+n[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(t^r&(o^t))+n[7]+4249261313&4294967295,i=r+(s<<22&4294967295|s>>>10),s=t+(o^i&(r^o))+n[8]+1770035416&4294967295,t=i+(s<<7&4294967295|s>>>25),s=o+(r^t&(i^r))+n[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=r+(i^o&(t^i))+n[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(t^r&(o^t))+n[11]+2304563134&4294967295,i=r+(s<<22&4294967295|s>>>10),s=t+(o^i&(r^o))+n[12]+1804603682&4294967295,t=i+(s<<7&4294967295|s>>>25),s=o+(r^t&(i^r))+n[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=r+(i^o&(t^i))+n[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(t^r&(o^t))+n[15]+1236535329&4294967295,i=r+(s<<22&4294967295|s>>>10),s=t+(r^o&(i^r))+n[1]+4129170786&4294967295,t=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(t^i))+n[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=r+(t^i&(o^t))+n[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^t&(r^o))+n[0]+3921069994&4294967295,i=r+(s<<20&4294967295|s>>>12),s=t+(r^o&(i^r))+n[5]+3593408605&4294967295,t=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(t^i))+n[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=r+(t^i&(o^t))+n[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^t&(r^o))+n[4]+3889429448&4294967295,i=r+(s<<20&4294967295|s>>>12),s=t+(r^o&(i^r))+n[9]+568446438&4294967295,t=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(t^i))+n[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=r+(t^i&(o^t))+n[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^t&(r^o))+n[8]+1163531501&4294967295,i=r+(s<<20&4294967295|s>>>12),s=t+(r^o&(i^r))+n[13]+2850285829&4294967295,t=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(t^i))+n[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=r+(t^i&(o^t))+n[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^t&(r^o))+n[12]+2368359562&4294967295,i=r+(s<<20&4294967295|s>>>12),s=t+(i^r^o)+n[5]+4294588738&4294967295,t=i+(s<<4&4294967295|s>>>28),s=o+(t^i^r)+n[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=r+(o^t^i)+n[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^t)+n[14]+4259657740&4294967295,i=r+(s<<23&4294967295|s>>>9),s=t+(i^r^o)+n[1]+2763975236&4294967295,t=i+(s<<4&4294967295|s>>>28),s=o+(t^i^r)+n[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=r+(o^t^i)+n[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^t)+n[10]+3200236656&4294967295,i=r+(s<<23&4294967295|s>>>9),s=t+(i^r^o)+n[13]+681279174&4294967295,t=i+(s<<4&4294967295|s>>>28),s=o+(t^i^r)+n[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=r+(o^t^i)+n[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^t)+n[6]+76029189&4294967295,i=r+(s<<23&4294967295|s>>>9),s=t+(i^r^o)+n[9]+3654602809&4294967295,t=i+(s<<4&4294967295|s>>>28),s=o+(t^i^r)+n[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=r+(o^t^i)+n[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^t)+n[2]+3299628645&4294967295,i=r+(s<<23&4294967295|s>>>9),s=t+(r^(i|~o))+n[0]+4096336452&4294967295,t=i+(s<<6&4294967295|s>>>26),s=o+(i^(t|~r))+n[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=r+(t^(o|~i))+n[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~t))+n[5]+4237533241&4294967295,i=r+(s<<21&4294967295|s>>>11),s=t+(r^(i|~o))+n[12]+1700485571&4294967295,t=i+(s<<6&4294967295|s>>>26),s=o+(i^(t|~r))+n[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=r+(t^(o|~i))+n[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~t))+n[1]+2240044497&4294967295,i=r+(s<<21&4294967295|s>>>11),s=t+(r^(i|~o))+n[8]+1873313359&4294967295,t=i+(s<<6&4294967295|s>>>26),s=o+(i^(t|~r))+n[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=r+(t^(o|~i))+n[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~t))+n[13]+1309151649&4294967295,i=r+(s<<21&4294967295|s>>>11),s=t+(r^(i|~o))+n[4]+4149444226&4294967295,t=i+(s<<6&4294967295|s>>>26),s=o+(i^(t|~r))+n[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=r+(t^(o|~i))+n[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+o&4294967295}ni.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var i=t-this.blockSize,n=this.m,r=this.h,o=0;o<t;){if(r==0)for(;o<=i;)Sf(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(n[r++]=e.charCodeAt(o++),r==this.blockSize){Sf(this,n),r=0;break}}else for(;o<t;)if(n[r++]=e[o++],r==this.blockSize){Sf(this,n),r=0;break}}this.h=r,this.i+=t};ni.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var i=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=i&255,i/=256;for(this.j(e),e=Array(16),t=i=0;4>t;++t)for(var n=0;32>n;n+=8)e[i++]=this.g[t]>>>n&255;return e};function mt(e,t){this.h=t;for(var i=[],n=!0,r=e.length-1;0<=r;r--){var o=e[r]|0;n&&o==t||(i[r]=o,n=!1)}this.g=i}var xk={};function hp(e){return-128<=e&&128>e?F1(e,function(t){return new mt([t|0],0>t?-1:0)}):new mt([e|0],0>e?-1:0)}function xi(e){if(isNaN(e)||!isFinite(e))return wo;if(0>e)return ae(xi(-e));for(var t=[],i=1,n=0;e>=i;n++)t[n]=e/i|0,i*=$f;return new mt(t,0)}function tI(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ae(tI(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=xi(Math.pow(t,8)),n=wo,r=0;r<e.length;r+=8){var o=Math.min(8,e.length-r),s=parseInt(e.substring(r,r+o),t);8>o?(o=xi(Math.pow(t,o)),n=n.R(o).add(xi(s))):(n=n.R(i),n=n.add(xi(s)))}return n}var $f=4294967296,wo=hp(0),qf=hp(1),Yw=hp(16777216);D=mt.prototype;D.ea=function(){if(Ge(this))return-ae(this).ea();for(var e=0,t=1,i=0;i<this.g.length;i++){var n=this.D(i);e+=(0<=n?n:$f+n)*t,t*=$f}return e};D.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if($i(this))return"0";if(Ge(this))return"-"+ae(this).toString(e);for(var t=xi(Math.pow(e,6)),i=this,n="";;){var r=cd(i,t).g;i=ad(i,r.R(t));var o=((0<i.g.length?i.g[0]:i.h)>>>0).toString(e);if(i=r,$i(i))return o+n;for(;6>o.length;)o="0"+o;n=o+n}};D.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function $i(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Ge(e){return e.h==-1}D.X=function(e){return e=ad(this,e),Ge(e)?-1:$i(e)?0:1};function ae(e){for(var t=e.g.length,i=[],n=0;n<t;n++)i[n]=~e.g[n];return new mt(i,~e.h).add(qf)}D.abs=function(){return Ge(this)?ae(this):this};D.add=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],n=0,r=0;r<=t;r++){var o=n+(this.D(r)&65535)+(e.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);n=s>>>16,o&=65535,s&=65535,i[r]=s<<16|o}return new mt(i,i[i.length-1]&-2147483648?-1:0)};function ad(e,t){return e.add(ae(t))}D.R=function(e){if($i(this)||$i(e))return wo;if(Ge(this))return Ge(e)?ae(this).R(ae(e)):ae(ae(this).R(e));if(Ge(e))return ae(this.R(ae(e)));if(0>this.X(Yw)&&0>e.X(Yw))return xi(this.ea()*e.ea());for(var t=this.g.length+e.g.length,i=[],n=0;n<2*t;n++)i[n]=0;for(n=0;n<this.g.length;n++)for(var r=0;r<e.g.length;r++){var o=this.D(n)>>>16,s=this.D(n)&65535,a=e.D(r)>>>16,c=e.D(r)&65535;i[2*n+2*r]+=s*c,id(i,2*n+2*r),i[2*n+2*r+1]+=o*c,id(i,2*n+2*r+1),i[2*n+2*r+1]+=s*a,id(i,2*n+2*r+1),i[2*n+2*r+2]+=o*a,id(i,2*n+2*r+2)}for(n=0;n<t;n++)i[n]=i[2*n+1]<<16|i[2*n];for(n=t;n<2*t;n++)i[n]=0;return new mt(i,0)};function id(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ua(e,t){this.g=e,this.h=t}function cd(e,t){if($i(t))throw Error("division by zero");if($i(e))return new ua(wo,wo);if(Ge(e))return t=cd(ae(e),t),new ua(ae(t.g),ae(t.h));if(Ge(t))return t=cd(e,ae(t)),new ua(ae(t.g),t.h);if(30<e.g.length){if(Ge(e)||Ge(t))throw Error("slowDivide_ only works with positive integers.");for(var i=qf,n=t;0>=n.X(e);)i=Xw(i),n=Xw(n);var r=vo(i,1),o=vo(n,1);for(n=vo(n,2),i=vo(i,2);!$i(n);){var s=o.add(n);0>=s.X(e)&&(r=r.add(i),o=s),n=vo(n,1),i=vo(i,1)}return t=ad(e,r.R(t)),new ua(r,t)}for(r=wo;0<=e.X(t);){for(i=Math.max(1,Math.floor(e.ea()/t.ea())),n=Math.ceil(Math.log(i)/Math.LN2),n=48>=n?1:Math.pow(2,n-48),o=xi(i),s=o.R(t);Ge(s)||0<s.X(e);)i-=n,o=xi(i),s=o.R(t);$i(o)&&(o=qf),r=r.add(o),e=ad(e,s)}return new ua(r,e)}D.gb=function(e){return cd(this,e).h};D.and=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],n=0;n<t;n++)i[n]=this.D(n)&e.D(n);return new mt(i,this.h&e.h)};D.or=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],n=0;n<t;n++)i[n]=this.D(n)|e.D(n);return new mt(i,this.h|e.h)};D.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],n=0;n<t;n++)i[n]=this.D(n)^e.D(n);return new mt(i,this.h^e.h)};function Xw(e){for(var t=e.g.length+1,i=[],n=0;n<t;n++)i[n]=e.D(n)<<1|e.D(n-1)>>>31;return new mt(i,e.h)}function vo(e,t){var i=t>>5;t%=32;for(var n=e.g.length-i,r=[],o=0;o<n;o++)r[o]=0<t?e.D(o+i)>>>t|e.D(o+i+1)<<32-t:e.D(o+i);return new mt(r,e.h)}sd.prototype.createWebChannel=sd.prototype.g;Ne.prototype.send=Ne.prototype.u;Ne.prototype.open=Ne.prototype.m;Ne.prototype.close=Ne.prototype.close;gd.NO_ERROR=0;gd.TIMEOUT=8;gd.HTTP_ERROR=6;bx.COMPLETE="complete";_x.EventType=Ta;Ta.OPEN="a";Ta.CLOSE="b";Ta.ERROR="c";Ta.MESSAGE="d";te.prototype.listen=te.prototype.O;Ft.prototype.listenOnce=Ft.prototype.P;Ft.prototype.getLastError=Ft.prototype.Sa;Ft.prototype.getLastErrorCode=Ft.prototype.Ia;Ft.prototype.getStatus=Ft.prototype.da;Ft.prototype.getResponseJson=Ft.prototype.Wa;Ft.prototype.getResponseText=Ft.prototype.ja;Ft.prototype.send=Ft.prototype.ha;Ft.prototype.setWithCredentials=Ft.prototype.Oa;ni.prototype.digest=ni.prototype.l;ni.prototype.reset=ni.prototype.reset;ni.prototype.update=ni.prototype.j;mt.prototype.add=mt.prototype.add;mt.prototype.multiply=mt.prototype.R;mt.prototype.modulo=mt.prototype.gb;mt.prototype.compare=mt.prototype.X;mt.prototype.toNumber=mt.prototype.ea;mt.prototype.toString=mt.prototype.toString;mt.prototype.getBits=mt.prototype.D;mt.fromNumber=xi;mt.fromString=tI;var eI=ri.createWebChannelTransport=function(){return new sd},iI=ri.getStatEventTarget=function(){return pd()},Ed=ri.ErrorCode=gd,nI=ri.EventType=bx,rI=ri.Event=cr,mp=ri.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oI=ri.FetchXmlHttpFactory=Da,Ma=ri.WebChannel=_x,sI=ri.XhrIo=Ft,aI=ri.Md5=ni,lr=ri.Integer=mt;var cI="@firebase/firestore";var Gt=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");var es="10.11.1";var Tn=new Uc("@firebase/firestore");function Do(){return Tn.logLevel}function gb(e){Tn.setLogLevel(e)}function w(e,...t){if(Tn.logLevel<=mi.DEBUG){let i=t.map(bb);Tn.debug(`Firestore (${es}): ${e}`,...i)}}function Lt(e,...t){if(Tn.logLevel<=mi.ERROR){let i=t.map(bb);Tn.error(`Firestore (${es}): ${e}`,...i)}}function We(e,...t){if(Tn.logLevel<=mi.WARN){let i=t.map(bb);Tn.warn(`Firestore (${es}): ${e}`,...i)}}function bb(e){if(typeof e=="string")return e;try{return function(i){return JSON.stringify(i)}(e)}catch{return e}}function k(e="Unexpected state"){let t=`FIRESTORE (${es}) INTERNAL ASSERTION FAILED: `+e;throw Lt(t),new Error(t)}function L(e,t){e||k()}function cE(e,t){e||k()}function S(e,t){return e}var p={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},v=class extends Uv{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ht=class{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}};var Od=class{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},_p=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Gt.UNAUTHENTICATED))}shutdown(){}},vp=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},yp=class{constructor(t){this.t=t,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){let n=this.i,r=c=>this.i!==n?(n=this.i,i(c)):Promise.resolve(),o=new Ht;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ht,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;t.enqueueRetryable(()=>g(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{w("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(w("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ht)}},0),s()}getToken(){let t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==t?(w("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(L(typeof n.accessToken=="string"),new Od(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let t=this.auth&&this.auth.getUid();return L(t===null||typeof t=="string"),new Gt(t)}},wp=class{constructor(t,i,n){this.l=t,this.h=i,this.P=n,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},xp=class{constructor(t,i,n){this.l=t,this.h=i,this.P=n}getToken(){return Promise.resolve(new wp(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ip=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ep=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){let n=o=>{o.error!=null&&w("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,w("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?i(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};let r=o=>{w("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):w("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(L(typeof i.token=="string"),this.R=i.token,new Ip(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Ik(e){let t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let n=0;n<e;n++)i[n]=Math.floor(256*Math.random());return i}var Nd=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length,n="";for(;n.length<20;){let r=Ik(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<i&&(n+=t.charAt(r[o]%t.length))}return n}};function W(e,t){return e<t?-1:e>t?1:0}function Lo(e,t,i){return e.length===t.length&&e.every((n,r)=>i(n,t[r]))}function lE(e){return e+"\0"}var Pt=class e{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new v(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new v(p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new v(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new v(p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let i=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*i));return new e(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?W(this.nanoseconds,t.nanoseconds):W(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var z=class e{constructor(t){this.timestamp=t}static fromTimestamp(t){return new e(t)}static min(){return new e(new Pt(0,0))}static max(){return new e(new Pt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vd=class e{constructor(t,i,n){i===void 0?i=0:i>t.length&&k(),n===void 0?n=t.length-i:n>t.length-i&&k(),this.segments=t,this.offset=i,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let i=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(n=>{i.push(n)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,n=this.limit();i<n;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){let n=Math.min(t.length,i.length);for(let r=0;r<n;r++){let o=t.get(r),s=i.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<i.length?-1:t.length>i.length?1:0}},at=class e extends Vd{construct(t,i,n){return new e(t,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let i=[];for(let n of t){if(n.indexOf("//")>=0)throw new v(p.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new e(i)}static emptyPath(){return new e([])}},Ek=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class e extends Vd{construct(t,i,n){return new e(t,i,n)}static isValidIdentifier(t){return Ek.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new e(["__name__"])}static fromServerFormat(t){let i=[],n="",r=0,o=()=>{if(n.length===0)throw new v(p.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""},s=!1;for(;r<t.length;){let a=t[r];if(a==="\\"){if(r+1===t.length)throw new v(p.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new v(p.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(n+=a,r++):(o(),r++)}if(o(),s)throw new v(p.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(i)}static emptyPath(){return new e([])}};var A=class e{constructor(t){this.path=t}static fromPath(t){return new e(at.fromString(t))}static fromName(t){return new e(at.fromString(t).popFirst(5))}static empty(){return new e(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&at.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return at.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new e(new at(t.slice()))}};var jo=class{constructor(t,i,n,r){this.indexId=t,this.collectionGroup=i,this.fields=n,this.indexState=r}};function Cp(e){return e.fields.find(t=>t.kind===2)}function ur(e){return e.fields.filter(t=>t.kind!==2)}jo.UNKNOWN_ID=-1;var Oo=class{constructor(t,i){this.fieldPath=t,this.kind=i}};var qa=class e{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new e(0,Ke.min())}};function dE(e,t){let i=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=z.fromTimestamp(n===1e9?new Pt(i+1,0):new Pt(i,n));return new Ke(r,A.empty(),t)}function uE(e){return new Ke(e.readTime,e.key,-1)}var Ke=class e{constructor(t,i,n){this.readTime=t,this.documentKey=i,this.largestBatchId=n}static min(){return new e(z.min(),A.empty(),-1)}static max(){return new e(z.max(),A.empty(),-1)}};function _b(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=A.comparator(e.documentKey,t.documentKey),i!==0?i:W(e.largestBatchId,t.largestBatchId))}var hE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ld=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function Nn(e){return g(this,null,function*(){if(e.code!==p.FAILED_PRECONDITION||e.message!==hE)throw e;w("LocalStore","Unexpectedly lost primary lease")})}var f=class e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&k(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new e((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,r)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{let i=t();return i instanceof e?i:e.resolve(i)}catch(i){return e.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):e.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):e.reject(i)}static resolve(t){return new e((i,n)=>{i(t)})}static reject(t){return new e((i,n)=>{n(t)})}static waitFor(t){return new e((i,n)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&i()},c=>n(c))}),s=!0,o===r&&i()})}static or(t){let i=e.resolve(!1);for(let n of t)i=i.next(r=>r?e.resolve(r):n());return i}static forEach(t,i){let n=[];return t.forEach((r,o)=>{n.push(i.call(this,r,o))}),this.waitFor(n)}static mapArray(t,i){return new e((n,r)=>{let o=t.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;i(t[l]).next(d=>{s[l]=d,++a,a===o&&n(s)},d=>r(d))}})}static doWhile(t,i){return new e((n,r)=>{let o=()=>{t()===!0?i().next(()=>{o()},r):n()};o()})}};var jd=class e{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new Ht,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new br(t,i.error)):this.V.resolve()},this.transaction.onerror=n=>{let r=vb(n.target.error);this.V.reject(new br(t,r))}}static open(t,i,n,r){try{return new e(i,t.transaction(r,n))}catch(o){throw new br(i,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(w("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){let i=this.transaction.objectStore(t);return new Ap(i)}},An=class e{constructor(t,i,n){this.name=t,this.version=i,this.p=n,e.S(xs())===12.2&&Lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return w("SimpleDb","Removing database:",t),hr(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!Bc())return!1;if(e.C())return!0;let t=xs(),i=e.S(t),n=0<i&&i<10,r=mE(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||o)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.v)==="YES"}static F(t,i){return t.store(i)}static S(t){let i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(n)}M(t){return g(this,null,function*(){return this.db||(w("SimpleDb","Opening database:",this.name),this.db=yield new Promise((i,n)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;i(s)},r.onblocked=()=>{n(new br(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?n(new v(p.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?n(new v(p.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new br(t,s))},r.onupgradeneeded=o=>{w("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,r.transaction,o.oldVersion,this.version).next(()=>{w("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=i=>this.N(i)),this.db})}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,n,r){return g(this,null,function*(){let o=i==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(t);let a=jd.open(this.db,t,o?"readonly":"readwrite",n),c=r(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),f.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(w("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function mE(e){let t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}var Tp=class{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return hr(this.B.delete())}},br=class extends v{constructor(t,i){super(p.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}};function Vn(e){return e.name==="IndexedDbTransactionError"}var Ap=class{constructor(t){this.store=t}put(t,i){let n;return i!==void 0?(w("SimpleDb","PUT",this.store.name,t,i),n=this.store.put(i,t)):(w("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),hr(n)}add(t){return w("SimpleDb","ADD",this.store.name,t,t),hr(this.store.add(t))}get(t){return hr(this.store.get(t)).next(i=>(i===void 0&&(i=null),w("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return w("SimpleDb","DELETE",this.store.name,t),hr(this.store.delete(t))}count(){return w("SimpleDb","COUNT",this.store.name),hr(this.store.count())}U(t,i){let n=this.options(t,i),r=n.index?this.store.index(n.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(n.range);return new f((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{let o=this.cursor(n),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(t,i){let n=this.store.getAll(t,i===null?void 0:i);return new f((r,o)=>{n.onerror=s=>{o(s.target.error)},n.onsuccess=s=>{r(s.target.result)}})}j(t,i){w("SimpleDb","DELETE ALL",this.store.name);let n=this.options(t,i);n.H=!1;let r=this.cursor(n);return this.W(r,(o,s,a)=>a.delete())}J(t,i){let n;i?n=t:(n={},i=t);let r=this.cursor(n);return this.W(r,i)}Y(t){let i=this.cursor({});return new f((n,r)=>{i.onerror=o=>{let s=vb(o.target.error);r(s)},i.onsuccess=o=>{let s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():n()}):n()}})}W(t,i){let n=[];return new f((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let c=new Tp(a),l=i(a.primaryKey,a.value,c);if(l instanceof f){let d=l.catch(u=>(c.done(),f.reject(u)));n.push(d)}c.isDone?r():c.K===null?a.continue():a.continue(c.K)}}).next(()=>f.waitFor(n))}options(t,i){let n;return t!==void 0&&(typeof t=="string"?n=t:i=t),{index:n,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){let n=this.store.index(t.index);return t.H?n.openKeyCursor(t.range,i):n.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}};function hr(e){return new f((t,i)=>{e.onsuccess=n=>{let r=n.target.result;t(r)},e.onerror=n=>{let r=vb(n.target.error);i(r)}})}var lI=!1;function vb(e){let t=An.S(xs());if(t>=12.2&&t<13){let i="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(i)>=0){let n=new v("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lI||(lI=!0,setTimeout(()=>{throw n},0)),n}}return e}var Sp=class{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(t){w("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,()=>g(this,null,function*(){this.task=null;try{w("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(i){Vn(i)?w("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Nn(i)}yield this.X(6e4)}))}},Dp=class{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){return g(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>this.te(i,t))})}te(t,i){let n=new Set,r=i,o=!0;return f.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(s!==null&&!n.has(s))return w("IndexBackfiller",`Processing collection: ${s}`),this.ne(t,s,r).next(a=>{r-=a,n.add(s)});o=!1})).next(()=>i-r)}ne(t,i,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(r=>this.localStore.localDocuments.getNextDocuments(t,i,r,n).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.re(r,o)).next(a=>(w("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,i,a))).next(()=>s.size)}))}re(t,i){let n=t;return i.changes.forEach((r,o)=>{let s=uE(o);_b(s,n)>0&&(n=s)}),new Ke(n.readTime,n.documentKey,Math.max(i.batchId,t.largestBatchId))}};var Ve=(()=>{class e{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.se&&this.se(i),i}}return e.oe=-1,e})();function hc(e){return e==null}function Ga(e){return e===0&&1/e==-1/0}function fE(e){return typeof e=="number"&&Number.isInteger(e)&&!Ga(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function we(e){let t="";for(let i=0;i<e.length;i++)t.length>0&&(t=dI(t)),t=Ck(e.get(i),t);return dI(t)}function Ck(e,t){let i=t,n=e.length;for(let r=0;r<n;r++){let o=e.charAt(r);switch(o){case"\0":i+="";break;case"":i+="";break;default:i+=o}}return i}function dI(e){return e+""}function Ii(e){let t=e.length;if(L(t>=2),t===2)return L(e.charAt(0)===""&&e.charAt(1)===""),at.emptyPath();let i=t-2,n=[],r="";for(let o=0;o<t;){let s=e.indexOf("",o);switch((s<0||s>i)&&k(),e.charAt(s+1)){case"":let a=e.substring(o,s),c;r.length===0?c=a:(r+=a,c=r,r=""),n.push(c);break;case"":r+=e.substring(o,s),r+="\0";break;case"":r+=e.substring(o,s+1);break;default:k()}o=s+2}return new at(n)}var uI=["userId","batchId"];function Dd(e,t){return[e,we(t)]}function pE(e,t,i){return[e,we(t),i]}var Tk={},Ak=["prefixPath","collectionGroup","readTime","documentId"],Sk=["prefixPath","collectionGroup","documentId"],Dk=["collectionGroup","readTime","prefixPath","documentId"],Rk=["canonicalId","targetId"],kk=["targetId","path"],Mk=["path","targetId"],Pk=["collectionId","parent"],Fk=["indexId","uid"],Ok=["uid","sequenceNumber"],Nk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vk=["indexId","uid","orderedDocumentKey"],Lk=["userId","collectionPath","documentId"],jk=["userId","collectionPath","largestBatchId"],zk=["userId","collectionGroup","largestBatchId"],gE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bk=[...gE,"documentOverlays"],bE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_E=bE,vE=[..._E,"indexConfiguration","indexState","indexEntries"],Uk=vE;var Ha=class extends Ld{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}};function ne(e,t){let i=S(e);return An.F(i._e,t)}function hI(e){let t=0;for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function Dr(e,t){for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function yE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ct=class e{constructor(t,i){this.comparator=t,this.root=i||Ci.EMPTY}insert(t,i){return new e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){let n=this.comparator(t,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(t){let i=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,n)=>(t(i,n),!1))}toString(){let t=[];return this.inorderTraversal((i,n)=>(t.push(`${i}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fo(this.root,t,this.comparator,!0)}},Fo=class{constructor(t,i,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=i?n(t.key,i):1,i&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Ci=class e{constructor(t,i,n,r,o){this.key=t,this.value=i,this.color=n??e.RED,this.left=r??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,n,r,o){return new e(t??this.key,i??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,n){let r=this,o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,i,n),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(t,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let n,r=this;if(i(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(t,r.key)===0){if(r.right.isEmpty())return e.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw k();let t=this.left.check();if(t!==this.right.check())throw k();return t+(this.isRed()?0:1)}};Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1;Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw k()}get value(){throw k()}get color(){throw k()}get left(){throw k()}get right(){throw k()}copy(t,i,n,r,o){return this}insert(t,i,n){return new Ci(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var bt=class e{constructor(t){this.comparator=t,this.data=new Ct(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,n)=>(t(i),!1))}forEachInRange(t,i){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;i(r.key)}}forEachWhile(t,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new zd(this.data.getIterator())}getIteratorFrom(t){return new zd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(n=>{i=i.add(n)}),i}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let i=this.data.getIterator(),n=t.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(i=>{t.push(i)}),t}toString(){let t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){let i=new e(this.comparator);return i.data=t,i}},zd=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Co(e){return e.hasNext()?e.getNext():void 0}var Le=class e{constructor(t){this.fields=t,t.sort(jt.comparator)}static empty(){return new e([])}unionWith(t){let i=new bt(jt.comparator);for(let n of this.fields)i=i.add(n);for(let n of t)i=i.add(n);return new e(i.toArray())}covers(t){for(let i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Lo(this.fields,t.fields,(i,n)=>i.isEqual(n))}};var Bd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function wE(){return typeof atob<"u"}var ie=class e{constructor(t){this.binaryString=t}static fromBase64String(t){let i=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bd("Invalid base64 string: "+o):o}}(t);return new e(i)}static fromUint8Array(t){let i=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return W(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};ie.EMPTY_BYTE_STRING=new ie("");var $k=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(e){if(L(!!e),typeof e=="string"){let t=0,i=$k.exec(e);if(L(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Ot(e.seconds),nanos:Ot(e.nanos)}}function Ot(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Sn(e){return typeof e=="string"?ie.fromBase64String(e):ie.fromUint8Array(e)}function ku(e){var t,i;return((i=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function yb(e){let t=e.mapValue.fields.__previous_value__;return ku(t)?yb(t):t}function Wa(e){let t=Wi(e.mapValue.fields.__local_write_time__.timestampValue);return new Pt(t.seconds,t.nanos)}var Rp=class{constructor(t,i,n,r,o,s,a,c,l){this.databaseId=t,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Dn=class e{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new e("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};var En={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rd={nullValue:"NULL_VALUE"};function _r(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ku(e)?4:xE(e)?9007199254740991:10:k()}function Si(e,t){if(e===t)return!0;let i=_r(e);if(i!==_r(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wa(e).isEqual(Wa(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Wi(r.timestampValue),a=Wi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Sn(r.bytesValue).isEqual(Sn(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Ot(r.geoPointValue.latitude)===Ot(o.geoPointValue.latitude)&&Ot(r.geoPointValue.longitude)===Ot(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ot(r.integerValue)===Ot(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Ot(r.doubleValue),a=Ot(o.doubleValue);return s===a?Ga(s)===Ga(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Lo(e.arrayValue.values||[],t.arrayValue.values||[],Si);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(hI(s)!==hI(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Si(s[c],a[c])))return!1;return!0}(e,t);default:return k()}}function Ka(e,t){return(e.values||[]).find(i=>Si(i,t))!==void 0}function Rn(e,t){if(e===t)return 0;let i=_r(e),n=_r(t);if(i!==n)return W(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return W(e.booleanValue,t.booleanValue);case 2:return function(o,s){let a=Ot(o.integerValue||o.doubleValue),c=Ot(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return mI(e.timestampValue,t.timestampValue);case 4:return mI(Wa(e),Wa(t));case 5:return W(e.stringValue,t.stringValue);case 6:return function(o,s){let a=Sn(o),c=Sn(s);return a.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=W(a[l],c[l]);if(d!==0)return d}return W(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){let a=W(Ot(o.latitude),Ot(s.latitude));return a!==0?a:W(Ot(o.longitude),Ot(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let d=Rn(a[l],c[l]);if(d)return d}return W(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===En.mapValue&&s===En.mapValue)return 0;if(o===En.mapValue)return 1;if(s===En.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let u=0;u<c.length&&u<d.length;++u){let h=W(c[u],d[u]);if(h!==0)return h;let m=Rn(a[c[u]],l[d[u]]);if(m!==0)return m}return W(c.length,d.length)}(e.mapValue,t.mapValue);default:throw k()}}function mI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return W(e,t);let i=Wi(e),n=Wi(t),r=W(i.seconds,n.seconds);return r!==0?r:W(i.nanos,n.nanos)}function zo(e){return kp(e)}function kp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){let n=Wi(i);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(i){return Sn(i).toBase64()}(e.bytesValue):"referenceValue"in e?function(i){return A.fromName(i).toString()}(e.referenceValue):"geoPointValue"in e?function(i){return`geo(${i.latitude},${i.longitude})`}(e.geoPointValue):"arrayValue"in e?function(i){let n="[",r=!0;for(let o of i.values||[])r?r=!1:n+=",",n+=kp(o);return n+"]"}(e.arrayValue):"mapValue"in e?function(i){let n=Object.keys(i.fields||{}).sort(),r="{",o=!0;for(let s of n)o?o=!1:r+=",",r+=`${s}:${kp(i.fields[s])}`;return r+"}"}(e.mapValue):k()}function vr(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Mp(e){return!!e&&"integerValue"in e}function Qa(e){return!!e&&"arrayValue"in e}function fI(e){return!!e&&"nullValue"in e}function pI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kd(e){return!!e&&"mapValue"in e}function ja(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return Dr(e.mapValue.fields,(i,n)=>t.mapValue.fields[i]=ja(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ja(e.arrayValue.values[i]);return t}return Object.assign({},e)}function xE(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function qk(e){return"nullValue"in e?Rd:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?vr(Dn.empty(),A.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:k()}function Gk(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?vr(Dn.empty(),A.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?En:k()}function gI(e,t){let i=Rn(e.value,t.value);return i!==0?i:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function bI(e,t){let i=Rn(e.value,t.value);return i!==0?i:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var pe=class e{constructor(t){this.value=t}static empty(){return new e({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let n=0;n<t.length-1;++n)if(i=(i.mapValue.fields||{})[t.get(n)],!kd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ja(i)}setAll(t){let i=jt.emptyPath(),n={},r=[];t.forEach((s,a)=>{if(!i.isImmediateParentOf(a)){let c=this.getFieldsMap(i);this.applyChanges(c,n,r),n={},r=[],i=a.popLast()}s?n[a.lastSegment()]=ja(s):r.push(a.lastSegment())});let o=this.getFieldsMap(i);this.applyChanges(o,n,r)}delete(t){let i=this.field(t.popLast());kd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Si(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=i.mapValue.fields[t.get(n)];kd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[t.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(t,i,n){Dr(i,(r,o)=>t[r]=o);for(let r of n)delete t[r]}clone(){return new e(ja(this.value))}};function IE(e){let t=[];return Dr(e.fields,(i,n)=>{let r=new jt([i]);if(kd(n)){let o=IE(n.mapValue).fields;if(o.length===0)t.push(r);else for(let s of o)t.push(r.child(s))}else t.push(r)}),new Le(t)}var Wt=class e{constructor(t,i,n,r,o,s,a){this.key=t,this.documentType=i,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new e(t,0,z.min(),z.min(),z.min(),pe.empty(),0)}static newFoundDocument(t,i,n,r){return new e(t,1,i,z.min(),n,r,0)}static newNoDocument(t,i){return new e(t,2,i,z.min(),z.min(),pe.empty(),0)}static newUnknownDocument(t,i){return new e(t,3,i,z.min(),z.min(),pe.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Di=class{constructor(t,i){this.position=t,this.inclusive=i}};function _I(e,t,i){let n=0;for(let r=0;r<e.position.length;r++){let o=t[r],s=e.position[r];if(o.field.isKeyField()?n=A.comparator(A.fromName(s.referenceValue),i.key):n=Rn(s,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function vI(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!Si(e.position[i],t.position[i]))return!1;return!0}var yr=class{constructor(t,i="asc"){this.field=t,this.dir=i}};function Hk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Ud=class{},ot=class e extends Ud{constructor(t,i,n){super(),this.field=t,this.op=i,this.value=n}static create(t,i,n){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,n):new Op(t,i,n):i==="array-contains"?new Lp(t,n):i==="in"?new $d(t,n):i==="not-in"?new jp(t,n):i==="array-contains-any"?new zp(t,n):new e(t,i,n)}static createKeyFieldInFilter(t,i,n){return i==="in"?new Np(t,n):new Vp(t,n)}matches(t){let i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Rn(i,this.value)):i!==null&&_r(this.value)===_r(i)&&this.matchesComparison(Rn(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return k()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ft=class e extends Ud{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new e(t,i)}matches(t){return Bo(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Bo(e){return e.op==="and"}function Pp(e){return e.op==="or"}function wb(e){return EE(e)&&Bo(e)}function EE(e){for(let t of e.filters)if(t instanceof ft)return!1;return!0}function Fp(e){if(e instanceof ot)return e.field.canonicalString()+e.op.toString()+zo(e.value);if(wb(e))return e.filters.map(t=>Fp(t)).join(",");{let t=e.filters.map(i=>Fp(i)).join(",");return`${e.op}(${t})`}}function CE(e,t){return e instanceof ot?function(n,r){return r instanceof ot&&n.op===r.op&&n.field.isEqual(r.field)&&Si(n.value,r.value)}(e,t):e instanceof ft?function(n,r){return r instanceof ft&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((o,s,a)=>o&&CE(s,r.filters[a]),!0):!1}(e,t):void k()}function TE(e,t){let i=e.filters.concat(t);return ft.create(i,e.op)}function AE(e){return e instanceof ot?function(i){return`${i.field.canonicalString()} ${i.op} ${zo(i.value)}`}(e):e instanceof ft?function(i){return i.op.toString()+" {"+i.getFilters().map(AE).join(" ,")+"}"}(e):"Filter"}var Op=class extends ot{constructor(t,i,n){super(t,i,n),this.key=A.fromName(n.referenceValue)}matches(t){let i=A.comparator(t.key,this.key);return this.matchesComparison(i)}},Np=class extends ot{constructor(t,i){super(t,"in",i),this.keys=SE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}},Vp=class extends ot{constructor(t,i){super(t,"not-in",i),this.keys=SE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}};function SE(e,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>A.fromName(n.referenceValue))}var Lp=class extends ot{constructor(t,i){super(t,"array-contains",i)}matches(t){let i=t.data.field(this.field);return Qa(i)&&Ka(i.arrayValue,this.value)}},$d=class extends ot{constructor(t,i){super(t,"in",i)}matches(t){let i=t.data.field(this.field);return i!==null&&Ka(this.value.arrayValue,i)}},jp=class extends ot{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=t.data.field(this.field);return i!==null&&!Ka(this.value.arrayValue,i)}},zp=class extends ot{constructor(t,i){super(t,"array-contains-any",i)}matches(t){let i=t.data.field(this.field);return!(!Qa(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>Ka(this.value.arrayValue,n))}};var Bp=class{constructor(t,i=null,n=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function Up(e,t=null,i=[],n=[],r=null,o=null,s=null){return new Bp(e,t,i,n,r,o,s)}function wr(e){let t=S(e);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(n=>Fp(n)).join(","),i+="|ob:",i+=t.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),hc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(n=>zo(n)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(n=>zo(n)).join(",")),t.ue=i}return t.ue}function mc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Hk(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!CE(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vI(e.startAt,t.startAt)&&vI(e.endAt,t.endAt)}function qd(e){return A.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function Gd(e,t){return e.filters.filter(i=>i instanceof ot&&i.field.isEqual(t))}function yI(e,t,i){let n=Rd,r=!0;for(let o of Gd(e,t)){let s=Rd,a=!0;switch(o.op){case"<":case"<=":s=qk(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Rd}gI({value:n,inclusive:r},{value:s,inclusive:a})<0&&(n=s,r=a)}if(i!==null){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){let s=i.position[o];gI({value:n,inclusive:r},{value:s,inclusive:i.inclusive})<0&&(n=s,r=i.inclusive);break}}return{value:n,inclusive:r}}function wI(e,t,i){let n=En,r=!0;for(let o of Gd(e,t)){let s=En,a=!0;switch(o.op){case">=":case">":s=Gk(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=En}bI({value:n,inclusive:r},{value:s,inclusive:a})>0&&(n=s,r=a)}if(i!==null){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){let s=i.position[o];bI({value:n,inclusive:r},{value:s,inclusive:i.inclusive})>0&&(n=s,r=i.inclusive);break}}return{value:n,inclusive:r}}var oi=class{constructor(t,i=null,n=[],r=[],o=null,s="F",a=null,c=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function DE(e,t,i,n,r,o,s,a){return new oi(e,t,i,n,r,o,s,a)}function is(e){return new oi(e)}function xI(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function xb(e){return e.collectionGroup!==null}function No(e){let t=S(e);if(t.ce===null){t.ce=[];let i=new Set;for(let o of t.explicitOrderBy)t.ce.push(o),i.add(o.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new bt(jt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(o=>{i.has(o.canonicalString())||o.isKeyField()||t.ce.push(new yr(o,n))}),i.has(jt.keyField().canonicalString())||t.ce.push(new yr(jt.keyField(),n))}return t.ce}function xe(e){let t=S(e);return t.le||(t.le=Wk(t,No(e))),t.le}function Wk(e,t){if(e.limitType==="F")return Up(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new yr(r.field,o)});let i=e.endAt?new Di(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Di(e.startAt.position,e.startAt.inclusive):null;return Up(e.path,e.collectionGroup,t,e.filters,e.limit,i,n)}}function $p(e,t){let i=e.filters.concat([t]);return new oi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),i,e.limit,e.limitType,e.startAt,e.endAt)}function Hd(e,t,i){return new oi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function fc(e,t){return mc(xe(e),xe(t))&&e.limitType===t.limitType}function RE(e){return`${wr(xe(e))}|lt:${e.limitType}`}function Ro(e){return`Query(target=${function(i){let n=i.path.canonicalString();return i.collectionGroup!==null&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>AE(r)).join(", ")}]`),hc(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),i.startAt&&(n+=", startAt: ",n+=i.startAt.inclusive?"b:":"a:",n+=i.startAt.position.map(r=>zo(r)).join(",")),i.endAt&&(n+=", endAt: ",n+=i.endAt.inclusive?"a:":"b:",n+=i.endAt.position.map(r=>zo(r)).join(",")),`Target(${n})`}(xe(e))}; limitType=${e.limitType})`}function pc(e,t){return t.isFoundDocument()&&function(n,r){let o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):A.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(let o of No(n))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(e,t)&&function(n,r){for(let o of n.filters)if(!o.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(s,a,c){let l=_I(s,a,c);return s.inclusive?l<=0:l<0}(n.startAt,No(n),r)||n.endAt&&!function(s,a,c){let l=_I(s,a,c);return s.inclusive?l>=0:l>0}(n.endAt,No(n),r))}(e,t)}function kE(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ME(e){return(t,i)=>{let n=!1;for(let r of No(e)){let o=Kk(r,t,i);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function Kk(e,t,i){let n=e.field.isKeyField()?A.comparator(t.key,i.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Rn(c,l):k()}(e.field,t,i);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return k()}}var Ri=class{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){let i=this.mapKeyFn(t),n=this.inner[i];if(n!==void 0){for(let[r,o]of n)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,i){let n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return this.inner[n]=[[t,i]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,i]);r.push([t,i]),this.innerSize++}delete(t){let i=this.mapKeyFn(t),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return n.length===1?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Dr(this.inner,(i,n)=>{for(let[r,o]of n)t(r,o)})}isEmpty(){return yE(this.inner)}size(){return this.innerSize}};var Qk=new Ct(A.comparator);function Se(){return Qk}var PE=new Ct(A.comparator);function Va(...e){let t=PE;for(let i of e)t=t.insert(i.key,i);return t}function FE(e){let t=PE;return e.forEach((i,n)=>t=t.insert(i,n.overlayedDocument)),t}function Ei(){return za()}function OE(){return za()}function za(){return new Ri(e=>e.toString(),(e,t)=>e.isEqual(t))}var Yk=new Ct(A.comparator),Xk=new bt(A.comparator);function K(...e){let t=Xk;for(let i of e)t=t.add(i);return t}var Zk=new bt(W);function Ib(){return Zk}function NE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ga(t)?"-0":t}}function VE(e){return{integerValue:""+e}}function LE(e,t){return fE(t)?VE(t):NE(e,t)}var Uo=class{constructor(){this._=void 0}};function Jk(e,t,i){return e instanceof kn?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ku(o)&&(o=yb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(i,t):e instanceof Ki?zE(e,t):e instanceof Qi?BE(e,t):function(r,o){let s=jE(r,o),a=II(s)+II(r.Pe);return Mp(s)&&Mp(r.Pe)?VE(a):NE(r.serializer,a)}(e,t)}function tM(e,t,i){return e instanceof Ki?zE(e,t):e instanceof Qi?BE(e,t):i}function jE(e,t){return e instanceof Mn?function(n){return Mp(n)||function(o){return!!o&&"doubleValue"in o}(n)}(t)?t:{integerValue:0}:null}var kn=class extends Uo{},Ki=class extends Uo{constructor(t){super(),this.elements=t}};function zE(e,t){let i=UE(t);for(let n of e.elements)i.some(r=>Si(r,n))||i.push(n);return{arrayValue:{values:i}}}var Qi=class extends Uo{constructor(t){super(),this.elements=t}};function BE(e,t){let i=UE(t);for(let n of e.elements)i=i.filter(r=>!Si(r,n));return{arrayValue:{values:i}}}var Mn=class extends Uo{constructor(t,i){super(),this.serializer=t,this.Pe=i}};function II(e){return Ot(e.integerValue||e.doubleValue)}function UE(e){return Qa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xr=class{constructor(t,i){this.field=t,this.transform=i}};function eM(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Ki&&r instanceof Ki||n instanceof Qi&&r instanceof Qi?Lo(n.elements,r.elements,Si):n instanceof Mn&&r instanceof Mn?Si(n.Pe,r.Pe):n instanceof kn&&r instanceof kn}(e.transform,t.transform)}var qp=class{constructor(t,i){this.version=t,this.transformResults=i}},Nt=class e{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function Md(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var $o=class{};function $E(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Fn(e.key,Nt.none()):new Pn(e.key,e.data,Nt.none());{let i=e.data,n=pe.empty(),r=new bt(jt.comparator);for(let o of t.fields)if(!r.has(o)){let s=i.field(o);s===null&&o.length>1&&(o=o.popLast(),s=i.field(o)),s===null?n.delete(o):n.set(o,s),r=r.add(o)}return new si(e.key,n,new Le(r.toArray()),Nt.none())}}function iM(e,t,i){e instanceof Pn?function(r,o,s){let a=r.value.clone(),c=CI(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,i):e instanceof si?function(r,o,s){if(!Md(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=CI(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(qE(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(e,t,i):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,i)}function Ba(e,t,i,n){return e instanceof Pn?function(o,s,a,c){if(!Md(o.precondition,s))return a;let l=o.value.clone(),d=TI(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,i,n):e instanceof si?function(o,s,a,c){if(!Md(o.precondition,s))return a;let l=TI(o.fieldTransforms,c,s),d=s.data;return d.setAll(qE(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(u=>u.field))}(e,t,i,n):function(o,s,a){return Md(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,i)}function nM(e,t){let i=null;for(let n of e.fieldTransforms){let r=t.data.field(n.field),o=jE(n.transform,r||null);o!=null&&(i===null&&(i=pe.empty()),i.set(n.field,o))}return i||null}function EI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Lo(n,r,(o,s)=>eM(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Pn=class extends $o{constructor(t,i,n,r=[]){super(),this.key=t,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},si=class extends $o{constructor(t,i,n,r,o=[]){super(),this.key=t,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function qE(e){let t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let n=e.data.field(i);t.set(i,n)}}),t}function CI(e,t,i){let n=new Map;L(e.length===i.length);for(let r=0;r<i.length;r++){let o=e[r],s=o.transform,a=t.data.field(o.field);n.set(o.field,tM(s,a,i[r]))}return n}function TI(e,t,i){let n=new Map;for(let r of e){let o=r.transform,s=i.data.field(r.field);n.set(r.field,Jk(o,s,t))}return n}var Fn=class extends $o{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ya=class extends $o{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Xa=class{constructor(t,i,n,r){this.batchId=t,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,i){let n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(t.key)&&iM(o,t,n[r])}}applyToLocalView(t,i){for(let n of this.baseMutations)n.key.isEqual(t.key)&&(i=Ba(n,t,i,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(t.key)&&(i=Ba(n,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){let n=OE();return this.mutations.forEach(r=>{let o=t.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=i.has(r.key)?null:a;let c=$E(s,a);c!==null&&n.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(z.min())}),n}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),K())}isEqual(t){return this.batchId===t.batchId&&Lo(this.mutations,t.mutations,(i,n)=>EI(i,n))&&Lo(this.baseMutations,t.baseMutations,(i,n)=>EI(i,n))}},Gp=class e{constructor(t,i,n,r){this.batch=t,this.commitVersion=i,this.mutationResults=n,this.docVersions=r}static from(t,i,n){L(t.mutations.length===n.length);let r=function(){return Yk}(),o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,n[s].version);return new e(t,i,n,r)}};var Za=class{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Hp=class{constructor(t,i){this.count=t,this.unchangedNames=i}};var $t,st;function GE(e){switch(e){default:return k();case p.CANCELLED:case p.UNKNOWN:case p.DEADLINE_EXCEEDED:case p.RESOURCE_EXHAUSTED:case p.INTERNAL:case p.UNAVAILABLE:case p.UNAUTHENTICATED:return!1;case p.INVALID_ARGUMENT:case p.NOT_FOUND:case p.ALREADY_EXISTS:case p.PERMISSION_DENIED:case p.FAILED_PRECONDITION:case p.ABORTED:case p.OUT_OF_RANGE:case p.UNIMPLEMENTED:case p.DATA_LOSS:return!0}}function HE(e){if(e===void 0)return Lt("GRPC error has no .code"),p.UNKNOWN;switch(e){case $t.OK:return p.OK;case $t.CANCELLED:return p.CANCELLED;case $t.UNKNOWN:return p.UNKNOWN;case $t.DEADLINE_EXCEEDED:return p.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return p.RESOURCE_EXHAUSTED;case $t.INTERNAL:return p.INTERNAL;case $t.UNAVAILABLE:return p.UNAVAILABLE;case $t.UNAUTHENTICATED:return p.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return p.INVALID_ARGUMENT;case $t.NOT_FOUND:return p.NOT_FOUND;case $t.ALREADY_EXISTS:return p.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return p.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return p.FAILED_PRECONDITION;case $t.ABORTED:return p.ABORTED;case $t.OUT_OF_RANGE:return p.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return p.UNIMPLEMENTED;case $t.DATA_LOSS:return p.DATA_LOSS;default:return k()}}(st=$t||($t={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";var AI=null;function WE(){return new TextEncoder}var rM=new lr([4294967295,4294967295],0);function SI(e){let t=WE().encode(e),i=new aI;return i.update(t),new Uint8Array(i.digest())}function DI(e){let t=new DataView(e.buffer),i=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new lr([i,n],0),new lr([r,o],0)]}var Wp=class e{constructor(t,i,n){if(this.bitmap=t,this.padding=i,this.hashCount=n,i<0||i>=8)throw new gr(`Invalid padding: ${i}`);if(n<0)throw new gr(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new gr(`Invalid hash count: ${n}`);if(t.length===0&&i!==0)throw new gr(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=lr.fromNumber(this.Ie)}Ee(t,i,n){let r=t.add(i.multiply(lr.fromNumber(n)));return r.compare(rM)===1&&(r=new lr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;let i=SI(t),[n,r]=DI(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);if(!this.de(s))return!1}return!0}static create(t,i,n){let r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new e(o,r,i);return n.forEach(a=>s.insert(a)),s}insert(t){if(this.Ie===0)return;let i=SI(t),[n,r]=DI(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);this.Ae(s)}}Ae(t){let i=Math.floor(t/8),n=t%8;this.bitmap[i]|=1<<n}},gr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ja=class e{constructor(t,i,n,r,o){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,i,n){let r=new Map;return r.set(t,tc.createSynthesizedTargetChangeForCurrentChange(t,i,n)),new e(z.min(),r,new Ct(W),Se(),K())}},tc=class e{constructor(t,i,n,r,o){this.resumeToken=t,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,i,n){return new e(n,i,K(),K(),K())}};var Vo=class{constructor(t,i,n,r){this.Re=t,this.removedTargetIds=i,this.key=n,this.Ve=r}},Wd=class{constructor(t,i){this.targetId=t,this.me=i}},Kd=class{constructor(t,i,n=ie.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=i,this.resumeToken=n,this.cause=r}},Qd=class{constructor(){this.fe=0,this.ge=kI(),this.pe=ie.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=K(),i=K(),n=K();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:k()}}),new tc(this.pe,this.ye,t,i,n)}ve(){this.we=!1,this.ge=kI()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,L(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Kp=class{constructor(t){this.Le=t,this.Be=new Map,this.ke=Se(),this.qe=RI(),this.Qe=new Ct(W)}Ke(t){for(let i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(let i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{let n=this.Ge(i);switch(t.state){case 0:this.ze(i)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),n.De(t.resumeToken));break;default:k()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((n,r)=>{this.ze(r)&&i(r)})}He(t){let i=t.targetId,n=t.me.count,r=this.Je(i);if(r){let o=r.target;if(qd(o))if(n===0){let s=new A(o.path);this.Ue(i,s,Wt.newNoDocument(s,z.min()))}else L(n===1);else{let s=this.Ye(i);if(s!==n){let a=this.Ze(t),c=a?this.Xe(a,t,s):1;if(c!==0){this.je(i);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,l)}AI?.et(function(d,u,h,m,y){var _,x,V,q,O,X;let et={localCacheCount:d,existenceFilterCount:u.count,databaseId:h.database,projectId:h.projectId},lt=u.unchangedNames;return lt&&(et.bloomFilter={applied:y===0,hashCount:(_=lt?.hashCount)!==null&&_!==void 0?_:0,bitmapLength:(q=(V=(x=lt?.bits)===null||x===void 0?void 0:x.bitmap)===null||V===void 0?void 0:V.length)!==null&&q!==void 0?q:0,padding:(X=(O=lt?.bits)===null||O===void 0?void 0:O.padding)!==null&&X!==void 0?X:0,mightContain:Bt=>{var li;return(li=m?.mightContain(Bt))!==null&&li!==void 0&&li}}),et}(s,t.me,this.Le.tt(),a,c))}}}}Ze(t){let i=t.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=i,s,a;try{s=Sn(n).toUint8Array()}catch(c){if(c instanceof Bd)return We("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Wp(s,r,o)}catch(c){return We(c instanceof gr?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(t,i,n){return i.me.count===n-this.nt(t,i.targetId)?0:2}nt(t,i){let n=this.Le.getRemoteKeysForTarget(i),r=0;return n.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(i,o,null),r++)}),r}rt(t){let i=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&qd(a.target)){let c=new A(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Wt.newNoDocument(c,t))}o.be&&(i.set(s,o.Ce()),o.ve())}});let n=K();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));let r=new Ja(t,i,this.Qe,this.ke,n);return this.ke=Se(),this.qe=RI(),this.Qe=new Ct(W),r}$e(t,i){if(!this.ze(t))return;let n=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,n),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,n){if(!this.ze(t))return;let r=this.Ge(t);this.it(t,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),n&&(this.ke=this.ke.insert(i,n))}removeTarget(t){this.Be.delete(t)}Ye(t){let i=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Qd,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new bt(W),this.qe=this.qe.insert(t,i)),i}ze(t){let i=this.Je(t)!==null;return i||w("WatchChangeAggregator","Detected inactive target",t),i}Je(t){let i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Qd),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}};function RI(){return new Ct(A.comparator)}function kI(){return new Ct(A.comparator)}var oM={asc:"ASCENDING",desc:"DESCENDING"},sM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aM={and:"AND",or:"OR"},Qp=class{constructor(t,i){this.databaseId=t,this.useProto3Json=i}};function Yp(e,t){return e.useProto3Json||hc(t)?t:{value:t}}function qo(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cM(e,t){return qo(e,t.toTimestamp())}function zt(e){return L(!!e),z.fromTimestamp(function(i){let n=Wi(i);return new Pt(n.seconds,n.nanos)}(e))}function Eb(e,t){return Xp(e,t).canonicalString()}function Xp(e,t){let i=function(r){return new at(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?i:i.child(t)}function QE(e){let t=at.fromString(e);return L(oC(t)),t}function ec(e,t){return Eb(e.databaseId,t.path)}function Ti(e,t){let i=QE(t);if(i.get(1)!==e.databaseId.projectId)throw new v(p.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new v(p.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new A(ZE(i))}function YE(e,t){return Eb(e.databaseId,t)}function XE(e){let t=QE(e);return t.length===4?at.emptyPath():ZE(t)}function Zp(e){return new at(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ZE(e){return L(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function MI(e,t,i){return{name:ec(e,t),fields:i.value.mapValue.fields}}function JE(e,t,i){let n=Ti(e,t.name),r=zt(t.updateTime),o=t.createTime?zt(t.createTime):z.min(),s=new pe({mapValue:{fields:t.fields}}),a=Wt.newFoundDocument(n,r,o,s);return i&&a.setHasCommittedMutations(),i?a.setHasCommittedMutations():a}function lM(e,t){return"found"in t?function(n,r){L(!!r.found),r.found.name,r.found.updateTime;let o=Ti(n,r.found.name),s=zt(r.found.updateTime),a=r.found.createTime?zt(r.found.createTime):z.min(),c=new pe({mapValue:{fields:r.found.fields}});return Wt.newFoundDocument(o,s,a,c)}(e,t):"missing"in t?function(n,r){L(!!r.missing),L(!!r.readTime);let o=Ti(n,r.missing),s=zt(r.readTime);return Wt.newNoDocument(o,s)}(e,t):k()}function dM(e,t){let i;if("targetChange"in t){t.targetChange;let n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:k()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(l,d){return l.useProto3Json?(L(d===void 0||typeof d=="string"),ie.fromBase64String(d||"")):(L(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ie.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(l){let d=l.code===void 0?p.UNKNOWN:HE(l.code);return new v(d,l.message||"")}(s);i=new Kd(n,r,o,a||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let r=Ti(e,n.document.name),o=zt(n.document.updateTime),s=n.document.createTime?zt(n.document.createTime):z.min(),a=new pe({mapValue:{fields:n.document.fields}}),c=Wt.newFoundDocument(r,o,s,a),l=n.targetIds||[],d=n.removedTargetIds||[];i=new Vo(l,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let r=Ti(e,n.document),o=n.readTime?zt(n.readTime):z.min(),s=Wt.newNoDocument(r,o),a=n.removedTargetIds||[];i=new Vo([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let r=Ti(e,n.document),o=n.removedTargetIds||[];i=new Vo([],o,r,null)}else{if(!("filter"in t))return k();{t.filter;let n=t.filter;n.targetId;let{count:r=0,unchangedNames:o}=n,s=new Hp(r,o),a=n.targetId;i=new Wd(a,s)}}return i}function ic(e,t){let i;if(t instanceof Pn)i={update:MI(e,t.key,t.value)};else if(t instanceof Fn)i={delete:ec(e,t.key)};else if(t instanceof si)i={update:MI(e,t.key,t.data),updateMask:gM(t.fieldMask)};else{if(!(t instanceof Ya))return k();i={verify:ec(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(n=>function(o,s){let a=s.transform;if(a instanceof kn)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ki)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mn)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw k()}(0,n))),t.precondition.isNone||(i.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:cM(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:k()}(e,t.precondition)),i}function Jp(e,t){let i=t.currentDocument?function(o){return o.updateTime!==void 0?Nt.updateTime(zt(o.updateTime)):o.exists!==void 0?Nt.exists(o.exists):Nt.none()}(t.currentDocument):Nt.none(),n=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let c=null;if("setToServerValue"in a)L(a.setToServerValue==="REQUEST_TIME"),c=new kn;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new Ki(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new Qi(d)}else"increment"in a?c=new Mn(s,a.increment):k();let l=jt.fromServerFormat(a.fieldPath);return new xr(l,c)}(e,r)):[];if(t.update){t.update.name;let r=Ti(e,t.update.name),o=new pe({mapValue:{fields:t.update.fields}});if(t.updateMask){let s=function(c){let l=c.fieldPaths||[];return new Le(l.map(d=>jt.fromServerFormat(d)))}(t.updateMask);return new si(r,o,s,i,n)}return new Pn(r,o,i,n)}if(t.delete){let r=Ti(e,t.delete);return new Fn(r,i)}if(t.verify){let r=Ti(e,t.verify);return new Ya(r,i)}return k()}function uM(e,t){return e&&e.length>0?(L(t!==void 0),e.map(i=>function(r,o){let s=r.updateTime?zt(r.updateTime):zt(o);return s.isEqual(z.min())&&(s=zt(o)),new qp(s,r.transformResults||[])}(i,t))):[]}function tC(e,t){return{documents:[YE(e,t.path)]}}function eC(e,t){let i={structuredQuery:{}},n=t.path,r;t.collectionGroup!==null?(r=n,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=YE(e,r);let o=function(l){if(l.length!==0)return rC(ft.create(l,"and"))}(t.filters);o&&(i.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(d=>function(h){return{field:ko(h.field),direction:mM(h.dir)}}(d))}(t.orderBy);s&&(i.structuredQuery.orderBy=s);let a=Yp(e,t.limit);return a!==null&&(i.structuredQuery.limit=a),t.startAt&&(i.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:i,parent:r}}function iC(e){let t=XE(e.parent),i=e.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){L(n===1);let d=i.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let o=[];i.where&&(o=function(u){let h=nC(u);return h instanceof ft&&wb(h)?h.getFilters():[h]}(i.where));let s=[];i.orderBy&&(s=function(u){return u.map(h=>function(y){return new yr(Mo(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(i.orderBy));let a=null;i.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,hc(h)?null:h}(i.limit));let c=null;i.startAt&&(c=function(u){let h=!!u.before,m=u.values||[];return new Di(m,h)}(i.startAt));let l=null;return i.endAt&&(l=function(u){let h=!u.before,m=u.values||[];return new Di(m,h)}(i.endAt)),DE(t,r,s,o,a,"F",c,l)}function hM(e,t){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function nC(e){return e.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let n=Mo(i.unaryFilter.field);return ot.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=Mo(i.unaryFilter.field);return ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Mo(i.unaryFilter.field);return ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Mo(i.unaryFilter.field);return ot.create(s,"!=",{nullValue:"NULL_VALUE"});default:return k()}}(e):e.fieldFilter!==void 0?function(i){return ot.create(Mo(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return k()}}(i.fieldFilter.op),i.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(i){return ft.create(i.compositeFilter.filters.map(n=>nC(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return k()}}(i.compositeFilter.op))}(e):k()}function mM(e){return oM[e]}function fM(e){return sM[e]}function pM(e){return aM[e]}function ko(e){return{fieldPath:e.canonicalString()}}function Mo(e){return jt.fromServerFormat(e.fieldPath)}function rC(e){return e instanceof ot?function(i){if(i.op==="=="){if(pI(i.value))return{unaryFilter:{field:ko(i.field),op:"IS_NAN"}};if(fI(i.value))return{unaryFilter:{field:ko(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(pI(i.value))return{unaryFilter:{field:ko(i.field),op:"IS_NOT_NAN"}};if(fI(i.value))return{unaryFilter:{field:ko(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(i.field),op:fM(i.op),value:i.value}}}(e):e instanceof ft?function(i){let n=i.getFilters().map(r=>rC(r));return n.length===1?n[0]:{compositeFilter:{op:pM(i.op),filters:n}}}(e):k()}function gM(e){let t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function oC(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}var Go=class e{constructor(t,i,n,r,o=z.min(),s=z.min(),a=ie.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var Yd=class{constructor(t){this.ut=t}};function bM(e,t){let i;if(t.document)i=JE(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let n=A.fromSegments(t.noDocument.path),r=Er(t.noDocument.readTime);i=Wt.newNoDocument(n,r),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return k();{let n=A.fromSegments(t.unknownDocument.path),r=Er(t.unknownDocument.version);i=Wt.newUnknownDocument(n,r)}}return t.readTime&&i.setReadTime(function(r){let o=new Pt(r[0],r[1]);return z.fromTimestamp(o)}(t.readTime)),i}function PI(e,t){let i=t.key,n={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Xd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document=function(o,s){return{name:ec(o,s.key),fields:s.data.value.mapValue.fields,updateTime:qo(o,s.version.toTimestamp()),createTime:qo(o,s.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())n.noDocument={path:i.path.toArray(),readTime:Ir(t.version)};else{if(!t.isUnknownDocument())return k();n.unknownDocument={path:i.path.toArray(),version:Ir(t.version)}}return n}function Xd(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ir(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Er(e){let t=new Pt(e.seconds,e.nanoseconds);return z.fromTimestamp(t)}function mr(e,t){let i=(t.baseMutations||[]).map(o=>Jp(e.ut,o));for(let o=0;o<t.mutations.length-1;++o){let s=t.mutations[o];if(o+1<t.mutations.length&&t.mutations[o+1].transform!==void 0){let a=t.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}let n=t.mutations.map(o=>Jp(e.ut,o)),r=Pt.fromMillis(t.localWriteTimeMs);return new Xa(t.batchId,r,i,n)}function La(e){let t=Er(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Er(e.lastLimboFreeSnapshotVersion):z.min(),n;return n=function(o){return o.documents!==void 0}(e.query)?function(o){return L(o.documents.length===1),xe(is(XE(o.documents[0])))}(e.query):function(o){return xe(iC(o))}(e.query),new Go(n,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,i,ie.fromBase64String(e.resumeToken))}function sC(e,t){let i=Ir(t.snapshotVersion),n=Ir(t.lastLimboFreeSnapshotVersion),r;r=qd(t.target)?tC(e.ut,t.target):eC(e.ut,t.target)._t;let o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wr(t.target),readTime:i,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:r}}function Cb(e){let t=iC({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Hd(t,t.limit,"L"):t}function fp(e,t){return new Za(t.largestBatchId,Jp(e.ut,t.overlayMutation))}function FI(e,t){let i=t.path.lastSegment();return[e,we(t.path.popLast()),i]}function OI(e,t,i,n){return{indexId:e,uid:t,sequenceNumber:i,readTime:Ir(n.readTime),documentKey:we(n.documentKey.path),largestBatchId:n.largestBatchId}}var tg=class{getBundleMetadata(t,i){return NI(t).get(i).next(n=>{if(n)return function(o){return{id:o.bundleId,createTime:Er(o.createTime),version:o.version}}(n)})}saveBundleMetadata(t,i){return NI(t).put(function(r){return{bundleId:r.id,createTime:Ir(zt(r.createTime)),version:r.version}}(i))}getNamedQuery(t,i){return VI(t).get(i).next(n=>{if(n)return function(o){return{name:o.name,query:Cb(o.bundledQuery),readTime:Er(o.readTime)}}(n)})}saveNamedQuery(t,i){return VI(t).put(function(r){return{name:r.name,readTime:Ir(zt(r.readTime)),bundledQuery:r.bundledQuery}}(i))}};function NI(e){return ne(e,"bundles")}function VI(e){return ne(e,"namedQueries")}var Zd=class e{constructor(t,i){this.serializer=t,this.userId=i}static ct(t,i){let n=i.uid||"";return new e(t,n)}getOverlay(t,i){return Pa(t).get(FI(this.userId,i)).next(n=>n?fp(this.serializer,n):null)}getOverlays(t,i){let n=Ei();return f.forEach(i,r=>this.getOverlay(t,r).next(o=>{o!==null&&n.set(r,o)})).next(()=>n)}saveOverlays(t,i,n){let r=[];return n.forEach((o,s)=>{let a=new Za(i,s);r.push(this.lt(t,a))}),f.waitFor(r)}removeOverlaysForBatchId(t,i,n){let r=new Set;i.forEach(s=>r.add(we(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);o.push(Pa(t).j("collectionPathOverlayIndex",a))}),f.waitFor(o)}getOverlaysForCollection(t,i,n){let r=Ei(),o=we(i),s=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Pa(t).U("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=fp(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(t,i,n,r){let o=Ei(),s,a=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Pa(t).J({index:"collectionGroupOverlayIndex",range:a},(c,l,d)=>{let u=fp(this.serializer,l);o.size()<r||u.largestBatchId===s?(o.set(u.getKey(),u),s=u.largestBatchId):d.done()}).next(()=>o)}lt(t,i){return Pa(t).put(function(r,o,s){let[a,c,l]=FI(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ic(r.ut,s.mutation)}}(this.serializer,this.userId,i))}};function Pa(e){return ne(e,"documentOverlays")}var Gi=class{constructor(){}ht(t,i){this.Pt(t,i),i.It()}Pt(t,i){if("nullValue"in t)this.Tt(i,5);else if("booleanValue"in t)this.Tt(i,10),i.Et(t.booleanValue?1:0);else if("integerValue"in t)this.Tt(i,15),i.Et(Ot(t.integerValue));else if("doubleValue"in t){let n=Ot(t.doubleValue);isNaN(n)?this.Tt(i,13):(this.Tt(i,15),Ga(n)?i.Et(0):i.Et(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Tt(i,20),typeof n=="string"&&(n=Wi(n)),i.dt(`${n.seconds||""}`),i.Et(n.nanos||0)}else if("stringValue"in t)this.At(t.stringValue,i),this.Rt(i);else if("bytesValue"in t)this.Tt(i,30),i.Vt(Sn(t.bytesValue)),this.Rt(i);else if("referenceValue"in t)this.ft(t.referenceValue,i);else if("geoPointValue"in t){let n=t.geoPointValue;this.Tt(i,45),i.Et(n.latitude||0),i.Et(n.longitude||0)}else"mapValue"in t?xE(t)?this.Tt(i,Number.MAX_SAFE_INTEGER):(this.gt(t.mapValue,i),this.Rt(i)):"arrayValue"in t?(this.yt(t.arrayValue,i),this.Rt(i)):k()}At(t,i){this.Tt(i,25),this.wt(t,i)}wt(t,i){i.dt(t)}gt(t,i){let n=t.fields||{};this.Tt(i,55);for(let r of Object.keys(n))this.At(r,i),this.Pt(n[r],i)}yt(t,i){let n=t.values||[];this.Tt(i,50);for(let r of n)this.Pt(r,i)}ft(t,i){this.Tt(i,37),A.fromName(t).path.forEach(n=>{this.Tt(i,60),this.wt(n,i)})}Tt(t,i){t.Et(i)}Rt(t){t.Et(2)}};Gi.St=new Gi;function _M(e){if(e===0)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function LI(e){let t=64-function(n){let r=0;for(let o=0;o<8;++o){let s=_M(255&n[o]);if(r+=s,s!==8)break}return r}(e);return Math.ceil(t/8)}var eg=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(t){let i=t[Symbol.iterator](),n=i.next();for(;!n.done;)this.Dt(n.value),n=i.next();this.Ct()}vt(t){let i=t[Symbol.iterator](),n=i.next();for(;!n.done;)this.Ft(n.value),n=i.next();this.Mt()}xt(t){for(let i of t){let n=i.charCodeAt(0);if(n<128)this.Dt(n);else if(n<2048)this.Dt(960|n>>>6),this.Dt(128|63&n);else if(i<"\uD800"||"\uDBFF"<i)this.Dt(480|n>>>12),this.Dt(128|63&n>>>6),this.Dt(128|63&n);else{let r=i.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(t){for(let i of t){let n=i.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(i<"\uD800"||"\uDBFF"<i)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{let r=i.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(t){let i=this.Lt(t),n=LI(i);this.Bt(1+n),this.buffer[this.position++]=255&n;for(let r=i.length-n;r<i.length;++r)this.buffer[this.position++]=255&i[r]}kt(t){let i=this.Lt(t),n=LI(i);this.Bt(1+n),this.buffer[this.position++]=~(255&n);for(let r=i.length-n;r<i.length;++r)this.buffer[this.position++]=~(255&i[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(t){this.Bt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ut(){return this.buffer.slice(0,this.position)}Lt(t){let i=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),n=(128&i[0])!=0;i[0]^=n?255:128;for(let r=1;r<i.length;++r)i[r]^=n?255:0;return i}Dt(t){let i=255&t;i===0?(this.Qt(0),this.Qt(255)):i===255?(this.Qt(255),this.Qt(0)):this.Qt(i)}Ft(t){let i=255&t;i===0?(this.$t(0),this.$t(255)):i===255?(this.$t(255),this.$t(0)):this.$t(t)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(t){this.Bt(1),this.buffer[this.position++]=t}$t(t){this.Bt(1),this.buffer[this.position++]=~t}Bt(t){let i=t+this.position;if(i<=this.buffer.length)return;let n=2*this.buffer.length;n<i&&(n=i);let r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}},ig=class{constructor(t){this.Wt=t}Vt(t){this.Wt.bt(t)}dt(t){this.Wt.xt(t)}Et(t){this.Wt.Nt(t)}It(){this.Wt.qt()}},ng=class{constructor(t){this.Wt=t}Vt(t){this.Wt.vt(t)}dt(t){this.Wt.Ot(t)}Et(t){this.Wt.kt(t)}It(){this.Wt.Kt()}},fr=class{constructor(){this.Wt=new eg,this.Gt=new ig(this.Wt),this.zt=new ng(this.Wt)}seed(t){this.Wt.seed(t)}jt(t){return t===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}};var pr=class e{constructor(t,i,n,r){this.indexId=t,this.documentKey=i,this.arrayValue=n,this.directionalValue=r}Ht(){let t=this.directionalValue.length,i=t===0||this.directionalValue[t-1]===255?t+1:t,n=new Uint8Array(i);return n.set(this.directionalValue,0),i!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new e(this.indexId,this.documentKey,this.arrayValue,n)}};function yn(e,t){let i=e.indexId-t.indexId;return i!==0?i:(i=jI(e.arrayValue,t.arrayValue),i!==0?i:(i=jI(e.directionalValue,t.directionalValue),i!==0?i:A.comparator(e.documentKey,t.documentKey)))}function jI(e,t){for(let i=0;i<e.length&&i<t.length;++i){let n=e[i]-t[i];if(n!==0)return n}return e.length-t.length}var Jd=class{constructor(t){this.Jt=new bt((i,n)=>jt.comparator(i.field,n.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];for(let i of t.filters){let n=i;n.isInequality()?this.Jt=this.Jt.add(n):this.Zt.push(n)}}get Xt(){return this.Jt.size>1}en(t){if(L(t.collectionGroup===this.collectionId),this.Xt)return!1;let i=Cp(t);if(i!==void 0&&!this.tn(i))return!1;let n=ur(t),r=new Set,o=0,s=0;for(;o<n.length&&this.tn(n[o]);++o)r=r.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.Jt.size>0){let a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let c=n[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<n.length;++o){let a=n[o];if(s>=this.Yt.length||!this.rn(this.Yt[s++],a))return!1}return!0}sn(){if(this.Xt)return null;let t=new bt(jt.comparator),i=[];for(let n of this.Zt)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")i.push(new Oo(n.field,2));else{if(t.has(n.field))continue;t=t.add(n.field),i.push(new Oo(n.field,0))}for(let n of this.Yt)n.field.isKeyField()||t.has(n.field)||(t=t.add(n.field),i.push(new Oo(n.field,n.dir==="asc"?0:1)));return new jo(jo.UNKNOWN_ID,this.collectionId,i,qa.empty())}tn(t){for(let i of this.Zt)if(this.nn(i,t))return!0;return!1}nn(t,i){if(t===void 0||!t.field.isEqual(i.fieldPath))return!1;let n=t.op==="array-contains"||t.op==="array-contains-any";return i.kind===2===n}rn(t,i){return!!t.field.isEqual(i.fieldPath)&&(i.kind===0&&t.dir==="asc"||i.kind===1&&t.dir==="desc")}};function aC(e){var t,i;if(L(e instanceof ot||e instanceof ft),e instanceof ot){if(e instanceof $d){let r=((i=(t=e.value.arrayValue)===null||t===void 0?void 0:t.values)===null||i===void 0?void 0:i.map(o=>ot.create(e.field,"==",o)))||[];return ft.create(r,"or")}return e}let n=e.filters.map(r=>aC(r));return ft.create(n,e.op)}function vM(e){if(e.getFilters().length===0)return[];let t=sg(aC(e));return L(cC(t)),rg(t)||og(t)?[t]:t.getFilters()}function rg(e){return e instanceof ot}function og(e){return e instanceof ft&&wb(e)}function cC(e){return rg(e)||og(e)||function(i){if(i instanceof ft&&Pp(i)){for(let n of i.getFilters())if(!rg(n)&&!og(n))return!1;return!0}return!1}(e)}function sg(e){if(L(e instanceof ot||e instanceof ft),e instanceof ot)return e;if(e.filters.length===1)return sg(e.filters[0]);let t=e.filters.map(n=>sg(n)),i=ft.create(t,e.op);return i=tu(i),cC(i)?i:(L(i instanceof ft),L(Bo(i)),L(i.filters.length>1),i.filters.reduce((n,r)=>Tb(n,r)))}function Tb(e,t){let i;return L(e instanceof ot||e instanceof ft),L(t instanceof ot||t instanceof ft),i=e instanceof ot?t instanceof ot?function(r,o){return ft.create([r,o],"and")}(e,t):zI(e,t):t instanceof ot?zI(t,e):function(r,o){if(L(r.filters.length>0&&o.filters.length>0),Bo(r)&&Bo(o))return TE(r,o.getFilters());let s=Pp(r)?r:o,a=Pp(r)?o:r,c=s.filters.map(l=>Tb(l,a));return ft.create(c,"or")}(e,t),tu(i)}function zI(e,t){if(Bo(t))return TE(t,e.getFilters());{let i=t.filters.map(n=>Tb(e,n));return ft.create(i,"or")}}function tu(e){if(L(e instanceof ot||e instanceof ft),e instanceof ot)return e;let t=e.getFilters();if(t.length===1)return tu(t[0]);if(EE(e))return e;let i=t.map(r=>tu(r)),n=[];return i.forEach(r=>{r instanceof ot?n.push(r):r instanceof ft&&(r.op===e.op?n.push(...r.filters):n.push(r))}),n.length===1?n[0]:ft.create(n,e.op)}var ag=class{constructor(){this.on=new nc}addToCollectionParentIndex(t,i){return this.on.add(i),f.resolve()}getCollectionParents(t,i){return f.resolve(this.on.getEntries(i))}addFieldIndex(t,i){return f.resolve()}deleteFieldIndex(t,i){return f.resolve()}deleteAllFieldIndexes(t){return f.resolve()}createTargetIndexes(t,i){return f.resolve()}getDocumentsMatchingTarget(t,i){return f.resolve(null)}getIndexType(t,i){return f.resolve(0)}getFieldIndexes(t,i){return f.resolve([])}getNextCollectionGroupToUpdate(t){return f.resolve(null)}getMinOffset(t,i){return f.resolve(Ke.min())}getMinOffsetFromCollectionGroup(t,i){return f.resolve(Ke.min())}updateCollectionGroup(t,i,n){return f.resolve()}updateIndexEntries(t,i){return f.resolve()}},nc=class{constructor(){this.index={}}add(t){let i=t.lastSegment(),n=t.popLast(),r=this.index[i]||new bt(at.comparator),o=!r.has(n);return this.index[i]=r.add(n),o}has(t){let i=t.lastSegment(),n=t.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(t){return(this.index[t]||new bt(at.comparator)).toArray()}};var Cd=new Uint8Array(0),cg=class{constructor(t,i){this.databaseId=i,this._n=new nc,this.an=new Ri(n=>wr(n),(n,r)=>mc(n,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this._n.has(i)){let n=i.lastSegment(),r=i.popLast();t.addOnCommittedListener(()=>{this._n.add(i)});let o={collectionId:n,parent:we(r)};return BI(t).put(o)}return f.resolve()}getCollectionParents(t,i){let n=[],r=IDBKeyRange.bound([i,""],[lE(i),""],!1,!0);return BI(t).U(r).next(o=>{for(let s of o){if(s.collectionId!==i)break;n.push(Ii(s.parent))}return n})}addFieldIndex(t,i){let n=Fa(t),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(i);delete r.indexId;let o=n.add(r);if(i.indexState){let s=Ao(t);return o.next(a=>{s.put(OI(a,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return o.next()}deleteFieldIndex(t,i){let n=Fa(t),r=Ao(t),o=To(t);return n.delete(i.indexId).next(()=>r.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){let i=Fa(t),n=To(t),r=Ao(t);return i.j().next(()=>n.j()).next(()=>r.j())}createTargetIndexes(t,i){return f.forEach(this.un(i),n=>this.getIndexType(t,n).next(r=>{if(r===0||r===1){let o=new Jd(n).sn();if(o!=null)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,i){let n=To(t),r=!0,o=new Map;return f.forEach(this.un(i),s=>this.cn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=K(),a=[];return f.forEach(o,(c,l)=>{w("IndexedDbIndexManager",`Using index ${function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map(X=>`${X.fieldPath}:${X.kind}`).join(",")}`}(c)} to execute ${wr(i)}`);let d=function(O,X){let et=Cp(X);if(et===void 0)return null;for(let lt of Gd(O,et.fieldPath))switch(lt.op){case"array-contains-any":return lt.value.arrayValue.values||[];case"array-contains":return[lt.value]}return null}(l,c),u=function(O,X){let et=new Map;for(let lt of ur(X))for(let Bt of Gd(O,lt.fieldPath))switch(Bt.op){case"==":case"in":et.set(lt.fieldPath.canonicalString(),Bt.value);break;case"not-in":case"!=":return et.set(lt.fieldPath.canonicalString(),Bt.value),Array.from(et.values())}return null}(l,c),h=function(O,X){let et=[],lt=!0;for(let Bt of ur(X)){let li=Bt.kind===0?yI(O,Bt.fieldPath,O.startAt):wI(O,Bt.fieldPath,O.startAt);et.push(li.value),lt&&(lt=li.inclusive)}return new Di(et,lt)}(l,c),m=function(O,X){let et=[],lt=!0;for(let Bt of ur(X)){let li=Bt.kind===0?wI(O,Bt.fieldPath,O.endAt):yI(O,Bt.fieldPath,O.endAt);et.push(li.value),lt&&(lt=li.inclusive)}return new Di(et,lt)}(l,c),y=this.ln(c,l,h),_=this.ln(c,l,m),x=this.hn(c,l,u),V=this.Pn(c.indexId,d,y,h.inclusive,_,m.inclusive,x);return f.forEach(V,q=>n.G(q,i.limit).next(O=>{O.forEach(X=>{let et=A.fromSegments(X.documentKey);s.has(et)||(s=s.add(et),a.push(et))})}))}).next(()=>a)}return f.resolve(null)})}un(t){let i=this.an.get(t);return i||(t.filters.length===0?i=[t]:i=vM(ft.create(t.filters,"and")).map(n=>Up(t.path,t.collectionGroup,t.orderBy,n.getFilters(),t.limit,t.startAt,t.endAt)),this.an.set(t,i),i)}Pn(t,i,n,r,o,s,a){let c=(i!=null?i.length:1)*Math.max(n.length,o.length),l=c/(i!=null?i.length:1),d=[];for(let u=0;u<c;++u){let h=i?this.In(i[u/l]):Cd,m=this.Tn(t,h,n[u%l],r),y=this.En(t,h,o[u%l],s),_=a.map(x=>this.Tn(t,h,x,!0));d.push(...this.createRange(m,y,_))}return d}Tn(t,i,n,r){let o=new pr(t,A.empty(),i,n);return r?o:o.Ht()}En(t,i,n,r){let o=new pr(t,A.empty(),i,n);return r?o.Ht():o}cn(t,i){let n=new Jd(i),r=i.collectionGroup!=null?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(let a of o)n.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,i){let n=2,r=this.un(i);return f.forEach(r,o=>this.cn(t,o).next(s=>{s?n!==0&&s.fields.length<function(c){let l=new bt(jt.comparator),d=!1;for(let u of c.filters)for(let h of u.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?d=!0:l=l.add(h.field));for(let u of c.orderBy)u.field.isKeyField()||(l=l.add(u.field));return l.size+(d?1:0)}(o)&&(n=1):n=0})).next(()=>function(s){return s.limit!==null}(i)&&r.length>1&&n===2?1:n)}dn(t,i){let n=new fr;for(let r of ur(t)){let o=i.data.field(r.fieldPath);if(o==null)return null;let s=n.jt(r.kind);Gi.St.ht(o,s)}return n.Ut()}In(t){let i=new fr;return Gi.St.ht(t,i.jt(0)),i.Ut()}An(t,i){let n=new fr;return Gi.St.ht(vr(this.databaseId,i),n.jt(function(o){let s=ur(o);return s.length===0?0:s[s.length-1].kind}(t))),n.Ut()}hn(t,i,n){if(n===null)return[];let r=[];r.push(new fr);let o=0;for(let s of ur(t)){let a=n[o++];for(let c of r)if(this.Rn(i,s.fieldPath)&&Qa(a))r=this.Vn(r,s,a);else{let l=c.jt(s.kind);Gi.St.ht(a,l)}}return this.mn(r)}ln(t,i,n){return this.hn(t,i,n.position)}mn(t){let i=[];for(let n=0;n<t.length;++n)i[n]=t[n].Ut();return i}Vn(t,i,n){let r=[...t],o=[];for(let s of n.arrayValue.values||[])for(let a of r){let c=new fr;c.seed(a.Ut()),Gi.St.ht(s,c.jt(i.kind)),o.push(c)}return o}Rn(t,i){return!!t.filters.find(n=>n instanceof ot&&n.field.isEqual(i)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(t,i){let n=Fa(t),r=Ao(t);return(i?n.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):n.U()).next(o=>{let s=[];return f.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(d,u){let h=u?new qa(u.sequenceNumber,new Ke(Er(u.readTime),new A(Ii(u.documentKey)),u.largestBatchId)):qa.empty(),m=d.fields.map(([y,_])=>new Oo(jt.fromServerFormat(y),_));return new jo(d.indexId,d.collectionGroup,m,h)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>i.length===0?null:(i.sort((n,r)=>{let o=n.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:W(n.collectionGroup,r.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,n){let r=Fa(t),o=Ao(t);return this.fn(t).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(a=>f.forEach(a,c=>o.put(OI(c.indexId,this.uid,s,n)))))}updateIndexEntries(t,i){let n=new Map;return f.forEach(i,(r,o)=>{let s=n.get(r.collectionGroup);return(s?f.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(n.set(r.collectionGroup,a),f.forEach(a,c=>this.gn(t,r,c).next(l=>{let d=this.pn(o,c);return l.isEqual(d)?f.resolve():this.yn(t,o,c,l,d)}))))})}wn(t,i,n,r){return To(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,i.key),documentKey:i.key.path.toArray()})}Sn(t,i,n,r){return To(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,i.key),i.key.path.toArray()])}gn(t,i,n){let r=To(t),o=new bt(yn);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,i)])},(s,a)=>{o=o.add(new pr(n.indexId,i,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(t,i){let n=new bt(yn),r=this.dn(i,t);if(r==null)return n;let o=Cp(i);if(o!=null){let s=t.data.field(o.fieldPath);if(Qa(s))for(let a of s.arrayValue.values||[])n=n.add(new pr(i.indexId,t.key,this.In(a),r))}else n=n.add(new pr(i.indexId,t.key,Cd,r));return n}yn(t,i,n,r,o){w("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);let s=[];return function(c,l,d,u,h){let m=c.getIterator(),y=l.getIterator(),_=Co(m),x=Co(y);for(;_||x;){let V=!1,q=!1;if(_&&x){let O=d(_,x);O<0?q=!0:O>0&&(V=!0)}else _!=null?q=!0:V=!0;V?(u(x),x=Co(y)):q?(h(_),_=Co(m)):(_=Co(m),x=Co(y))}}(r,o,yn,a=>{s.push(this.wn(t,i,n,a))},a=>{s.push(this.Sn(t,i,n,a))}),f.waitFor(s)}fn(t){let i=1;return Ao(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,r,o)=>{o.done(),i=r.sequenceNumber+1}).next(()=>i)}createRange(t,i,n){n=n.sort((s,a)=>yn(s,a)).filter((s,a,c)=>!a||yn(s,c[a-1])!==0);let r=[];r.push(t);for(let s of n){let a=yn(s,t),c=yn(s,i);if(a===0)r[0]=t.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(i);let o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Cd,[]],c=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Cd,[]];o.push(IDBKeyRange.bound(a,c))}return o}bn(t,i){return yn(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(UI)}getMinOffset(t,i){return f.mapArray(this.un(i),n=>this.cn(t,n).next(r=>r||k())).next(UI)}};function BI(e){return ne(e,"collectionParents")}function To(e){return ne(e,"indexEntries")}function Fa(e){return ne(e,"indexConfiguration")}function Ao(e){return ne(e,"indexState")}function UI(e){L(e.length!==0);let t=e[0].indexState.offset,i=t.largestBatchId;for(let n=1;n<e.length;n++){let r=e[n].indexState.offset;_b(r,t)<0&&(t=r),i<r.largestBatchId&&(i=r.largestBatchId)}return new Ke(t.readTime,t.documentKey,i)}var $I={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},He=class e{constructor(t,i,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function lC(e,t,i){let n=e.store("mutations"),r=e.store("documentMutations"),o=[],s=IDBKeyRange.only(i.batchId),a=0,c=n.J({range:s},(d,u,h)=>(a++,h.delete()));o.push(c.next(()=>{L(a===1)}));let l=[];for(let d of i.mutations){let u=pE(t,d.key.path,i.batchId);o.push(r.delete(u)),l.push(d.key)}return f.waitFor(o).next(()=>l)}function eu(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw k();t=e.noDocument}return JSON.stringify(t).length}He.DEFAULT_COLLECTION_PERCENTILE=10,He.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,He.DEFAULT=new He(41943040,He.DEFAULT_COLLECTION_PERCENTILE,He.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),He.DISABLED=new He(-1,0,0);var iu=class e{constructor(t,i,n,r){this.userId=t,this.serializer=i,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(t,i,n,r){L(t.uid!=="");let o=t.isAuthenticated()?t.uid:"";return new e(o,i,n,r)}checkEmpty(t){let i=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wn(t).J({index:"userMutationsIndex",range:n},(r,o,s)=>{i=!1,s.done()}).next(()=>i)}addMutationBatch(t,i,n,r){let o=Po(t),s=wn(t);return s.add({}).next(a=>{L(typeof a=="number");let c=new Xa(a,i,n,r),l=function(m,y,_){let x=_.baseMutations.map(q=>ic(m.ut,q)),V=_.mutations.map(q=>ic(m.ut,q));return{userId:y,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:x,mutations:V}}(this.serializer,this.userId,c),d=[],u=new bt((h,m)=>W(h.canonicalString(),m.canonicalString()));for(let h of r){let m=pE(this.userId,h.key.path,a);u=u.add(h.key.path.popLast()),d.push(s.put(l)),d.push(o.put(m,Tk))}return u.forEach(h=>{d.push(this.indexManager.addToCollectionParentIndex(t,h))}),t.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),f.waitFor(d).next(()=>c)})}lookupMutationBatch(t,i){return wn(t).get(i).next(n=>n?(L(n.userId===this.userId),mr(this.serializer,n)):null)}Cn(t,i){return this.Dn[i]?f.resolve(this.Dn[i]):this.lookupMutationBatch(t,i).next(n=>{if(n){let r=n.keys();return this.Dn[i]=r,r}return null})}getNextMutationBatchAfterBatchId(t,i){let n=i+1,r=IDBKeyRange.lowerBound([this.userId,n]),o=null;return wn(t).J({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(L(a.batchId>=n),o=mr(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){let i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wn(t).J({index:"userMutationsIndex",range:i,reverse:!0},(r,o,s)=>{n=o.batchId,s.done()}).next(()=>n)}getAllMutationBatches(t){let i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wn(t).U("userMutationsIndex",i).next(n=>n.map(r=>mr(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,i){let n=Dd(this.userId,i.path),r=IDBKeyRange.lowerBound(n),o=[];return Po(t).J({range:r},(s,a,c)=>{let[l,d,u]=s,h=Ii(d);if(l===this.userId&&i.path.isEqual(h))return wn(t).get(u).next(m=>{if(!m)throw k();L(m.userId===this.userId),o.push(mr(this.serializer,m))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,i){let n=new bt(W),r=[];return i.forEach(o=>{let s=Dd(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Po(t).J({range:a},(l,d,u)=>{let[h,m,y]=l,_=Ii(m);h===this.userId&&o.path.isEqual(_)?n=n.add(y):u.done()});r.push(c)}),f.waitFor(r).next(()=>this.vn(t,n))}getAllMutationBatchesAffectingQuery(t,i){let n=i.path,r=n.length+1,o=Dd(this.userId,n),s=IDBKeyRange.lowerBound(o),a=new bt(W);return Po(t).J({range:s},(c,l,d)=>{let[u,h,m]=c,y=Ii(h);u===this.userId&&n.isPrefixOf(y)?y.length===r&&(a=a.add(m)):d.done()}).next(()=>this.vn(t,a))}vn(t,i){let n=[],r=[];return i.forEach(o=>{r.push(wn(t).get(o).next(s=>{if(s===null)throw k();L(s.userId===this.userId),n.push(mr(this.serializer,s))}))}),f.waitFor(r).next(()=>n)}removeMutationBatch(t,i){return lC(t._e,this.userId,i).next(n=>(t.addOnCommittedListener(()=>{this.Fn(i.batchId)}),f.forEach(n,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Fn(t){delete this.Dn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return f.resolve();let n=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return Po(t).J({range:n},(o,s,a)=>{if(o[0]===this.userId){let c=Ii(o[1]);r.push(c)}else a.done()}).next(()=>{L(r.length===0)})})}containsKey(t,i){return dC(t,this.userId,i)}Mn(t){return uC(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function dC(e,t,i){let n=Dd(t,i.path),r=n[1],o=IDBKeyRange.lowerBound(n),s=!1;return Po(e).J({range:o,H:!0},(a,c,l)=>{let[d,u,h]=a;d===t&&u===r&&(s=!0),l.done()}).next(()=>s)}function wn(e){return ne(e,"mutations")}function Po(e){return ne(e,"documentMutations")}function uC(e){return ne(e,"mutationQueues")}var Ho=class e{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new e(0)}static Nn(){return new e(-1)}};var lg=class{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.Ln(t).next(i=>{let n=new Ho(i.highestTargetId);return i.highestTargetId=n.next(),this.Bn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Ln(t).next(i=>z.fromTimestamp(new Pt(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Ln(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,n){return this.Ln(t).next(r=>(r.highestListenSequenceNumber=i,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),i>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=i),this.Bn(t,r)))}addTargetData(t,i){return this.kn(t,i).next(()=>this.Ln(t).next(n=>(n.targetCount+=1,this.qn(i,n),this.Bn(t,n))))}updateTargetData(t,i){return this.kn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>So(t).delete(i.targetId)).next(()=>this.Ln(t)).next(n=>(L(n.targetCount>0),n.targetCount-=1,this.Bn(t,n)))}removeTargets(t,i,n){let r=0,o=[];return So(t).J((s,a)=>{let c=La(a);c.sequenceNumber<=i&&n.get(c.targetId)===null&&(r++,o.push(this.removeTargetData(t,c)))}).next(()=>f.waitFor(o)).next(()=>r)}forEachTarget(t,i){return So(t).J((n,r)=>{let o=La(r);i(o)})}Ln(t){return qI(t).get("targetGlobalKey").next(i=>(L(i!==null),i))}Bn(t,i){return qI(t).put("targetGlobalKey",i)}kn(t,i){return So(t).put(sC(this.serializer,i))}qn(t,i){let n=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,n=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.Ln(t).next(i=>i.targetCount)}getTargetData(t,i){let n=wr(i),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),o=null;return So(t).J({range:r,index:"queryTargetsIndex"},(s,a,c)=>{let l=La(a);mc(i,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(t,i,n){let r=[],o=xn(t);return i.forEach(s=>{let a=we(s.path);r.push(o.put({targetId:n,path:a})),r.push(this.referenceDelegate.addReference(t,n,s))}),f.waitFor(r)}removeMatchingKeys(t,i,n){let r=xn(t);return f.forEach(i,o=>{let s=we(o.path);return f.waitFor([r.delete([n,s]),this.referenceDelegate.removeReference(t,n,o)])})}removeMatchingKeysForTargetId(t,i){let n=xn(t),r=IDBKeyRange.bound([i],[i+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,i){let n=IDBKeyRange.bound([i],[i+1],!1,!0),r=xn(t),o=K();return r.J({range:n,H:!0},(s,a,c)=>{let l=Ii(s[1]),d=new A(l);o=o.add(d)}).next(()=>o)}containsKey(t,i){let n=we(i.path),r=IDBKeyRange.bound([n],[lE(n)],!1,!0),o=0;return xn(t).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}ot(t,i){return So(t).get(i).next(n=>n?La(n):null)}};function So(e){return ne(e,"targets")}function qI(e){return ne(e,"targetGlobal")}function xn(e){return ne(e,"targetDocuments")}function GI([e,t],[i,n]){let r=W(e,i);return r===0?W(t,n):r}var dg=class{constructor(t){this.Qn=t,this.buffer=new bt(GI),this.Kn=0}$n(){return++this.Kn}Un(t){let i=[t,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(i);else{let n=this.buffer.last();GI(i,n)<0&&(this.buffer=this.buffer.delete(n).add(i))}}get maxValue(){return this.buffer.last()[0]}},ug=class{constructor(t,i,n){this.garbageCollector=t,this.asyncQueue=i,this.localStore=n,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(t){w("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,()=>g(this,null,function*(){this.Wn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(i){Vn(i)?w("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Nn(i)}yield this.Gn(3e5)}))}},hg=class{constructor(t,i){this.zn=t,this.params=i}calculateTargetCount(t,i){return this.zn.jn(t).next(n=>Math.floor(i/100*n))}nthSequenceNumber(t,i){if(i===0)return f.resolve(Ve.oe);let n=new dg(i);return this.zn.forEachTarget(t,r=>n.Un(r.sequenceNumber)).next(()=>this.zn.Hn(t,r=>n.Un(r))).next(()=>n.maxValue)}removeTargets(t,i,n){return this.zn.removeTargets(t,i,n)}removeOrphanedDocuments(t,i){return this.zn.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(w("LruGarbageCollector","Garbage collection skipped; disabled"),f.resolve($I)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(w("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$I):this.Jn(t,i))}getCacheSize(t){return this.zn.getCacheSize(t)}Jn(t,i){let n,r,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(u=>(u>this.params.maximumSequenceNumbersToCollect?(w("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${u}`),r=this.params.maximumSequenceNumbersToCollect):r=u,s=Date.now(),this.nthSequenceNumber(t,r))).next(u=>(n=u,a=Date.now(),this.removeTargets(t,n,i))).next(u=>(o=u,c=Date.now(),this.removeOrphanedDocuments(t,n))).next(u=>(l=Date.now(),Do()<=mi.DEBUG&&w("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${u} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),f.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:u})))}};function yM(e,t){return new hg(e,t)}var mg=class{constructor(t,i){this.db=t,this.garbageCollector=yM(this,i)}jn(t){let i=this.Yn(t);return this.db.getTargetCache().getTargetCount(t).next(n=>i.next(r=>n+r))}Yn(t){let i=0;return this.Hn(t,n=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Hn(t,i){return this.Zn(t,(n,r)=>i(r))}addReference(t,i,n){return Td(t,n)}removeReference(t,i,n){return Td(t,n)}removeTargets(t,i,n){return this.db.getTargetCache().removeTargets(t,i,n)}markPotentiallyOrphaned(t,i){return Td(t,i)}Xn(t,i){return function(r,o){let s=!1;return uC(r).Y(a=>dC(r,a,o).next(c=>(c&&(s=!0),f.resolve(!c)))).next(()=>s)}(t,i)}removeOrphanedDocuments(t,i){let n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.Zn(t,(s,a)=>{if(a<=i){let c=this.Xn(t,s).next(l=>{if(!l)return o++,n.getEntry(t,s).next(()=>(n.removeEntry(s,z.min()),xn(t).delete(function(u){return[0,we(u.path)]}(s))))});r.push(c)}}).next(()=>f.waitFor(r)).next(()=>n.apply(t)).next(()=>o)}removeTarget(t,i){let n=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,i){return Td(t,i)}Zn(t,i){let n=xn(t),r,o=Ve.oe;return n.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==Ve.oe&&i(new A(Ii(r)),o),o=l,r=c):o=Ve.oe}).next(()=>{o!==Ve.oe&&i(new A(Ii(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}};function Td(e,t){return xn(e).put(function(n,r){return{targetId:0,path:we(n.path),sequenceNumber:r}}(t,e.currentSequenceNumber))}var nu=class{constructor(){this.changes=new Ri(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Wt.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();let n=this.changes.get(i);return n!==void 0?f.resolve(n):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var fg=class{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,n){return dr(t).put(n)}removeEntry(t,i,n){return dr(t).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Xd(s),a[a.length-1]]}(i,n))}updateMetadata(t,i){return this.getMetadata(t).next(n=>(n.byteSize+=i,this.er(t,n)))}getEntry(t,i){let n=Wt.newInvalidDocument(i);return dr(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Oa(i))},(r,o)=>{n=this.tr(i,o)}).next(()=>n)}nr(t,i){let n={size:0,document:Wt.newInvalidDocument(i)};return dr(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Oa(i))},(r,o)=>{n={document:this.tr(i,o),size:eu(o)}}).next(()=>n)}getEntries(t,i){let n=Se();return this.rr(t,i,(r,o)=>{let s=this.tr(r,o);n=n.insert(r,s)}).next(()=>n)}ir(t,i){let n=Se(),r=new Ct(A.comparator);return this.rr(t,i,(o,s)=>{let a=this.tr(o,s);n=n.insert(o,a),r=r.insert(o,eu(s))}).next(()=>({documents:n,sr:r}))}rr(t,i,n){if(i.isEmpty())return f.resolve();let r=new bt(KI);i.forEach(c=>r=r.add(c));let o=IDBKeyRange.bound(Oa(r.first()),Oa(r.last())),s=r.getIterator(),a=s.getNext();return dr(t).J({index:"documentKeyIndex",range:o},(c,l,d)=>{let u=A.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&KI(a,u)<0;)n(a,null),a=s.getNext();a&&a.isEqual(u)&&(n(a,l),a=s.hasNext()?s.getNext():null),a?d.$(Oa(a)):d.done()}).next(()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,i,n,r,o){let s=i.path,a=[s.popLast().toArray(),s.lastSegment(),Xd(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dr(t).U(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let d=Se();for(let u of l){let h=this.tr(A.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);h.isFoundDocument()&&(pc(i,h)||r.has(h.key))&&(d=d.insert(h.key,h))}return d})}getAllFromCollectionGroup(t,i,n,r){let o=Se(),s=WI(i,n),a=WI(i,Ke.max());return dr(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,d)=>{let u=this.tr(A.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(u.key,u),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(t){return new pg(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return HI(t).get("remoteDocumentGlobalKey").next(i=>(L(!!i),i))}er(t,i){return HI(t).put("remoteDocumentGlobalKey",i)}tr(t,i){if(i){let n=bM(this.serializer,i);if(!(n.isNoDocument()&&n.version.isEqual(z.min())))return n}return Wt.newInvalidDocument(t)}};function hC(e){return new fg(e)}var pg=class extends nu{constructor(t,i){super(),this._r=t,this.trackRemovals=i,this.ar=new Ri(n=>n.toString(),(n,r)=>n.isEqual(r))}applyChanges(t){let i=[],n=0,r=new bt((o,s)=>W(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ar.get(o);if(i.push(this._r.removeEntry(t,o,a.readTime)),s.isValidDocument()){let c=PI(this._r.serializer,s);r=r.add(o.path.popLast());let l=eu(c);n+=l-a.size,i.push(this._r.addEntry(t,o,c))}else if(n-=a.size,this.trackRemovals){let c=PI(this._r.serializer,s.convertToNoDocument(z.min()));i.push(this._r.addEntry(t,o,c))}}),r.forEach(o=>{i.push(this._r.indexManager.addToCollectionParentIndex(t,o))}),i.push(this._r.updateMetadata(t,n)),f.waitFor(i)}getFromCache(t,i){return this._r.nr(t,i).next(n=>(this.ar.set(i,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(t,i){return this._r.ir(t,i).next(({documents:n,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:n.get(o).readTime})}),n))}};function HI(e){return ne(e,"remoteDocumentGlobal")}function dr(e){return ne(e,"remoteDocumentsV14")}function Oa(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function WI(e,t){let i=t.documentKey.path.toArray();return[e,Xd(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function KI(e,t){let i=e.path.toArray(),n=t.path.toArray(),r=0;for(let o=0;o<i.length-2&&o<n.length-2;++o)if(r=W(i[o],n[o]),r)return r;return r=W(i.length,n.length),r||(r=W(i[i.length-2],n[n.length-2]),r||W(i[i.length-1],n[n.length-1]))}var gg=class{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}};var ru=class{constructor(t,i,n,r){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,i){let n=null;return this.documentOverlayCache.getOverlay(t,i).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,i))).next(r=>(n!==null&&Ba(n.mutation,r,Le.empty(),Pt.now()),r))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.getLocalViewOfDocuments(t,n,K()).next(()=>n))}getLocalViewOfDocuments(t,i,n=K()){let r=Ei();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,n).next(o=>{let s=Va();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,i){let n=Ei();return this.populateOverlays(t,n,i).next(()=>this.computeViews(t,i,n,K()))}populateOverlays(t,i,n){let r=[];return n.forEach(o=>{i.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{i.set(s,a)})})}computeViews(t,i,n,r){let o=Se(),s=za(),a=function(){return za()}();return i.forEach((c,l)=>{let d=n.get(l.key);r.has(l.key)&&(d===void 0||d.mutation instanceof si)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),Ba(d.mutation,l,d.mutation.getFieldMask(),Pt.now())):s.set(l.key,Le.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),i.forEach((l,d)=>{var u;return a.set(l,new gg(d,(u=s.get(l))!==null&&u!==void 0?u:null))}),a))}recalculateAndSaveOverlays(t,i){let n=za(),r=new Ct((s,a)=>s-a),o=K();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=i.get(c);if(l===null)return;let d=n.get(c)||Le.empty();d=a.applyToLocalView(l,d),n.set(c,d);let u=(r.get(a.batchId)||K()).add(c);r=r.insert(a.batchId,u)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,u=OE();d.forEach(h=>{if(!o.has(h)){let m=$E(i.get(h),n.get(h));m!==null&&u.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,l,u))}return f.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,i,n,r){return function(s){return A.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):xb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,n,r):this.getDocumentsMatchingCollectionQuery(t,i,n,r)}getNextDocuments(t,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,n,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,n.largestBatchId,r-o.size):f.resolve(Ei()),a=-1,c=o;return s.next(l=>f.forEach(l,(d,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),o.get(d)?f.resolve():this.remoteDocumentCache.getEntry(t,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(t,l,o)).next(()=>this.computeViews(t,c,l,K())).next(d=>({batchId:a,changes:FE(d)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new A(i)).next(n=>{let r=Va();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,i,n,r){let o=i.collectionGroup,s=Va();return this.indexManager.getCollectionParents(t,o).next(a=>f.forEach(a,c=>{let l=function(u,h){return new oi(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(i,c.child(o));return this.getDocumentsMatchingCollectionQuery(t,l,n,r).next(d=>{d.forEach((u,h)=>{s=s.insert(u,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,i,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,n,o,r))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,Wt.newInvalidDocument(d)))});let a=Va();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&Ba(d.mutation,l,Le.empty(),Pt.now()),pc(i,l)&&(a=a.insert(c,l))}),a})}};var bg=class{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,i){return f.resolve(this.ur.get(i))}saveBundleMetadata(t,i){return this.ur.set(i.id,function(r){return{id:r.id,version:r.version,createTime:zt(r.createTime)}}(i)),f.resolve()}getNamedQuery(t,i){return f.resolve(this.cr.get(i))}saveNamedQuery(t,i){return this.cr.set(i.name,function(r){return{name:r.name,query:Cb(r.bundledQuery),readTime:zt(r.readTime)}}(i)),f.resolve()}};var _g=class{constructor(){this.overlays=new Ct(A.comparator),this.lr=new Map}getOverlay(t,i){return f.resolve(this.overlays.get(i))}getOverlays(t,i){let n=Ei();return f.forEach(i,r=>this.getOverlay(t,r).next(o=>{o!==null&&n.set(r,o)})).next(()=>n)}saveOverlays(t,i,n){return n.forEach((r,o)=>{this.lt(t,i,o)}),f.resolve()}removeOverlaysForBatchId(t,i,n){let r=this.lr.get(n);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(n)),f.resolve()}getOverlaysForCollection(t,i,n){let r=Ei(),o=i.length+1,s=new A(i.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!i.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>n&&r.set(c.getKey(),c)}return f.resolve(r)}getOverlaysForCollectionGroup(t,i,n,r){let o=new Ct((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===i&&l.largestBatchId>n){let d=o.get(l.largestBatchId);d===null&&(d=Ei(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Ei(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=r)););return f.resolve(a)}lt(t,i,n){let r=this.overlays.get(n.key);if(r!==null){let s=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Za(i,n));let o=this.lr.get(i);o===void 0&&(o=K(),this.lr.set(i,o)),this.lr.set(i,o.add(n.key))}};var rc=class{constructor(){this.hr=new bt(qt.Pr),this.Ir=new bt(qt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,i){let n=new qt(t,i);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(t,i){t.forEach(n=>this.addReference(n,i))}removeReference(t,i){this.dr(new qt(t,i))}Ar(t,i){t.forEach(n=>this.removeReference(n,i))}Rr(t){let i=new A(new at([])),n=new qt(i,t),r=new qt(i,t+1),o=[];return this.Ir.forEachInRange([n,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){let i=new A(new at([])),n=new qt(i,t),r=new qt(i,t+1),o=K();return this.Ir.forEachInRange([n,r],s=>{o=o.add(s.key)}),o}containsKey(t){let i=new qt(t,0),n=this.hr.firstAfterOrEqual(i);return n!==null&&t.isEqual(n.key)}},qt=class{constructor(t,i){this.key=t,this.gr=i}static Pr(t,i){return A.comparator(t.key,i.key)||W(t.gr,i.gr)}static Tr(t,i){return W(t.gr,i.gr)||A.comparator(t.key,i.key)}};var vg=class{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.pr=1,this.yr=new bt(qt.Pr)}checkEmpty(t){return f.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,n,r){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Xa(o,i,n,r);this.mutationQueue.push(s);for(let a of r)this.yr=this.yr.add(new qt(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return f.resolve(s)}lookupMutationBatch(t,i){return f.resolve(this.wr(i))}getNextMutationBatchAfterBatchId(t,i){let n=i+1,r=this.Sr(n),o=r<0?0:r;return f.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return f.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return f.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){let n=new qt(i,0),r=new qt(i,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([n,r],s=>{let a=this.wr(s.gr);o.push(a)}),f.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,i){let n=new bt(W);return i.forEach(r=>{let o=new qt(r,0),s=new qt(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{n=n.add(a.gr)})}),f.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(t,i){let n=i.path,r=n.length+1,o=n;A.isDocumentKey(o)||(o=o.child(""));let s=new qt(new A(o),0),a=new bt(W);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!n.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gr)),!0)},s),f.resolve(this.br(a))}br(t){let i=[];return t.forEach(n=>{let r=this.wr(n);r!==null&&i.push(r)}),i}removeMutationBatch(t,i){L(this.Dr(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.yr;return f.forEach(i.mutations,r=>{let o=new qt(r.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.yr=n})}Fn(t){}containsKey(t,i){let n=new qt(i,0),r=this.yr.firstAfterOrEqual(n);return f.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,f.resolve()}Dr(t,i){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){let i=this.Sr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var yg=class{constructor(t){this.Cr=t,this.docs=function(){return new Ct(A.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){let n=i.key,r=this.docs.get(n),o=r?r.size:0,s=this.Cr(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){let i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){let n=this.docs.get(i);return f.resolve(n?n.document.mutableCopy():Wt.newInvalidDocument(i))}getEntries(t,i){let n=Se();return i.forEach(r=>{let o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():Wt.newInvalidDocument(r))}),f.resolve(n)}getDocumentsMatchingQuery(t,i,n,r){let o=Se(),s=i.path,a=new A(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||_b(uE(d),n)<=0||(r.has(d.key)||pc(i,d))&&(o=o.insert(d.key,d.mutableCopy()))}return f.resolve(o)}getAllFromCollectionGroup(t,i,n,r){k()}vr(t,i){return f.forEach(this.docs,n=>i(n))}newChangeBuffer(t){return new wg(this)}getSize(t){return f.resolve(this.size)}},wg=class extends nu{constructor(t){super(),this._r=t}applyChanges(t){let i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this._r.addEntry(t,r)):this._r.removeEntry(n)}),f.waitFor(i)}getFromCache(t,i){return this._r.getEntry(t,i)}getAllFromCache(t,i){return this._r.getEntries(t,i)}};var xg=class{constructor(t){this.persistence=t,this.Fr=new Ri(i=>wr(i),mc),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new rc,this.targetCount=0,this.Nr=Ho.On()}forEachTarget(t,i){return this.Fr.forEach((n,r)=>i(r)),f.resolve()}getLastRemoteSnapshotVersion(t){return f.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return f.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),f.resolve(this.highestTargetId)}setTargetsMetadata(t,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.Mr&&(this.Mr=i),f.resolve()}kn(t){this.Fr.set(t.target,t);let i=t.targetId;i>this.highestTargetId&&(this.Nr=new Ho(i),this.highestTargetId=i),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,i){return this.kn(i),this.targetCount+=1,f.resolve()}updateTargetData(t,i){return this.kn(i),f.resolve()}removeTargetData(t,i){return this.Fr.delete(i.target),this.Or.Rr(i.targetId),this.targetCount-=1,f.resolve()}removeTargets(t,i,n){let r=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=i&&n.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),f.waitFor(o).next(()=>r)}getTargetCount(t){return f.resolve(this.targetCount)}getTargetData(t,i){let n=this.Fr.get(i)||null;return f.resolve(n)}addMatchingKeys(t,i,n){return this.Or.Er(i,n),f.resolve()}removeMatchingKeys(t,i,n){this.Or.Ar(i,n);let r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),f.waitFor(o)}removeMatchingKeysForTargetId(t,i){return this.Or.Rr(i),f.resolve()}getMatchingKeysForTargetId(t,i){let n=this.Or.mr(i);return f.resolve(n)}containsKey(t,i){return f.resolve(this.Or.containsKey(i))}};var ou=class{constructor(t,i){this.Lr={},this.overlays={},this.Br=new Ve(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new xg(this),this.indexManager=new ag,this.remoteDocumentCache=function(r){return new yg(r)}(n=>this.referenceDelegate.Qr(n)),this.serializer=new Yd(i),this.Kr=new bg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new _g,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let n=this.Lr[t.toKey()];return n||(n=new vg(i,this.referenceDelegate),this.Lr[t.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,i,n){w("MemoryPersistence","Starting transaction:",t);let r=new Ig(this.Br.next());return this.referenceDelegate.$r(),n(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(t,i){return f.or(Object.values(this.Lr).map(n=>()=>n.containsKey(t,i)))}},Ig=class extends Ld{constructor(t){super(),this.currentSequenceNumber=t}},su=class e{constructor(t){this.persistence=t,this.Gr=new rc,this.zr=null}static jr(t){return new e(t)}get Hr(){if(this.zr)return this.zr;throw k()}addReference(t,i,n){return this.Gr.addReference(n,i),this.Hr.delete(n.toString()),f.resolve()}removeReference(t,i,n){return this.Gr.removeReference(n,i),this.Hr.add(n.toString()),f.resolve()}markPotentiallyOrphaned(t,i){return this.Hr.add(i.toString()),f.resolve()}removeTarget(t,i){this.Gr.Rr(i.targetId).forEach(r=>this.Hr.add(r.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,i.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>n.removeTargetData(t,i))}$r(){this.zr=new Set}Ur(t){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return f.forEach(this.Hr,n=>{let r=A.fromPath(n);return this.Jr(t,r).next(o=>{o||i.removeEntry(r,z.min())})}).next(()=>(this.zr=null,i.apply(t)))}updateLimboDocument(t,i){return this.Jr(t,i).next(n=>{n?this.Hr.delete(i.toString()):this.Hr.add(i.toString())})}Qr(t){return 0}Jr(t,i){return f.or([()=>f.resolve(this.Gr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Wr(t,i)])}};var Eg=class{constructor(t){this.serializer=t}O(t,i,n,r){let o=new jd("createOrUpgrade",i);n<1&&r>=1&&(function(c){c.createObjectStore("owner")}(t),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uI,{unique:!0}),c.createObjectStore("documentMutations")}(t),QI(t),function(c){c.createObjectStore("remoteDocuments")}(t));let s=f.resolve();return n<3&&r>=3&&(n!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),QI(t)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:z.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(o))),n<4&&r>=4&&(n!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uI,{unique:!0});let u=l.store("mutations"),h=d.map(m=>u.put(m));return f.waitFor(h)})}(t,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(t)})),n<5&&r>=5&&(s=s.next(()=>this.Zr(o))),n<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.Xr(o)))),n<7&&r>=7&&(s=s.next(()=>this.ei(o))),n<8&&r>=8&&(s=s.next(()=>this.ti(t,o))),n<9&&r>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t)})),n<10&&r>=10&&(s=s.next(()=>this.ni(o))),n<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),n<12&&r>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:Lk});l.createIndex("collectionPathOverlayIndex",jk,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",zk,{unique:!1})})(t)})),n<13&&r>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:Ak});l.createIndex("documentKeyIndex",Sk),l.createIndex("collectionGroupIndex",Dk)}(t)).next(()=>this.ri(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(s=s.next(()=>this.ii(t,o))),n<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Fk}).createIndex("sequenceNumberIndex",Ok,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Nk}).createIndex("documentKeyIndex",Vk,{unique:!1})}(t))),n<16&&r>=16&&(s=s.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s}Xr(t){let i=0;return t.store("remoteDocuments").J((n,r)=>{i+=eu(r)}).next(()=>{let n={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Zr(t){let i=t.store("mutationQueues"),n=t.store("mutations");return i.U().next(r=>f.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",s).next(a=>f.forEach(a,c=>{L(c.userId===o.userId);let l=mr(this.serializer,c);return lC(t,o.userId,l).next(()=>{})}))}))}ei(t){let i=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return n.J((s,a)=>{let c=new at(s),l=function(u){return[0,we(u)]}(c);o.push(i.get(l).next(d=>d?f.resolve():(u=>i.put({targetId:0,path:we(u),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>f.waitFor(o))})}ti(t,i){t.createObjectStore("collectionParents",{keyPath:Pk});let n=i.store("collectionParents"),r=new nc,o=s=>{if(r.add(s)){let a=s.lastSegment(),c=s.popLast();return n.put({collectionId:a,parent:we(c)})}};return i.store("remoteDocuments").J({H:!0},(s,a)=>{let c=new at(s);return o(c.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([s,a,c],l)=>{let d=Ii(a);return o(d.popLast())}))}ni(t){let i=t.store("targets");return i.J((n,r)=>{let o=La(r),s=sC(this.serializer,o);return i.put(s)})}ri(t,i){let n=i.store("remoteDocuments"),r=[];return n.J((o,s)=>{let a=i.store("remoteDocumentsV14"),c=function(u){return u.document?new A(at.fromString(u.document.name).popFirst(5)):u.noDocument?A.fromSegments(u.noDocument.path):u.unknownDocument?A.fromSegments(u.unknownDocument.path):k()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(l))}).next(()=>f.waitFor(r))}ii(t,i){let n=i.store("mutations"),r=hC(this.serializer),o=new ou(su.jr,this.serializer.ut);return n.U().next(s=>{let a=new Map;return s.forEach(c=>{var l;let d=(l=a.get(c.userId))!==null&&l!==void 0?l:K();mr(this.serializer,c).keys().forEach(u=>d=d.add(u)),a.set(c.userId,d)}),f.forEach(a,(c,l)=>{let d=new Gt(l),u=Zd.ct(this.serializer,d),h=o.getIndexManager(d),m=iu.ct(d,this.serializer,h,o.referenceDelegate);return new ru(r,m,u,h).recalculateAndSaveOverlaysForDocumentKeys(new Ha(i,Ve.oe),c).next()})})}};function QI(e){e.createObjectStore("targetDocuments",{keyPath:kk}).createIndex("documentTargetsIndex",Mk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Rk,{unique:!0}),e.createObjectStore("targetGlobal")}var pp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Cg=class e{constructor(t,i,n,r,o,s,a,c,l,d,u=16){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=n,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=d,this.ai=u,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!e.D())throw new v(p.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mg(this,r),this.Ii=i+"main",this.serializer=new Yd(c),this.Ti=new An(this.Ii,this.ai,new Eg(this.serializer)),this.qr=new lg(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hC(this.serializer),this.Kr=new tg,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,d===!1&&Lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new v(p.FAILED_PRECONDITION,pp);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.qr.getHighestSequenceNumber(t))}).then(t=>{this.Br=new Ve(t,this.oi)}).then(()=>{this.kr=!0}).catch(t=>(this.Ti&&this.Ti.close(),Promise.reject(t)))}mi(t){return this.Pi=i=>g(this,null,function*(){if(this.started)return t(i)}),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ti.L(i=>g(this,null,function*(){i.newVersion===null&&(yield t())}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget(()=>g(this,null,function*(){this.started&&(yield this.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Ad(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(i=>{i||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(t)).next(i=>this.isPrimary&&!i?this.pi(t).next(()=>!1):!!i&&this.yi(t).next(()=>!0))).catch(t=>{if(Vn(t))return w("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return w("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.Pi(t)),this.isPrimary=t})}fi(t){return Na(t).get("owner").next(i=>f.resolve(this.wi(i)))}Si(t){return Ad(t).delete(this.clientId)}bi(){return g(this,null,function*(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();let t=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{let n=ne(i,"clientMetadata");return n.U().next(r=>{let o=this.Ci(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return f.forEach(s,a=>n.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ei)for(let i of t)this.Ei.removeItem(this.vi(i.clientId))}})}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(t){return!!t&&t.ownerId===this.clientId}gi(t){return this._i?f.resolve(!0):Na(t).get("owner").next(i=>{if(i!==null&&this.Di(i.leaseTimestampMs,5e3)&&!this.Fi(i.ownerId)){if(this.wi(i)&&this.networkEnabled)return!0;if(!this.wi(i)){if(!i.allowTabSynchronization)throw new v(p.FAILED_PRECONDITION,pp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ad(t).U().next(n=>this.Ci(n,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(i=>(this.isPrimary!==i&&w("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){return g(this,null,function*(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),yield this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{let i=new Ha(t,Ve.oe);return this.pi(i).next(()=>this.Si(i))}),this.Ti.close(),this.Ni()})}Ci(t,i){return t.filter(n=>this.Di(n.updateTimeMs,i)&&!this.Fi(n.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",t=>Ad(t).U().next(i=>this.Ci(i,18e5).map(n=>n.clientId)))}get started(){return this.kr}getMutationQueue(t,i){return iu.ct(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new cg(t,this.serializer.ut.databaseId)}getDocumentOverlayCache(t){return Zd.ct(this.serializer,t)}getBundleCache(){return this.Kr}runTransaction(t,i,n){w("IndexedDbPersistence","Starting transaction:",t);let r=i==="readonly"?"readonly":"readwrite",o=function(c){return c===16?Uk:c===15?vE:c===14?_E:c===13?bE:c===12?Bk:c===11?gE:void k()}(this.ai),s;return this.Ti.runTransaction(t,r,o,a=>(s=new Ha(a,this.Br?this.Br.next():Ve.oe),i==="readwrite-primary"?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw Lt(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new v(p.FAILED_PRECONDITION,hE);return n(s)}).next(c=>this.yi(s).next(()=>c)):this.Bi(s).next(()=>n(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Bi(t){return Na(t).get("owner").next(i=>{if(i!==null&&this.Di(i.leaseTimestampMs,5e3)&&!this.Fi(i.ownerId)&&!this.wi(i)&&!(this._i||this.allowTabSynchronization&&i.allowTabSynchronization))throw new v(p.FAILED_PRECONDITION,pp)})}yi(t){let i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Na(t).put("owner",i)}static D(){return An.D()}pi(t){let i=Na(t);return i.get("owner").next(n=>this.wi(n)?(w("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):f.resolve())}Di(t,i){let n=Date.now();return!(t<n-i)&&(!(t>n)||(Lt(`Detected an update time that is in the future: ${t} > ${n}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ui=()=>{this.Mi();let i=/(?:Version|Mobile)\/1[456]/;Fh()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(t){var i;try{let n=((i=this.Ei)===null||i===void 0?void 0:i.getItem(this.vi(t)))!==null;return w("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Lt("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(t){Lt("Failed to set zombie client id.",t)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}};function Na(e){return ne(e,"owner")}function Ad(e){return ne(e,"clientMetadata")}function Ab(e,t){let i=e.projectId;return e.isDefaultDatabase||(i+="."+e.database),"firestore/"+t+"/"+i+"/"}var Tg=class e{constructor(t,i,n,r){this.targetId=t,this.fromCache=i,this.ki=n,this.qi=r}static Qi(t,i){let n=K(),r=K();for(let o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new e(t,i.fromCache,n,r)}};var Ag=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var au=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return Fh()?8:mE(xs())>0?6:4}()}initialize(t,i){this.Gi=t,this.indexManager=i,this.Ki=!0}getDocumentsMatchingQuery(t,i,n,r){let o={result:null};return this.zi(t,i).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(t,i,r,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Ag;return this.Hi(t,i,s).next(a=>{if(o.result=a,this.$i)return this.Ji(t,i,s,a.size)})}).next(()=>o.result)}Ji(t,i,n,r){return n.documentReadCount<this.Ui?(Do()<=mi.DEBUG&&w("QueryEngine","SDK will not create cache indexes for query:",Ro(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),f.resolve()):(Do()<=mi.DEBUG&&w("QueryEngine","Query:",Ro(i),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Do()<=mi.DEBUG&&w("QueryEngine","The SDK decides to create cache indexes for query:",Ro(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xe(i))):f.resolve())}zi(t,i){if(xI(i))return f.resolve(null);let n=xe(i);return this.indexManager.getIndexType(t,n).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=Hd(i,null,"F"),n=xe(i)),this.indexManager.getDocumentsMatchingTarget(t,n).next(o=>{let s=K(...o);return this.Gi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,n).next(c=>{let l=this.Yi(i,a);return this.Zi(i,l,s,c.readTime)?this.zi(t,Hd(i,null,"F")):this.Xi(t,l,i,c)}))})))}ji(t,i,n,r){return xI(i)||r.isEqual(z.min())?f.resolve(null):this.Gi.getDocuments(t,n).next(o=>{let s=this.Yi(i,o);return this.Zi(i,s,n,r)?f.resolve(null):(Do()<=mi.DEBUG&&w("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ro(i)),this.Xi(t,s,i,dE(r,-1)).next(a=>a))})}Yi(t,i){let n=new bt(ME(t));return i.forEach((r,o)=>{pc(t,o)&&(n=n.add(o))}),n}Zi(t,i,n,r){if(t.limit===null)return!1;if(n.size!==i.size)return!0;let o=t.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(t,i,n){return Do()<=mi.DEBUG&&w("QueryEngine","Using full collection scan to execute query:",Ro(i)),this.Gi.getDocumentsMatchingQuery(t,i,Ke.min(),n)}Xi(t,i,n,r){return this.Gi.getDocumentsMatchingQuery(t,n,r).next(o=>(i.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Sg=class{constructor(t,i,n,r){this.persistence=t,this.es=i,this.serializer=r,this.ts=new Ct(W),this.ns=new Ri(o=>wr(o),mc),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(n)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ru(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.ts))}};function mC(e,t,i,n){return new Sg(e,t,i,n)}function fC(e,t){return g(this,null,function*(){let i=S(e);return yield i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,i.os(t),i.mutationQueue.getAllMutationBatches(n))).next(o=>{let s=[],a=[],c=K();for(let l of r){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return i.localDocuments.getDocuments(n,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function wM(e,t){let i=S(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let r=t.batch.keys(),o=i.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let u=l.batch,h=u.keys(),m=f.resolve();return h.forEach(y=>{m=m.next(()=>d.getEntry(c,y)).next(_=>{let x=l.docVersions.get(y);L(x!==null),_.version.compareTo(x)<0&&(u.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,u))}(i,n,t,o).next(()=>o.apply(n)).next(()=>i.mutationQueue.performConsistencyCheck(n)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let c=K();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>i.localDocuments.getDocuments(n,r))})}function pC(e){let t=S(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.qr.getLastRemoteSnapshotVersion(i))}function xM(e,t){let i=S(e),n=t.snapshotVersion,r=i.ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=i.ss.newChangeBuffer({trackRemovals:!0});r=i.ts;let a=[];t.targetChanges.forEach((d,u)=>{let h=r.get(u);if(!h)return;a.push(i.qr.removeMatchingKeys(o,d.removedDocuments,u).next(()=>i.qr.addMatchingKeys(o,d.addedDocuments,u)));let m=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(u)!==null?m=m.withResumeToken(ie.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),r=r.insert(u,m),function(_,x,V){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(h,m,d)&&a.push(i.qr.updateTargetData(o,m))});let c=Se(),l=K();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(i.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(gC(o,s,t.documentUpdates).next(d=>{c=d.us,l=d.cs})),!n.isEqual(z.min())){let d=i.qr.getLastRemoteSnapshotVersion(o).next(u=>i.qr.setTargetsMetadata(o,o.currentSequenceNumber,n));a.push(d)}return f.waitFor(a).next(()=>s.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(i.ts=r,o))}function gC(e,t,i){let n=K(),r=K();return i.forEach(o=>n=n.add(o)),t.getEntries(e,n).next(o=>{let s=Se();return i.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(z.min())?(t.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(c),s=s.insert(a,c)):w("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:r}})}function IM(e,t){let i=S(e);return i.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Wo(e,t){let i=S(e);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.qr.getTargetData(n,t).next(o=>o?(r=o,f.resolve(r)):i.qr.allocateTargetId(n).next(s=>(r=new Go(t,s,"TargetPurposeListen",n.currentSequenceNumber),i.qr.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=i.ts.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ts=i.ts.insert(n.targetId,n),i.ns.set(t,n.targetId)),n})}function Ko(e,t,i){return g(this,null,function*(){let n=S(e),r=n.ts.get(t),o=i?"readwrite":"readwrite-primary";try{i||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Vn(s))throw s;w("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.ts=n.ts.remove(t),n.ns.delete(r.target)})}function cu(e,t,i){let n=S(e),r=z.min(),o=K();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,d){let u=S(c),h=u.ns.get(d);return h!==void 0?f.resolve(u.ts.get(h)):u.qr.getTargetData(l,d)}(n,s,xe(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,n.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>n.es.getDocumentsMatchingQuery(s,t,i?r:z.min(),i?o:K())).next(a=>(vC(n,kE(t),a),{documents:a,ls:o})))}function bC(e,t){let i=S(e),n=S(i.qr),r=i.ts.get(t);return r?Promise.resolve(r.target):i.persistence.runTransaction("Get target data","readonly",o=>n.ot(o,t).next(s=>s?s.target:null))}function _C(e,t){let i=S(e),n=i.rs.get(t)||z.min();return i.persistence.runTransaction("Get new document changes","readonly",r=>i.ss.getAllFromCollectionGroup(r,t,dE(n,-1),Number.MAX_SAFE_INTEGER)).then(r=>(vC(i,t,r),r))}function vC(e,t,i){let n=e.rs.get(t)||z.min();i.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),e.rs.set(t,n)}function EM(e,t,i,n){return g(this,null,function*(){let r=S(e),o=K(),s=Se();for(let l of i){let d=t.hs(l.metadata.name);l.document&&(o=o.add(d));let u=t.Ps(l);u.setReadTime(t.Is(l.metadata.readTime)),s=s.insert(d,u)}let a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield Wo(r,function(d){return xe(is(at.fromString(`__bundle__/docs/${d}`)))}(n));return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>gC(l,a,s).next(d=>(a.apply(l),d)).next(d=>r.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.qr.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,d.us,d.cs)).next(()=>d.us)))})}function CM(n,r){return g(this,arguments,function*(e,t,i=K()){let o=yield Wo(e,xe(Cb(t.bundledQuery))),s=S(e);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=zt(t.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Kr.saveNamedQuery(a,t);let l=o.withResumeToken(ie.EMPTY_BYTE_STRING,c);return s.ts=s.ts.insert(l.targetId,l),s.qr.updateTargetData(a,l).next(()=>s.qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.qr.addMatchingKeys(a,i,o.targetId)).next(()=>s.Kr.saveNamedQuery(a,t))})})}function YI(e,t){return`firestore_clients_${e}_${t}`}function XI(e,t,i){let n=`firestore_mutations_${e}_${i}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}function gp(e,t){return`firestore_targets_${e}_${t}`}var lu=class e{constructor(t,i,n,r){this.user=t,this.batchId=i,this.state=n,this.error=r}static Ts(t,i,n){let r=JSON.parse(n),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new v(r.error.code,r.error.message))),s?new e(t,i,r.state,o):(Lt("SharedClientState",`Failed to parse mutation state for ID '${i}': ${n}`),null)}Es(){let t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}},Ua=class e{constructor(t,i,n){this.targetId=t,this.state=i,this.error=n}static Ts(t,i){let n=JSON.parse(i),r,o=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return o&&n.error&&(o=typeof n.error.message=="string"&&typeof n.error.code=="string",o&&(r=new v(n.error.code,n.error.message))),o?new e(t,n.state,r):(Lt("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}Es(){let t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}},du=class e{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Ts(t,i){let n=JSON.parse(i),r=typeof n=="object"&&n.activeTargetIds instanceof Array,o=Ib();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=fE(n.activeTargetIds[s]),o=o.add(n.activeTargetIds[s]);return r?new e(t,o):(Lt("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}},Dg=class e{constructor(t,i){this.clientId=t,this.onlineState=i}static Ts(t){let i=JSON.parse(t);return typeof i=="object"&&["Unknown","Online","Offline"].indexOf(i.onlineState)!==-1&&typeof i.clientId=="string"?new e(i.clientId,i.onlineState):(Lt("SharedClientState",`Failed to parse online state: ${t}`),null)}},oc=class{constructor(){this.activeTargetIds=Ib()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}},$a=class{constructor(t,i,n,r,o){this.window=t,this.si=i,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Ct(W),this.started=!1,this.ps=[];let s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=YI(this.persistenceKey,this.Rs),this.ws=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new oc),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(t){return!(!t||!t.localStorage)}start(){return g(this,null,function*(){let t=yield this.syncEngine.Li();for(let n of t){if(n===this.Rs)continue;let r=this.getItem(YI(this.persistenceKey,n));if(r){let o=du.Ts(n,r);o&&(this.gs=this.gs.insert(o.clientId,o))}}this.Fs();let i=this.storage.getItem(this.Cs);if(i){let n=this.Ms(i);n&&this.xs(n)}for(let n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(t){this.setItem(this.ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(t){let i=!1;return this.gs.forEach((n,r)=>{r.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.Ns(t,"pending")}updateMutationState(t,i,n){this.Ns(t,i,n),this.Ls(t)}addLocalQueryTarget(t){let i="not-current";if(this.isActiveQueryTarget(t)){let n=this.storage.getItem(gp(this.persistenceKey,t));if(n){let r=Ua.Ts(t,n);r&&(i=r.state)}}return this.Bs.ds(t),this.Fs(),i}removeLocalQueryTarget(t){this.Bs.As(t),this.Fs()}isLocalQueryTarget(t){return this.Bs.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(gp(this.persistenceKey,t))}updateQueryState(t,i,n){this.ks(t,i,n)}handleUserChange(t,i,n){i.forEach(r=>{this.Ls(r)}),this.currentUser=t,n.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.qs(t)}notifyBundleLoaded(t){this.Qs(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(t){let i=this.storage.getItem(t);return w("SharedClientState","READ",t,i),i}setItem(t,i){w("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){w("SharedClientState","REMOVE",t),this.storage.removeItem(t)}fs(t){let i=t;if(i.storageArea===this.storage){if(w("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void Lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(()=>g(this,null,function*(){if(this.started){if(i.key!==null){if(this.Ss.test(i.key)){if(i.newValue==null){let n=this.Ks(i.key);return this.$s(n,null)}{let n=this.Us(i.key,i.newValue);if(n)return this.$s(n.clientId,n)}}else if(this.bs.test(i.key)){if(i.newValue!==null){let n=this.Ws(i.key,i.newValue);if(n)return this.Gs(n)}}else if(this.Ds.test(i.key)){if(i.newValue!==null){let n=this.zs(i.key,i.newValue);if(n)return this.js(n)}}else if(i.key===this.Cs){if(i.newValue!==null){let n=this.Ms(i.newValue);if(n)return this.xs(n)}}else if(i.key===this.ws){let n=function(o){let s=Ve.oe;if(o!=null)try{let a=JSON.parse(o);L(typeof a=="number"),s=a}catch(a){Lt("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(i.newValue);n!==Ve.oe&&this.sequenceNumberHandler(n)}else if(i.key===this.vs){let n=this.Hs(i.newValue);yield Promise.all(n.map(r=>this.syncEngine.Js(r)))}}}else this.ps.push(i)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(t,i,n){let r=new lu(this.currentUser,t,i,n),o=XI(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Es())}Ls(t){let i=XI(this.persistenceKey,this.currentUser,t);this.removeItem(i)}qs(t){let i={clientId:this.Rs,onlineState:t};this.storage.setItem(this.Cs,JSON.stringify(i))}ks(t,i,n){let r=gp(this.persistenceKey,t),o=new Ua(t,i,n);this.setItem(r,o.Es())}Qs(t){let i=JSON.stringify(Array.from(t));this.setItem(this.vs,i)}Ks(t){let i=this.Ss.exec(t);return i?i[1]:null}Us(t,i){let n=this.Ks(t);return du.Ts(n,i)}Ws(t,i){let n=this.bs.exec(t),r=Number(n[1]),o=n[2]!==void 0?n[2]:null;return lu.Ts(new Gt(o),r,i)}zs(t,i){let n=this.Ds.exec(t),r=Number(n[1]);return Ua.Ts(r,i)}Ms(t){return Dg.Ts(t)}Hs(t){return JSON.parse(t)}Gs(t){return g(this,null,function*(){if(t.user.uid===this.currentUser.uid)return this.syncEngine.Ys(t.batchId,t.state,t.error);w("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})}js(t){return this.syncEngine.Zs(t.targetId,t.state,t.error)}$s(t,i){let n=i?this.gs.insert(t,i):this.gs.remove(t),r=this.Os(this.gs),o=this.Os(n),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=n})}xs(t){this.gs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Os(t){let i=Ib();return t.forEach((n,r)=>{i=i.unionWith(r.activeTargetIds)}),i}},uu=class{constructor(){this.eo=new oc,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,n){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,i,n){this.no[t]=i}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new oc,Promise.resolve()}handleUserChange(t,i,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var Rg=class{ro(t){}shutdown(){}};var hu=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){w("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.ao)t(0)}_o(){w("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sd=null;function bp(){return Sd===null?Sd=function(){return 268435456+Math.round(2147483648*Math.random())}():Sd++,"0x"+Sd.toString(16)}var TM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var kg=class{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.lo()}send(t){this.co(t)}Vo(){this.Po()}mo(){this.To()}fo(t){this.Ao(t)}po(t){this.Ro(t)}};var fe="WebChannelConnection",Mg=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let n=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=n+"://"+i.host,this.wo=`projects/${r}/databases/${o}`,this.So=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get bo(){return!1}Do(i,n,r,o,s){let a=bp(),c=this.Co(i,n.toUriEncodedString());w("RestConnection",`Sending RPC '${i}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(l,o,s),this.Fo(i,c,l,r).then(d=>(w("RestConnection",`Received RPC '${i}' ${a}: `,d),d),d=>{throw We("RestConnection",`RPC '${i}' ${a} failed with error: `,d,"url: ",c,"request:",r),d})}Mo(i,n,r,o,s,a){return this.Do(i,n,r,o,s)}vo(i,n,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+es}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>i[s]=o),r&&r.headers.forEach((o,s)=>i[s]=o)}Co(i,n){let r=TM[i];return`${this.yo}/v1/${n}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Fo(t,i,n,r){let o=bp();return new Promise((s,a)=>{let c=new sI;c.setWithCredentials(!0),c.listenOnce(nI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ed.NO_ERROR:let d=c.getResponseJson();w(fe,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case Ed.TIMEOUT:w(fe,`RPC '${t}' ${o} timed out`),a(new v(p.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:let u=c.getStatus();if(w(fe,`RPC '${t}' ${o} failed with status:`,u,"response text:",c.getResponseText()),u>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let m=h?.error;if(m&&m.status&&m.message){let y=function(x){let V=x.toLowerCase().replace(/_/g,"-");return Object.values(p).indexOf(V)>=0?V:p.UNKNOWN}(m.status);a(new v(y,m.message))}else a(new v(p.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new v(p.UNAVAILABLE,"Connection failed."));break;default:k()}}finally{w(fe,`RPC '${t}' ${o} completed.`)}});let l=JSON.stringify(r);w(fe,`RPC '${t}' ${o} sending request:`,r),c.send(i,"POST",l,n,15)})}xo(t,i,n){let r=bp(),o=[this.yo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=eI(),a=iI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new oI({})),this.vo(c.initMessageHeaders,i,n),c.encodeInitMessageHeaders=!0;let d=o.join("");w(fe,`Creating RPC '${t}' stream ${r}: ${d}`,c);let u=s.createWebChannel(d,c),h=!1,m=!1,y=new kg({co:x=>{m?w(fe,`Not sending because RPC '${t}' stream ${r} is closed:`,x):(h||(w(fe,`Opening RPC '${t}' stream ${r} transport.`),u.open(),h=!0),w(fe,`RPC '${t}' stream ${r} sending:`,x),u.send(x))},lo:()=>u.close()}),_=(x,V,q)=>{x.listen(V,O=>{try{q(O)}catch(X){setTimeout(()=>{throw X},0)}})};return _(u,Ma.EventType.OPEN,()=>{m||(w(fe,`RPC '${t}' stream ${r} transport opened.`),y.Vo())}),_(u,Ma.EventType.CLOSE,()=>{m||(m=!0,w(fe,`RPC '${t}' stream ${r} transport closed`),y.fo())}),_(u,Ma.EventType.ERROR,x=>{m||(m=!0,We(fe,`RPC '${t}' stream ${r} transport errored:`,x),y.fo(new v(p.UNAVAILABLE,"The operation could not be completed")))}),_(u,Ma.EventType.MESSAGE,x=>{var V;if(!m){let q=x.data[0];L(!!q);let O=q,X=O.error||((V=O[0])===null||V===void 0?void 0:V.error);if(X){w(fe,`RPC '${t}' stream ${r} received error:`,X);let et=X.status,lt=function(LT){let J_=$t[LT];if(J_!==void 0)return HE(J_)}(et),Bt=X.message;lt===void 0&&(lt=p.INTERNAL,Bt="Unknown error status: "+et+" with message "+X.message),m=!0,y.fo(new v(lt,Bt)),u.close()}else w(fe,`RPC '${t}' stream ${r} received:`,q),y.po(q)}}),_(a,rI.STAT_EVENT,x=>{x.stat===mp.PROXY?w(fe,`RPC '${t}' stream ${r} detected buffering proxy`):x.stat===mp.NOPROXY&&w(fe,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.mo()},0),y}};function yC(){return typeof window<"u"?window:null}function Pd(){return typeof document<"u"?document:null}function gc(e){return new Qp(e,!0)}var sc=class{constructor(t,i,n=1e3,r=1.5,o=6e4){this.si=t,this.timerId=i,this.Oo=n,this.No=r,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(t){this.cancel();let i=Math.floor(this.Bo+this.$o()),n=Math.max(0,Date.now()-this.qo),r=Math.max(0,i-n);r>0&&w("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Bo} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.qo=Date.now(),t())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var mu=class{constructor(t,i,n,r,o,s,a,c){this.si=t,this.Wo=n,this.Go=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new sc(t,i)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return g(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(t){this.i_(),this.stream.send(t)}n_(){return g(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(t,i){return g(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,t!==4?this.Jo.reset():i&&i.code===p.RESOURCE_EXHAUSTED?(Lt(i.toString()),Lt("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):i&&i.code===p.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.Eo(i)})}o_(){}auth(){this.state=1;let t=this.__(this.zo),i=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.zo===i&&this.a_(n,r)},n=>{t(()=>{let r=new v(p.UNKNOWN,"Fetching auth token failed: "+n.message);return this.u_(r)})})}a_(t,i){let n=this.__(this.zo);this.stream=this.c_(t,i),this.stream.ho(()=>{n(()=>this.listener.ho())}),this.stream.Io(()=>{n(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(r=>{n(()=>this.u_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}Xo(){this.state=5,this.Jo.Ko(()=>g(this,null,function*(){this.state=0,this.start()}))}u_(t){return w("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}__(t){return i=>{this.si.enqueueAndForget(()=>this.zo===t?i():(w("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Pg=class extends mu{constructor(t,i,n,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o}c_(t,i){return this.connection.xo("Listen",t,i)}onMessage(t){this.Jo.reset();let i=dM(this.serializer,t),n=function(o){if(!("targetChange"in o))return z.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?zt(s.readTime):z.min()}(t);return this.listener.l_(i,n)}h_(t){let i={};i.database=Zp(this.serializer),i.addTarget=function(o,s){let a,c=s.target;if(a=qd(c)?{documents:tC(o,c)}:{query:eC(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=KE(o,s.resumeToken);let l=Yp(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(z.min())>0){a.readTime=qo(o,s.snapshotVersion.toTimestamp());let l=Yp(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);let n=hM(this.serializer,t);n&&(i.labels=n),this.r_(i)}P_(t){let i={};i.database=Zp(this.serializer),i.removeTarget=t,this.r_(i)}},Fg=class extends mu{constructor(t,i,n,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(t,i){return this.connection.xo("Write",t,i)}onMessage(t){if(L(!!t.streamToken),this.lastStreamToken=t.streamToken,this.I_){this.Jo.reset();let i=uM(t.writeResults,t.commitTime),n=zt(t.commitTime);return this.listener.d_(n,i)}return L(!t.writeResults||t.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let t={};t.database=Zp(this.serializer),this.r_(t)}E_(t){let i={streamToken:this.lastStreamToken,writes:t.map(n=>ic(this.serializer,n))};this.r_(i)}};var Og=class extends class{}{constructor(t,i,n,r){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=n,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new v(p.FAILED_PRECONDITION,"The client has already been terminated.")}Do(t,i,n,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(t,Xp(i,n),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new v(p.UNKNOWN,o.toString())})}Mo(t,i,n,r,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(t,Xp(i,n),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===p.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new v(p.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var Ng=class{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){let i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Lt(i),this.y_=!1):w("OnlineStateTracker",i)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Vg=class{constructor(t,i,n,r,o){this.localStore=t,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(s=>{n.enqueueAndForget(()=>g(this,null,function*(){Ln(this)&&(w("RemoteStore","Restarting streams for network reachability change."),yield function(c){return g(this,null,function*(){let l=S(c);l.M_.add(4),yield ns(l),l.N_.set("Unknown"),l.M_.delete(4),yield bc(l)})}(this))}))}),this.N_=new Ng(n,r)}};function bc(e){return g(this,null,function*(){if(Ln(e))for(let t of e.x_)yield t(!0)})}function ns(e){return g(this,null,function*(){for(let t of e.x_)yield t(!1)})}function Mu(e,t){let i=S(e);i.F_.has(t.targetId)||(i.F_.set(t.targetId,t),Rb(i)?Db(i):os(i).Zo()&&Sb(i,t))}function Qo(e,t){let i=S(e),n=os(i);i.F_.delete(t),n.Zo()&&wC(i,t),i.F_.size===0&&(n.Zo()?n.t_():Ln(i)&&i.N_.set("Unknown"))}function Sb(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(z.min())>0){let i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}os(e).h_(t)}function wC(e,t){e.L_.xe(t),os(e).P_(t)}function Db(e){e.L_=new Kp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),os(e).start(),e.N_.w_()}function Rb(e){return Ln(e)&&!os(e).Yo()&&e.F_.size>0}function Ln(e){return S(e).M_.size===0}function xC(e){e.L_=void 0}function AM(e){return g(this,null,function*(){e.N_.set("Online")})}function SM(e){return g(this,null,function*(){e.F_.forEach((t,i)=>{Sb(e,t)})})}function DM(e,t){return g(this,null,function*(){xC(e),Rb(e)?(e.N_.D_(t),Db(e)):e.N_.set("Unknown")})}function RM(e,t,i){return g(this,null,function*(){if(e.N_.set("Online"),t instanceof Kd&&t.state===2&&t.cause)try{yield function(r,o){return g(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.F_.delete(a),r.L_.removeTarget(a))})}(e,t)}catch(n){w("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield fu(e,n)}else if(t instanceof Vo?e.L_.Ke(t):t instanceof Wd?e.L_.He(t):e.L_.We(t),!i.isEqual(z.min()))try{let n=yield pC(e.localStore);i.compareTo(n)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.F_.get(l);d&&o.F_.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o.F_.get(c);if(!d)return;o.F_.set(c,d.withResumeToken(ie.EMPTY_BYTE_STRING,d.snapshotVersion)),wC(o,c);let u=new Go(d.target,c,l,d.sequenceNumber);Sb(o,u)}),o.remoteSyncer.applyRemoteEvent(a)}(e,i))}catch(n){w("RemoteStore","Failed to raise snapshot:",n),yield fu(e,n)}})}function fu(e,t,i){return g(this,null,function*(){if(!Vn(t))throw t;e.M_.add(1),yield ns(e),e.N_.set("Offline"),i||(i=()=>pC(e.localStore)),e.asyncQueue.enqueueRetryable(()=>g(this,null,function*(){w("RemoteStore","Retrying IndexedDB access"),yield i(),e.M_.delete(1),yield bc(e)}))})}function IC(e,t){return t().catch(i=>fu(e,i,t))}function rs(e){return g(this,null,function*(){let t=S(e),i=On(t),n=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;kM(t);)try{let r=yield IM(t.localStore,n);if(r===null){t.v_.length===0&&i.t_();break}n=r.batchId,MM(t,r)}catch(r){yield fu(t,r)}EC(t)&&CC(t)})}function kM(e){return Ln(e)&&e.v_.length<10}function MM(e,t){e.v_.push(t);let i=On(e);i.Zo()&&i.T_&&i.E_(t.mutations)}function EC(e){return Ln(e)&&!On(e).Yo()&&e.v_.length>0}function CC(e){On(e).start()}function PM(e){return g(this,null,function*(){On(e).R_()})}function FM(e){return g(this,null,function*(){let t=On(e);for(let i of e.v_)t.E_(i.mutations)})}function OM(e,t,i){return g(this,null,function*(){let n=e.v_.shift(),r=Gp.from(n,t,i);yield IC(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield rs(e)})}function NM(e,t){return g(this,null,function*(){t&&On(e).T_&&(yield function(n,r){return g(this,null,function*(){if(function(s){return GE(s)&&s!==p.ABORTED}(r.code)){let o=n.v_.shift();On(n).e_(),yield IC(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield rs(n)}})}(e,t)),EC(e)&&CC(e)})}function ZI(e,t){return g(this,null,function*(){let i=S(e);i.asyncQueue.verifyOperationInProgress(),w("RemoteStore","RemoteStore received new credentials");let n=Ln(i);i.M_.add(3),yield ns(i),n&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.M_.delete(3),yield bc(i)})}function Lg(e,t){return g(this,null,function*(){let i=S(e);t?(i.M_.delete(2),yield bc(i)):t||(i.M_.add(2),yield ns(i),i.N_.set("Unknown"))})}function os(e){return e.B_||(e.B_=function(i,n,r){let o=S(i);return o.m_(),new Pg(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{ho:AM.bind(null,e),Io:SM.bind(null,e),Eo:DM.bind(null,e),l_:RM.bind(null,e)}),e.x_.push(t=>g(this,null,function*(){t?(e.B_.e_(),Rb(e)?Db(e):e.N_.set("Unknown")):(yield e.B_.stop(),xC(e))}))),e.B_}function On(e){return e.k_||(e.k_=function(i,n,r){let o=S(i);return o.m_(),new Fg(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:PM.bind(null,e),Eo:NM.bind(null,e),A_:FM.bind(null,e),d_:OM.bind(null,e)}),e.x_.push(t=>g(this,null,function*(){t?(e.k_.e_(),yield rs(e)):(yield e.k_.stop(),e.v_.length>0&&(w("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))}))),e.k_}var jg=class e{constructor(t,i,n,r,o){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Ht,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,n,r,o){let s=Date.now()+n,a=new e(t,i,s,r,o);return a.start(n),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new v(p.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ss(e,t){if(Lt("AsyncQueue",`${t}: ${e}`),Vn(e))return new v(p.UNAVAILABLE,`${t}: ${e}`);throw e}var pu=class e{constructor(t){this.comparator=t?(i,n)=>t(i,n)||A.comparator(i.key,n.key):(i,n)=>A.comparator(i.key,n.key),this.keyedMap=Va(),this.sortedSet=new Ct(this.comparator)}static emptySet(t){return new e(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,n)=>(t(i),!1))}add(t){let i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){let i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let i=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){let n=new e;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=i,n}};var gu=class{constructor(){this.q_=new Ct(A.comparator)}track(t){let i=t.doc.key,n=this.q_.get(i);n?t.type!==0&&n.type===3?this.q_=this.q_.insert(i,t):t.type===3&&n.type!==1?this.q_=this.q_.insert(i,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.q_=this.q_.insert(i,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.q_=this.q_.remove(i):t.type===1&&n.type===2?this.q_=this.q_.insert(i,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):k():this.q_=this.q_.insert(i,t)}Q_(){let t=[];return this.q_.inorderTraversal((i,n)=>{t.push(n)}),t}},Yo=class e{constructor(t,i,n,r,o,s,a,c,l){this.query=t,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,i,n,r,o){let s=[];return i.forEach(a=>{s.push({type:0,doc:a})}),new e(t,i,pu.emptySet(i),s,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let i=this.docChanges,n=t.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}};var zg=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}},Bg=class{constructor(){this.queries=new Ri(t=>RE(t),fc),this.onlineState="Unknown",this.z_=new Set}};function kb(e,t){return g(this,null,function*(){let i=S(e),n=3,r=t.query,o=i.queries.get(r);o?!o.W_()&&t.G_()&&(n=2):(o=new zg,n=t.G_()?0:1);try{switch(n){case 0:o.K_=yield i.onListen(r,!0);break;case 1:o.K_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(s){let a=ss(s,`Initialization of query '${Ro(t.query)}' failed`);return void t.onError(a)}i.queries.set(r,o),o.U_.push(t),t.j_(i.onlineState),o.K_&&t.H_(o.K_)&&Pb(i)})}function Mb(e,t){return g(this,null,function*(){let i=S(e),n=t.query,r=3,o=i.queries.get(n);if(o){let s=o.U_.indexOf(t);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=t.G_()?0:1:!o.W_()&&t.G_()&&(r=2))}switch(r){case 0:return i.queries.delete(n),i.onUnlisten(n,!0);case 1:return i.queries.delete(n),i.onUnlisten(n,!1);case 2:return i.onLastRemoteStoreUnlisten(n);default:return}})}function VM(e,t){let i=S(e),n=!1;for(let r of t){let o=r.query,s=i.queries.get(o);if(s){for(let a of s.U_)a.H_(r)&&(n=!0);s.K_=r}}n&&Pb(i)}function LM(e,t,i){let n=S(e),r=n.queries.get(t);if(r)for(let o of r.U_)o.onError(i);n.queries.delete(t)}function Pb(e){e.z_.forEach(t=>{t.next()})}var Ug,JI;(JI=Ug||(Ug={})).J_="default",JI.Cache="cache";var ac=class{constructor(t,i,n){this.query=t,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(t){if(!this.options.includeMetadataChanges){let n=[];for(let r of t.docChanges)r.type!==3&&n.push(r);t=new Yo(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),i=!0):this.ta(t,this.onlineState)&&(this.na(t),i=!0),this.X_=t,i}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),i=!0),i}ta(t,i){if(!t.fromCache||!this.G_())return!0;let n=i!=="Offline";return(!this.options.ra||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ea(t){if(t.docChanges.length>0)return!0;let i=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}na(t){t=Yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Ug.Cache}};var $g=class{constructor(t,i){this.ia=t,this.byteLength=i}sa(){return"metadata"in this.ia}};var bu=class{constructor(t){this.serializer=t}hs(t){return Ti(this.serializer,t)}Ps(t){return t.metadata.exists?JE(this.serializer,t.document,!1):Wt.newNoDocument(this.hs(t.metadata.name),this.Is(t.metadata.readTime))}Is(t){return zt(t)}},qg=class{constructor(t,i,n){this.oa=t,this.localStore=i,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TC(t)}_a(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.ia.namedQuery)this.queries.push(t.ia.namedQuery);else if(t.ia.documentMetadata){this.documents.push({metadata:t.ia.documentMetadata}),t.ia.documentMetadata.exists||++i;let n=at.fromString(t.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else t.ia.document&&(this.documents[this.documents.length-1].document=t.ia.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}aa(t){let i=new Map,n=new bu(this.serializer);for(let r of t)if(r.metadata.queries){let o=n.hs(r.metadata.name);for(let s of r.metadata.queries){let a=(i.get(s)||K()).add(o);i.set(s,a)}}return i}complete(){return g(this,null,function*(){let t=yield EM(this.localStore,new bu(this.serializer),this.documents,this.oa.id),i=this.aa(this.documents);for(let n of this.queries)yield CM(this.localStore,n,i.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:t}})}};function TC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var _u=class{constructor(t){this.key=t}},vu=class{constructor(t){this.key=t}},yu=class{constructor(t,i){this.query=t,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=K(),this.mutatedKeys=K(),this.Ia=ME(t),this.Ta=new pu(this.Ia)}get Ea(){return this.la}da(t,i){let n=i?i.Aa:new gu,r=i?i.Ta:this.Ta,o=i?i.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,u)=>{let h=r.get(d),m=pc(this.query,u)?u:null,y=!!h&&this.mutatedKeys.has(h.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),x=!1;h&&m?h.data.isEqual(m.data)?y!==_&&(n.track({type:3,doc:m}),x=!0):this.Ra(h,m)||(n.track({type:2,doc:m}),x=!0,(c&&this.Ia(m,c)>0||l&&this.Ia(m,l)<0)&&(a=!0)):!h&&m?(n.track({type:0,doc:m}),x=!0):h&&!m&&(n.track({type:1,doc:h}),x=!0,(c||l)&&(a=!0)),x&&(m?(s=s.add(m),o=_?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),n.track({type:1,doc:d})}return{Ta:s,Aa:n,Zi:a,mutatedKeys:o}}Ra(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,n,r){let o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;let s=t.Aa.Q_();s.sort((d,u)=>function(m,y){let _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k()}};return _(m)-_(y)}(d.type,u.type)||this.Ia(d.doc,u.doc)),this.Va(n),r=r!=null&&r;let a=i&&!r?this.ma():[],c=this.Pa.size===0&&this.current&&!r?1:0,l=c!==this.ha;return this.ha=c,s.length!==0||l?{snapshot:new Yo(this.query,t.Ta,o,s,t.mutatedKeys,c===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new gu,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(i=>this.la=this.la.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=t.current)}ma(){if(!this.current)return[];let t=this.Pa;this.Pa=K(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});let i=[];return t.forEach(n=>{this.Pa.has(n)||i.push(new vu(n))}),this.Pa.forEach(n=>{t.has(n)||i.push(new _u(n))}),i}pa(t){this.la=t.ls,this.Pa=K();let i=this.da(t.documents);return this.applyChanges(i,!0)}ya(){return Yo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Gg=class{constructor(t,i,n){this.query=t,this.targetId=i,this.view=n}},Hg=class{constructor(t){this.key=t,this.wa=!1}},Wg=class{constructor(t,i,n,r,o,s){this.localStore=t,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Ri(a=>RE(a),fc),this.Da=new Map,this.Ca=new Set,this.va=new Ct(A.comparator),this.Fa=new Map,this.Ma=new rc,this.xa={},this.Oa=new Map,this.Na=Ho.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function jM(e,t,i=!0){return g(this,null,function*(){let n=Pu(e),r,o=n.ba.get(t);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield AC(n,t,i,!0),r})}function zM(e,t){return g(this,null,function*(){let i=Pu(e);yield AC(i,t,!0,!1)})}function AC(e,t,i,n){return g(this,null,function*(){let r=yield Wo(e.localStore,xe(t)),o=r.targetId,s=i?e.sharedClientState.addLocalQueryTarget(o):"not-current",a;return n&&(a=yield Fb(e,t,o,s==="current",r.resumeToken)),e.isPrimaryClient&&i&&Mu(e.remoteStore,r),a})}function Fb(e,t,i,n,r){return g(this,null,function*(){e.Ba=(u,h,m)=>function(_,x,V,q){return g(this,null,function*(){let O=x.view.da(V);O.Zi&&(O=yield cu(_.localStore,x.query,!1).then(({documents:Bt})=>x.view.da(Bt,O)));let X=q&&q.targetChanges.get(x.targetId),et=q&&q.targetMismatches.get(x.targetId)!=null,lt=x.view.applyChanges(O,_.isPrimaryClient,X,et);return Kg(_,x.targetId,lt.fa),lt.snapshot})}(e,u,h,m);let o=yield cu(e.localStore,t,!0),s=new yu(t,o.ls),a=s.da(o.documents),c=tc.createSynthesizedTargetChangeForCurrentChange(i,n&&e.onlineState!=="Offline",r),l=s.applyChanges(a,e.isPrimaryClient,c);Kg(e,i,l.fa);let d=new Gg(t,i,s);return e.ba.set(t,d),e.Da.has(i)?e.Da.get(i).push(t):e.Da.set(i,[t]),l.snapshot})}function BM(e,t,i){return g(this,null,function*(){let n=S(e),r=n.ba.get(t),o=n.Da.get(r.targetId);if(o.length>1)return n.Da.set(r.targetId,o.filter(s=>!fc(s,t))),void n.ba.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ko(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i&&Qo(n.remoteStore,r.targetId),Xo(n,r.targetId)}).catch(Nn))):(Xo(n,r.targetId),yield Ko(n.localStore,r.targetId,!0))})}function UM(e,t){return g(this,null,function*(){let i=S(e),n=i.ba.get(t),r=i.Da.get(n.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(n.targetId),Qo(i.remoteStore,n.targetId))})}function $M(e,t,i){return g(this,null,function*(){let n=Lb(e);try{let r=yield function(s,a){let c=S(s),l=Pt.now(),d=a.reduce((m,y)=>m.add(y.key),K()),u,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Se(),_=K();return c.ss.getEntries(m,d).next(x=>{y=x,y.forEach((V,q)=>{q.isValidDocument()||(_=_.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,y)).next(x=>{u=x;let V=[];for(let q of a){let O=nM(q,u.get(q.key).overlayedDocument);O!=null&&V.push(new si(q.key,O,IE(O.value.mapValue),Nt.exists(!0)))}return c.mutationQueue.addMutationBatch(m,l,V,a)}).next(x=>{h=x;let V=x.applyToLocalDocumentSet(u,_);return c.documentOverlayCache.saveOverlays(m,x.batchId,V)})}).then(()=>({batchId:h.batchId,changes:FE(u)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.xa[s.currentUser.toKey()];l||(l=new Ct(W)),l=l.insert(a,c),s.xa[s.currentUser.toKey()]=l}(n,r.batchId,i),yield Zi(n,r.changes),yield rs(n.remoteStore)}catch(r){let o=ss(r,"Failed to persist write");i.reject(o)}})}function SC(e,t){return g(this,null,function*(){let i=S(e);try{let n=yield xM(i.localStore,t);t.targetChanges.forEach((r,o)=>{let s=i.Fa.get(o);s&&(L(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?L(s.wa):r.removedDocuments.size>0&&(L(s.wa),s.wa=!1))}),yield Zi(i,n,t)}catch(n){yield Nn(n)}})}function tE(e,t,i){let n=S(e);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){let r=[];n.ba.forEach((o,s)=>{let a=s.view.j_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=S(s);c.onlineState=a;let l=!1;c.queries.forEach((d,u)=>{for(let h of u.U_)h.j_(a)&&(l=!0)}),l&&Pb(c)}(n.eventManager,t),r.length&&n.Sa.l_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function qM(e,t,i){return g(this,null,function*(){let n=S(e);n.sharedClientState.updateQueryState(t,"rejected",i);let r=n.Fa.get(t),o=r&&r.key;if(o){let s=new Ct(A.comparator);s=s.insert(o,Wt.newNoDocument(o,z.min()));let a=K().add(o),c=new Ja(z.min(),new Map,new Ct(W),s,a);yield SC(n,c),n.va=n.va.remove(o),n.Fa.delete(t),Vb(n)}else yield Ko(n.localStore,t,!1).then(()=>Xo(n,t,i)).catch(Nn)})}function GM(e,t){return g(this,null,function*(){let i=S(e),n=t.batch.batchId;try{let r=yield wM(i.localStore,t);Nb(i,n,null),Ob(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),yield Zi(i,r)}catch(r){yield Nn(r)}})}function HM(e,t,i){return g(this,null,function*(){let n=S(e);try{let r=yield function(s,a){let c=S(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(u=>(L(u!==null),d=u.keys(),c.mutationQueue.removeMutationBatch(l,u))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(n.localStore,t);Nb(n,t,i),Ob(n,t),n.sharedClientState.updateMutationState(t,"rejected",i),yield Zi(n,r)}catch(r){yield Nn(r)}})}function WM(e,t){return g(this,null,function*(){let i=S(e);Ln(i.remoteStore)||w("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let n=yield function(s){let a=S(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(i.localStore);if(n===-1)return void t.resolve();let r=i.Oa.get(n)||[];r.push(t),i.Oa.set(n,r)}catch(n){let r=ss(n,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})}function Ob(e,t){(e.Oa.get(t)||[]).forEach(i=>{i.resolve()}),e.Oa.delete(t)}function Nb(e,t,i){let n=S(e),r=n.xa[n.currentUser.toKey()];if(r){let o=r.get(t);o&&(i?o.reject(i):o.resolve(),r=r.remove(t)),n.xa[n.currentUser.toKey()]=r}}function Xo(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(let n of e.Da.get(t))e.ba.delete(n),i&&e.Sa.ka(n,i);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach(n=>{e.Ma.containsKey(n)||DC(e,n)})}function DC(e,t){e.Ca.delete(t.path.canonicalString());let i=e.va.get(t);i!==null&&(Qo(e.remoteStore,i),e.va=e.va.remove(t),e.Fa.delete(i),Vb(e))}function Kg(e,t,i){for(let n of i)n instanceof _u?(e.Ma.addReference(n.key,t),KM(e,n)):n instanceof vu?(w("SyncEngine","Document no longer in limbo: "+n.key),e.Ma.removeReference(n.key,t),e.Ma.containsKey(n.key)||DC(e,n.key)):k()}function KM(e,t){let i=t.key,n=i.path.canonicalString();e.va.get(i)||e.Ca.has(n)||(w("SyncEngine","New document in limbo: "+i),e.Ca.add(n),Vb(e))}function Vb(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){let t=e.Ca.values().next().value;e.Ca.delete(t);let i=new A(at.fromString(t)),n=e.Na.next();e.Fa.set(n,new Hg(i)),e.va=e.va.insert(i,n),Mu(e.remoteStore,new Go(xe(is(i.path)),n,"TargetPurposeLimboResolution",Ve.oe))}}function Zi(e,t,i){return g(this,null,function*(){let n=S(e),r=[],o=[],s=[];n.ba.isEmpty()||(n.ba.forEach((a,c)=>{s.push(n.Ba(c,t,i).then(l=>{if((l||i)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let d=Tg.Qi(c.targetId,l);o.push(d)}}))}),yield Promise.all(s),n.Sa.l_(r),yield function(c,l){return g(this,null,function*(){let d=S(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>f.forEach(l,h=>f.forEach(h.ki,m=>d.persistence.referenceDelegate.addReference(u,h.targetId,m)).next(()=>f.forEach(h.qi,m=>d.persistence.referenceDelegate.removeReference(u,h.targetId,m)))))}catch(u){if(!Vn(u))throw u;w("LocalStore","Failed to update sequence numbers: "+u)}for(let u of l){let h=u.targetId;if(!u.fromCache){let m=d.ts.get(h),y=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(y);d.ts=d.ts.insert(h,_)}}})}(n.localStore,o))})}function QM(e,t){return g(this,null,function*(){let i=S(e);if(!i.currentUser.isEqual(t)){w("SyncEngine","User change. New user:",t.toKey());let n=yield fC(i.localStore,t);i.currentUser=t,function(o,s){o.Oa.forEach(a=>{a.forEach(c=>{c.reject(new v(p.CANCELLED,s))})}),o.Oa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield Zi(i,n._s)}})}function YM(e,t){let i=S(e),n=i.Fa.get(t);if(n&&n.wa)return K().add(n.key);{let r=K(),o=i.Da.get(t);if(!o)return r;for(let s of o){let a=i.ba.get(s);r=r.unionWith(a.view.Ea)}return r}}function XM(e,t){return g(this,null,function*(){let i=S(e),n=yield cu(i.localStore,t.query,!0),r=t.view.pa(n);return i.isPrimaryClient&&Kg(i,t.targetId,r.fa),r})}function ZM(e,t){return g(this,null,function*(){let i=S(e);return _C(i.localStore,t).then(n=>Zi(i,n))})}function JM(e,t,i,n){return g(this,null,function*(){let r=S(e),o=yield function(a,c){let l=S(a),d=S(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>d.Cn(u,c).next(h=>h?l.localDocuments.getDocuments(u,h):f.resolve(null)))}(r.localStore,t);o!==null?(i==="pending"?yield rs(r.remoteStore):i==="acknowledged"||i==="rejected"?(Nb(r,t,n||null),Ob(r,t),function(a,c){S(S(a).mutationQueue).Fn(c)}(r.localStore,t)):k(),yield Zi(r,o)):w("SyncEngine","Cannot apply mutation batch with id: "+t)})}function tP(e,t){return g(this,null,function*(){let i=S(e);if(Pu(i),Lb(i),t===!0&&i.La!==!0){let n=i.sharedClientState.getAllActiveQueryTargets(),r=yield eE(i,n.toArray());i.La=!0,yield Lg(i.remoteStore,!0);for(let o of r)Mu(i.remoteStore,o)}else if(t===!1&&i.La!==!1){let n=[],r=Promise.resolve();i.Da.forEach((o,s)=>{i.sharedClientState.isLocalQueryTarget(s)?n.push(s):r=r.then(()=>(Xo(i,s),Ko(i.localStore,s,!0))),Qo(i.remoteStore,s)}),yield r,yield eE(i,n),function(s){let a=S(s);a.Fa.forEach((c,l)=>{Qo(a.remoteStore,l)}),a.Ma.Vr(),a.Fa=new Map,a.va=new Ct(A.comparator)}(i),i.La=!1,yield Lg(i.remoteStore,!1)}})}function eE(e,t,i){return g(this,null,function*(){let n=S(e),r=[],o=[];for(let s of t){let a,c=n.Da.get(s);if(c&&c.length!==0){a=yield Wo(n.localStore,xe(c[0]));for(let l of c){let d=n.ba.get(l),u=yield XM(n,d);u.snapshot&&o.push(u.snapshot)}}else{let l=yield bC(n.localStore,s);a=yield Wo(n.localStore,l),yield Fb(n,RC(l),s,!1,a.resumeToken)}r.push(a)}return n.Sa.l_(o),r})}function RC(e){return DE(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function eP(e){return function(i){return S(S(i).persistence).Li()}(S(e).localStore)}function iP(e,t,i,n){return g(this,null,function*(){let r=S(e);if(r.La)return void w("SyncEngine","Ignoring unexpected query state notification.");let o=r.Da.get(t);if(o&&o.length>0)switch(i){case"current":case"not-current":{let s=yield _C(r.localStore,kE(o[0])),a=Ja.createSynthesizedRemoteEventForCurrentChange(t,i==="current",ie.EMPTY_BYTE_STRING);yield Zi(r,s,a);break}case"rejected":yield Ko(r.localStore,t,!0),Xo(r,t,n);break;default:k()}})}function nP(e,t,i){return g(this,null,function*(){let n=Pu(e);if(n.La){for(let r of t){if(n.Da.has(r)&&n.sharedClientState.isActiveQueryTarget(r)){w("SyncEngine","Adding an already active target "+r);continue}let o=yield bC(n.localStore,r),s=yield Wo(n.localStore,o);yield Fb(n,RC(o),s.targetId,!1,s.resumeToken),Mu(n.remoteStore,s)}for(let r of i)n.Da.has(r)&&(yield Ko(n.localStore,r,!1).then(()=>{Qo(n.remoteStore,r),Xo(n,r)}).catch(Nn))}})}function Pu(e){let t=S(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=SC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qM.bind(null,t),t.Sa.l_=VM.bind(null,t.eventManager),t.Sa.ka=LM.bind(null,t.eventManager),t}function Lb(e){let t=S(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HM.bind(null,t),t}function rP(e,t,i){let n=S(e);(function(o,s,a){return g(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(m,y){let _=S(m),x=zt(y.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",V=>_.Kr.getBundleMetadata(V,y.id)).then(V=>!!V&&V.createTime.compareTo(x)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(TC(c));let l=new qg(c,o.localStore,s.serializer),d=yield s.qa();for(;d;){let h=yield l._a(d);h&&a._updateProgress(h),d=yield s.qa()}let u=yield l.complete();return yield Zi(o,u.ca,void 0),yield function(m,y){let _=S(m);return _.persistence.runTransaction("Save bundle","readwrite",x=>_.Kr.saveBundleMetadata(x,y))}(o.localStore,c),a._completeWith(u.progress),Promise.resolve(u.ua)}catch(c){return We("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(n,t,i).then(r=>{n.sharedClientState.notifyBundleLoaded(r)})}var cc=class{constructor(){this.synchronizeTabs=!1}initialize(t){return g(this,null,function*(){this.serializer=gc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return mC(this.persistence,new au,t.initialUser,this.serializer)}createPersistence(t){return new ou(su.jr,this.serializer)}createSharedClientState(t){return new uu}terminate(){return g(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var wu=class e extends cc{constructor(t,i,n){super(),this.Qa=t,this.cacheSizeBytes=i,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){return g(this,null,function*(){yield ah(e.prototype,this,"initialize").call(this,t),yield this.Qa.initialize(this,t),yield Lb(this.Qa.syncEngine),yield rs(this.Qa.remoteStore),yield this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(t){return mC(this.persistence,new au,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,i){let n=this.persistence.referenceDelegate.garbageCollector;return new ug(n,t.asyncQueue,i)}createIndexBackfillerScheduler(t,i){let n=new Dp(i,this.persistence);return new Sp(t.asyncQueue,n)}createPersistence(t){let i=Ab(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?He.withCacheSize(this.cacheSizeBytes):He.DEFAULT;return new Cg(this.synchronizeTabs,i,t.clientId,n,t.asyncQueue,yC(),Pd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new uu}},Qg=class e extends wu{constructor(t,i){super(t,i,!1),this.Qa=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){return g(this,null,function*(){yield ah(e.prototype,this,"initialize").call(this,t);let i=this.Qa.syncEngine;this.sharedClientState instanceof $a&&(this.sharedClientState.syncEngine={Ys:JM.bind(null,i),Zs:iP.bind(null,i),Xs:nP.bind(null,i),Li:eP.bind(null,i),Js:ZM.bind(null,i)},yield this.sharedClientState.start()),yield this.persistence.mi(n=>g(this,null,function*(){yield tP(this.Qa.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(t){let i=yC();if(!$a.D(i))throw new v(p.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let n=Ab(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new $a(i,t.asyncQueue,n,t.clientId,t.initialUser)}},lc=class{initialize(t,i){return g(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>tE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=QM.bind(null,this.syncEngine),yield Lg(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Bg}()}createDatastore(t){let i=gc(t.databaseInfo.databaseId),n=function(o){return new Mg(o)}(t.databaseInfo);return function(o,s,a,c){return new Og(o,s,a,c)}(t.authCredentials,t.appCheckCredentials,n,i)}createRemoteStore(t){return function(n,r,o,s,a){return new Vg(n,r,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,i=>tE(this.syncEngine,i,0),function(){return hu.D()?new hu:new Rg}())}createSyncEngine(t,i){return function(r,o,s,a,c,l,d){let u=new Wg(r,o,s,a,c,l);return d&&(u.La=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return g(this,null,function*(){var t;yield function(n){return g(this,null,function*(){let r=S(n);w("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield ns(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()})}};function iE(e,t=10240){let i=0;return{read(){return g(this,null,function*(){if(i<e.byteLength){let r={value:e.slice(i,i+t),done:!1};return i+=t,r}return{done:!0}})},cancel(){return g(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Zo=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Lt("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}};var Yg=class{constructor(t,i){this.Ua=t,this.serializer=i,this.metadata=new Ht,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(n=>{n&&n.sa()?this.metadata.resolve(n.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(n?.ia)}`))},n=>this.metadata.reject(n))}close(){return this.Ua.cancel()}getMetadata(){return g(this,null,function*(){return this.metadata.promise})}qa(){return g(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return g(this,null,function*(){let t=yield this.za();if(t===null)return null;let i=this.Wa.decode(t),n=Number(i);isNaN(n)&&this.ja(`length string (${i}) is not valid number`);let r=yield this.Ha(n);return new $g(JSON.parse(r),t.length+n)})}Ja(){return this.buffer.findIndex(t=>t===123)}za(){return g(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let t=this.Ja();t<0&&this.ja("Reached the end of bundle when a length string is expected.");let i=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),i})}Ha(t){return g(this,null,function*(){for(;this.buffer.length<t;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let i=this.Wa.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),i})}ja(t){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${t}`)}Ya(){return g(this,null,function*(){let t=yield this.Ua.read();if(!t.done){let i=new Uint8Array(this.buffer.length+t.value.length);i.set(this.buffer),i.set(t.value,this.buffer.length),this.buffer=i}return t.done})}};var Xg=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){return g(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new v(p.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let i=yield function(r,o){return g(this,null,function*(){let s=S(r),a={documents:o.map(u=>ec(s.serializer,u))},c=yield s.Mo("BatchGetDocuments",s.serializer.databaseId,at.emptyPath(),a,o.length),l=new Map;c.forEach(u=>{let h=lM(s.serializer,u);l.set(h.key.toString(),h)});let d=[];return o.forEach(u=>{let h=l.get(u.toString());L(!!h),d.push(h)}),d})}(this.datastore,t);return i.forEach(n=>this.recordVersion(n)),i})}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new Fn(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){return g(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let t=this.readVersions;this.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,n)=>{let r=A.fromPath(n);this.mutations.push(new Ya(r,this.precondition(r)))}),yield function(n,r){return g(this,null,function*(){let o=S(n),s={writes:r.map(a=>ic(o.serializer,a))};yield o.Do("Commit",o.serializer.databaseId,at.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw k();i=z.min()}let n=this.readVersions.get(t.key.toString());if(n){if(!i.isEqual(n))throw new v(p.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){let i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(z.min())?Nt.exists(!1):Nt.updateTime(i):Nt.none()}preconditionForUpdate(t){let i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(z.min()))throw new v(p.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nt.updateTime(i)}return Nt.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};var Zg=class{constructor(t,i,n,r,o){this.asyncQueue=t,this.datastore=i,this.options=n,this.updateFunction=r,this.deferred=o,this.Za=n.maxAttempts,this.Jo=new sc(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Jo.Ko(()=>g(this,null,function*(){let t=new Xg(this.datastore),i=this.tu(t);i&&i.then(n=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(n)}).catch(r=>{this.nu(r)}))}).catch(n=>{this.nu(n)})}))}tu(t){try{let i=this.updateFunction(t);return!hc(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if(t.name==="FirebaseError"){let i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!GE(i)}return!1}};var Jg=class{constructor(t,i,n,r){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=Gt.UNAUTHENTICATED,this.clientId=Nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,o=>g(this,null,function*(){w("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,o=>(w("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new v(p.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let t=new Ht;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>g(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){let n=ss(i,"Failed to shutdown persistence");t.reject(n)}})),t.promise}};function Fd(e,t){return g(this,null,function*(){e.asyncQueue.verifyOperationInProgress(),w("FirestoreClient","Initializing OfflineComponentProvider");let i=e.configuration;yield t.initialize(i);let n=i.initialUser;e.setCredentialChangeListener(r=>g(this,null,function*(){n.isEqual(r)||(yield fC(t.localStore,r),n=r)})),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t})}function tb(e,t){return g(this,null,function*(){e.asyncQueue.verifyOperationInProgress();let i=yield jb(e);w("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,e.configuration),e.setCredentialChangeListener(n=>ZI(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,r)=>ZI(t.remoteStore,r)),e._onlineComponents=t})}function kC(e){return e.name==="FirebaseError"?e.code===p.FAILED_PRECONDITION||e.code===p.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}function jb(e){return g(this,null,function*(){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){w("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Fd(e,e._uninitializedComponentsProvider._offline)}catch(t){let i=t;if(!kC(i))throw i;We("Error using user provided cache. Falling back to memory cache: "+i),yield Fd(e,new cc)}}else w("FirestoreClient","Using default OfflineComponentProvider"),yield Fd(e,new cc);return e._offlineComponents})}function Fu(e){return g(this,null,function*(){return e._onlineComponents||(e._uninitializedComponentsProvider?(w("FirestoreClient","Using user provided OnlineComponentProvider"),yield tb(e,e._uninitializedComponentsProvider._online)):(w("FirestoreClient","Using default OnlineComponentProvider"),yield tb(e,new lc))),e._onlineComponents})}function MC(e){return jb(e).then(t=>t.persistence)}function zb(e){return jb(e).then(t=>t.localStore)}function PC(e){return Fu(e).then(t=>t.remoteStore)}function Bb(e){return Fu(e).then(t=>t.syncEngine)}function oP(e){return Fu(e).then(t=>t.datastore)}function Jo(e){return g(this,null,function*(){let t=yield Fu(e),i=t.eventManager;return i.onListen=jM.bind(null,t.syncEngine),i.onUnlisten=BM.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=zM.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=UM.bind(null,t.syncEngine),i})}function sP(e){return e.asyncQueue.enqueue(()=>g(this,null,function*(){let t=yield MC(e),i=yield PC(e);return t.setNetworkEnabled(!0),function(r){let o=S(r);return o.M_.delete(0),bc(o)}(i)}))}function aP(e){return e.asyncQueue.enqueue(()=>g(this,null,function*(){let t=yield MC(e),i=yield PC(e);return t.setNetworkEnabled(!1),function(r){return g(this,null,function*(){let o=S(r);o.M_.add(0),yield ns(o),o.N_.set("Offline")})}(i)}))}function cP(e,t){let i=new Ht;return e.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(r,o,s){return g(this,null,function*(){try{let a=yield function(l,d){let u=S(l);return u.persistence.runTransaction("read document","readonly",h=>u.localDocuments.getDocument(h,d))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new v(p.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=ss(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield zb(e),t,i)})),i.promise}function FC(e,t,i={}){let n=new Ht;return e.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(o,s,a,c,l){let d=new Zo({next:h=>{s.enqueueAndForget(()=>Mb(o,u));let m=h.docs.has(a);!m&&h.fromCache?l.reject(new v(p.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&c&&c.source==="server"?l.reject(new v(p.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new ac(is(a.path),d,{includeMetadataChanges:!0,ra:!0});return kb(o,u)}(yield Jo(e),e.asyncQueue,t,i,n)})),n.promise}function lP(e,t){let i=new Ht;return e.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(r,o,s){return g(this,null,function*(){try{let a=yield cu(r,o,!0),c=new yu(o,a.ls),l=c.da(a.documents),d=c.applyChanges(l,!1);s.resolve(d.snapshot)}catch(a){let c=ss(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield zb(e),t,i)})),i.promise}function OC(e,t,i={}){let n=new Ht;return e.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(o,s,a,c,l){let d=new Zo({next:h=>{s.enqueueAndForget(()=>Mb(o,u)),h.fromCache&&c.source==="server"?l.reject(new v(p.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new ac(a,d,{includeMetadataChanges:!0,ra:!0});return kb(o,u)}(yield Jo(e),e.asyncQueue,t,i,n)})),n.promise}function dP(e,t){let i=new Zo(t);return e.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(r,o){S(r).z_.add(o),o.next()}(yield Jo(e),i)})),()=>{i.$a(),e.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return function(r,o){S(r).z_.delete(o)}(yield Jo(e),i)}))}}function uP(e,t,i,n){let r=function(s,a){let c;return c=typeof s=="string"?WE().encode(s):s,function(d,u){return new Yg(d,u)}(function(d,u){if(d instanceof Uint8Array)return iE(d,u);if(d instanceof ArrayBuffer)return iE(new Uint8Array(d),u);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(i,gc(t));e.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){rP(yield Bb(e),r,n)}))}function hP(e,t){return e.asyncQueue.enqueue(()=>g(this,null,function*(){return function(n,r){let o=S(n);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield zb(e),t)}))}function NC(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var nE=new Map;function Ub(e,t,i){if(!i)throw new v(p.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $b(e,t,i,n){if(t===!0&&n===!0)throw new v(p.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function rE(e){if(!A.isDocumentKey(e))throw new v(p.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function oE(e){if(A.isDocumentKey(e))throw new v(p.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ou(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{let t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":k()}function ct(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new v(p.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=Ou(e);throw new v(p.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}function VC(e,t){if(t<=0)throw new v(p.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}var xu=class{constructor(t){var i,n;if(t.host===void 0){if(t.ssl!==void 0)throw new v(p.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new v(p.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$b("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NC((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new v(p.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new v(p.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new v(p.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Cr=class{constructor(t,i,n,r){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new v(p.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new v(p.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xu(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _p;switch(n.type){case"firstParty":return new xp(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new v(p.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let n=nE.get(i);n&&(w("ComponentProvider","Removing Datastore"),nE.delete(i),n.terminate())}(this),Promise.resolve()}};function Nu(e,t,i,n={}){var r;let o=(e=ct(e,Cr))._getSettings(),s=`${t}:${i}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&We("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let a,c;if(typeof n.mockUserToken=="string")a=n.mockUserToken,c=Gt.MOCK_USER;else{a=Bv(n.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);let l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new v(p.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Gt(l)}e._authCredentials=new vp(new Od(a,c))}}var le=class e{constructor(t,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new e(this.firestore,t,this._query)}},vt=class e{constructor(t,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}},Ai=class e extends le{constructor(t,i,n){super(t,i,is(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new vt(this.firestore,null,new A(t))}withConverter(t){return new e(this.firestore,t,this._path)}};function Vu(e,t,...i){if(e=kt(e),Ub("collection","path",t),e instanceof Cr){let n=at.fromString(t,...i);return oE(n),new Ai(e,null,n)}{if(!(e instanceof vt||e instanceof Ai))throw new v(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(at.fromString(t,...i));return oE(n),new Ai(e.firestore,null,n)}}function qb(e,t){if(e=ct(e,Cr),Ub("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new v(p.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new le(e,null,function(n){return new oi(at.emptyPath(),n)}(t))}function as(e,t,...i){if(e=kt(e),arguments.length===1&&(t=Nd.newId()),Ub("doc","path",t),e instanceof Cr){let n=at.fromString(t,...i);return rE(n),new vt(e,null,new A(n))}{if(!(e instanceof vt||e instanceof Ai))throw new v(p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(at.fromString(t,...i));return rE(n),new vt(e.firestore,e instanceof Ai?e.converter:null,new A(n))}}function Lu(e,t){return e=kt(e),t=kt(t),(e instanceof vt||e instanceof Ai)&&(t instanceof vt||t instanceof Ai)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ju(e,t){return e=kt(e),t=kt(t),e instanceof le&&t instanceof le&&e.firestore===t.firestore&&fc(e._query,t._query)&&e.converter===t.converter}var eb=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new sc(this,"async_queue_retry"),this.hu=()=>{let i=Pd();i&&w("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Jo.Uo()};let t=Pd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;let i=Pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});let i=new Ht;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){return g(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(t){if(!Vn(t))throw t;w("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(t){let i=this.iu.then(()=>(this.uu=!0,t().catch(n=>{this.au=n,this.uu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(n);throw Lt("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.uu=!1,n))));return this.iu=i,i}enqueueAfterDelay(t,i,n){this.Pu(),this.lu.indexOf(t)>-1&&(i=0);let r=jg.createAndSchedule(this,t,i,n,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&k()}verifyOperationInProgress(){}du(){return g(this,null,function*(){let t;do t=this.iu,yield t;while(t!==this.iu)})}Au(t){for(let i of this._u)if(i.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(let i of this._u)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){let i=this._u.indexOf(t);this._u.splice(i,1)}};function ib(e){return function(i,n){if(typeof i!="object"||i===null)return!1;let r=i;for(let o of n)if(o in r&&typeof r[o]=="function")return!0;return!1}(e,["next","error","complete"])}var nb=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ht,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,n){this._progressObserver={next:t,error:i,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}};var LC=-1,Dt=class extends Cr{constructor(t,i,n,r){super(t,i,n,r),this.type="firestore",this._queue=function(){return new eb}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zC(this),this._firestoreClient.terminate()}};function jC(e,t){let i=typeof e=="object"?e:Es(),n=typeof e=="string"?e:t||"(default)",r=Nh(i,"firestore").getImmediate({identifier:n});if(!r._initialized){let o=zv("firestore");o&&Nu(r,...o)}return r}function Qt(e){return e._firestoreClient||zC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zC(e){var t,i,n;let r=e._freezeSettings(),o=function(a,c,l,d){return new Rp(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,NC(d.experimentalLongPollingOptions),d.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new Jg(e._authCredentials,e._appCheckCredentials,e._queue,o),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function Gb(e,t){UC(e=ct(e,Dt));let i=Qt(e);if(i._uninitializedComponentsProvider)throw new v(p.FAILED_PRECONDITION,"SDK cache is already specified.");We("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=e._freezeSettings(),r=new lc;return BC(i,r,new wu(r,n.cacheSizeBytes,t?.forceOwnership))}function Hb(e){UC(e=ct(e,Dt));let t=Qt(e);if(t._uninitializedComponentsProvider)throw new v(p.FAILED_PRECONDITION,"SDK cache is already specified.");We("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=e._freezeSettings(),n=new lc;return BC(t,n,new Qg(n,i.cacheSizeBytes))}function BC(e,t,i){let n=new Ht;return e.asyncQueue.enqueue(()=>g(this,null,function*(){try{yield Fd(e,i),yield tb(e,t),n.resolve()}catch(r){let o=r;if(!kC(o))throw o;We("Error enabling indexeddb cache. Falling back to memory cache: "+o),n.reject(o)}})).then(()=>n.promise)}function Wb(e){if(e._initialized&&!e._terminated)throw new v(p.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let t=new Ht;return e._queue.enqueueAndForgetEvenWhileRestricted(()=>g(this,null,function*(){try{yield function(n){return g(this,null,function*(){if(!An.D())return Promise.resolve();let r=n+"main";yield An.delete(r)})}(Ab(e._databaseId,e._persistenceKey)),t.resolve()}catch(i){t.reject(i)}})),t.promise}function Kb(e){return function(i){let n=new Ht;return i.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return WM(yield Bb(i),n)})),n.promise}(Qt(e=ct(e,Dt)))}function Qb(e){return sP(Qt(e=ct(e,Dt)))}function Yb(e){return aP(Qt(e=ct(e,Dt)))}function Xb(e,t){let i=Qt(e=ct(e,Dt)),n=new nb;return uP(i,e._databaseId,t,n),n}function Zb(e,t){return hP(Qt(e=ct(e,Dt)),t).then(i=>i?new le(e,null,i.query):null)}function UC(e){if(e._initialized||e._terminated)throw new v(p.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ki=class e{constructor(t){this._byteString=t}static fromBase64String(t){try{return new e(ie.fromBase64String(t))}catch(i){throw new v(p.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new e(ie.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var ai=class{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new v(p.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Yi=class{constructor(t){this._methodName=t}};var Tr=class{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new v(p.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new v(p.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return W(this._lat,t._lat)||W(this._long,t._long)}};var mP=/^__.*__$/,rb=class{constructor(t,i,n){this.data=t,this.fieldMask=i,this.fieldTransforms=n}toMutation(t,i){return this.fieldMask!==null?new si(t,this.data,this.fieldMask,i,this.fieldTransforms):new Pn(t,this.data,i,this.fieldTransforms)}},Iu=class{constructor(t,i,n){this.data=t,this.fieldMask=i,this.fieldTransforms=n}toMutation(t,i){return new si(t,this.data,this.fieldMask,i,this.fieldTransforms)}};function $C(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k()}}var Eu=class e{constructor(t,i,n,r,o,s){this.settings=t,this.databaseId=i,this.serializer=n,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:n,yu:!1});return r.wu(t),r}Su(t){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return Cu(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if($C(this.fu)&&mP.test(t))throw this.Du('Document fields cannot begin and end with "__"')}},ob=class{constructor(t,i,n){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=n||gc(t)}Fu(t,i,n,r=!1){return new Eu({fu:t,methodName:i,vu:n,path:jt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Rr(e){let t=e._freezeSettings(),i=gc(e._databaseId);return new ob(e._databaseId,!!t.ignoreUndefinedProperties,i)}function zu(e,t,i,n,r,o={}){let s=e.Fu(o.merge||o.mergeFields?2:0,t,i,r);e_("Data must be an object, but it was:",s,n);let a=HC(n,s),c,l;if(o.merge)c=new Le(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let u of o.mergeFields){let h=db(t,u,i);if(!s.contains(h))throw new v(p.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);KC(d,h)||d.push(h)}c=new Le(d),l=s.fieldTransforms.filter(u=>c.covers(u.field))}else c=null,l=s.fieldTransforms;return new rb(new pe(a),c,l)}var dc=class e extends Yi{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof e}};function qC(e,t,i){return new Eu({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var sb=class e extends Yi{_toFieldTransform(t){return new xr(t.path,new kn)}isEqual(t){return t instanceof e}},ab=class e extends Yi{constructor(t,i){super(t),this.Mu=i}_toFieldTransform(t){let i=qC(this,t,!0),n=this.Mu.map(o=>kr(o,i)),r=new Ki(n);return new xr(t.path,r)}isEqual(t){return t instanceof e&&Oh(this.Mu,t.Mu)}},cb=class e extends Yi{constructor(t,i){super(t),this.Mu=i}_toFieldTransform(t){let i=qC(this,t,!0),n=this.Mu.map(o=>kr(o,i)),r=new Qi(n);return new xr(t.path,r)}isEqual(t){return t instanceof e&&Oh(this.Mu,t.Mu)}},lb=class e extends Yi{constructor(t,i){super(t),this.xu=i}_toFieldTransform(t){let i=new Mn(t.serializer,LE(t.serializer,this.xu));return new xr(t.path,i)}isEqual(t){return t instanceof e&&this.xu===t.xu}};function Jb(e,t,i,n){let r=e.Fu(1,t,i);e_("Data must be an object, but it was:",r,n);let o=[],s=pe.empty();Dr(n,(c,l)=>{let d=i_(t,c,i);l=kt(l);let u=r.Su(d);if(l instanceof dc)o.push(d);else{let h=kr(l,u);h!=null&&(o.push(d),s.set(d,h))}});let a=new Le(o);return new Iu(s,a,r.fieldTransforms)}function t_(e,t,i,n,r,o){let s=e.Fu(1,t,i),a=[db(t,n,i)],c=[r];if(o.length%2!=0)throw new v(p.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(db(t,o[h])),c.push(o[h+1]);let l=[],d=pe.empty();for(let h=a.length-1;h>=0;--h)if(!KC(l,a[h])){let m=a[h],y=c[h];y=kt(y);let _=s.Su(m);if(y instanceof dc)l.push(m);else{let x=kr(y,_);x!=null&&(l.push(m),d.set(m,x))}}let u=new Le(l);return new Iu(d,u,s.fieldTransforms)}function GC(e,t,i,n=!1){return kr(i,e.Fu(n?4:3,t))}function kr(e,t){if(WC(e=kt(e)))return e_("Unsupported field value:",t,e),HC(e,t);if(e instanceof Yi)return function(n,r){if(!$C(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);let o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(n,r){let o=[],s=0;for(let a of n){let c=kr(a,r.bu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=kt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return LE(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let o=Pt.fromDate(n);return{timestampValue:qo(r.serializer,o)}}if(n instanceof Pt){let o=new Pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qo(r.serializer,o)}}if(n instanceof Tr)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ki)return{bytesValue:KE(r.serializer,n._byteString)};if(n instanceof vt){let o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Eb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${Ou(n)}`)}(e,t)}function HC(e,t){let i={};return yE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dr(e,(n,r)=>{let o=kr(r,t.pu(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function WC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Pt||e instanceof Tr||e instanceof ki||e instanceof vt||e instanceof Yi)}function e_(e,t,i){if(!WC(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let n=Ou(i);throw n==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+n)}}function db(e,t,i){if((t=kt(t))instanceof ai)return t._internalPath;if(typeof t=="string")return i_(e,t);throw Cu("Field path arguments must be of type string or ",e,!1,void 0,i)}var fP=new RegExp("[~\\*/\\[\\]]");function i_(e,t,i){if(t.search(fP)>=0)throw Cu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new ai(...t.split("."))._internalPath}catch{throw Cu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function Cu(e,t,i,n,r){let o=n&&!n.isEmpty(),s=r!==void 0,a=`Function ${t}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${r}`),c+=")"),new v(p.INVALID_ARGUMENT,a+e+c)}function KC(e,t){return e.some(i=>i.isEqual(t))}var Ar=class{constructor(t,i,n,r,o){this._firestore=t,this._userDataWriter=i,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new ub(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let i=this._document.data.field(Bu("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}},ub=class extends Ar{data(){return super.data()}};function Bu(e,t){return typeof t=="string"?i_(e,t):t instanceof ai?t._internalPath:t._delegate._internalPath}function QC(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new v(p.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uc=class{},Sr=class extends uc{};function Mi(e,t,...i){let n=[];t instanceof uc&&n.push(t),n=n.concat(i),function(o){let s=o.filter(c=>c instanceof hb).length,a=o.filter(c=>c instanceof Tu).length;if(s>1||s>0&&a>0)throw new v(p.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(let r of n)e=r._apply(e);return e}var Tu=class e extends Sr{constructor(t,i,n){super(),this._field=t,this._op=i,this._value=n,this.type="where"}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=this._parse(t);return XC(t._query,i),new le(t.firestore,t.converter,$p(t._query,i))}_parse(t){let i=Rr(t.firestore);return function(o,s,a,c,l,d,u){let h;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new v(p.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){aE(u,d);let m=[];for(let y of u)m.push(sE(c,o,y));h={arrayValue:{values:m}}}else h=sE(c,o,u)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||aE(u,d),h=GC(a,s,u,d==="in"||d==="not-in");return ot.create(l,d,h)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}};function n_(e,t,i){let n=t,r=Bu("where",e);return Tu._create(r,n,i)}var hb=class e extends uc{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new e(t,i)}_parse(t){let i=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return i.length===1?i[0]:ft.create(i,this._getOperator())}_apply(t){let i=this._parse(t);return i.getFilters().length===0?t:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)XC(s,c),s=$p(s,c)}(t._query,i),new le(t.firestore,t.converter,$p(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var mb=class e extends Sr{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new e(t,i)}_apply(t){let i=function(r,o,s){if(r.startAt!==null)throw new v(p.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new v(p.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yr(o,s)}(t._query,this._field,this._direction);return new le(t.firestore,t.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new oi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}};function r_(e,t="asc"){let i=t,n=Bu("orderBy",e);return mb._create(n,i)}var Au=class e extends Sr{constructor(t,i,n){super(),this.type=t,this._limit=i,this._limitType=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){return new le(t.firestore,t.converter,Hd(t._query,this._limit,this._limitType))}};function o_(e){return VC("limit",e),Au._create("limit",e,"F")}function s_(e){return VC("limitToLast",e),Au._create("limitToLast",e,"L")}var Su=class e extends Sr{constructor(t,i,n){super(),this.type=t,this._docOrFields=i,this._inclusive=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=YC(t,this.type,this._docOrFields,this._inclusive);return new le(t.firestore,t.converter,function(r,o){return new oi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(t._query,i))}};function a_(...e){return Su._create("startAt",e,!0)}function c_(...e){return Su._create("startAfter",e,!1)}var Du=class e extends Sr{constructor(t,i,n){super(),this.type=t,this._docOrFields=i,this._inclusive=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=YC(t,this.type,this._docOrFields,this._inclusive);return new le(t.firestore,t.converter,function(r,o){return new oi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(t._query,i))}};function l_(...e){return Du._create("endBefore",e,!1)}function d_(...e){return Du._create("endAt",e,!0)}function YC(e,t,i,n){if(i[0]=kt(i[0]),i[0]instanceof Ar)return function(o,s,a,c,l){if(!c)throw new v(p.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let u of No(o))if(u.field.isKeyField())d.push(vr(s,c.key));else{let h=c.data.field(u.field);if(ku(h))throw new v(p.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){let m=u.field.canonicalString();throw new v(p.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(h)}return new Di(d,l)}(e._query,e.firestore._databaseId,t,i[0]._document,n);{let r=Rr(e.firestore);return function(s,a,c,l,d,u){let h=s.explicitOrderBy;if(d.length>h.length)throw new v(p.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let m=[];for(let y=0;y<d.length;y++){let _=d[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new v(p.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof _}`);if(!xb(s)&&_.indexOf("/")!==-1)throw new v(p.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${_}' contains a slash.`);let x=s.path.child(at.fromString(_));if(!A.isDocumentKey(x))throw new v(p.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);let V=new A(x);m.push(vr(a,V))}else{let x=GC(c,l,_);m.push(x)}}return new Di(m,u)}(e._query,e.firestore._databaseId,r,t,i,n)}}function sE(e,t,i){if(typeof(i=kt(i))=="string"){if(i==="")throw new v(p.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xb(t)&&i.indexOf("/")!==-1)throw new v(p.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let n=t.path.child(at.fromString(i));if(!A.isDocumentKey(n))throw new v(p.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return vr(e,new A(n))}if(i instanceof vt)return vr(e,i._key);throw new v(p.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ou(i)}.`)}function aE(e,t){if(!Array.isArray(e)||e.length===0)throw new v(p.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function XC(e,t){let i=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new v(p.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new v(p.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}var ts=class{convertValue(t,i="none"){switch(_r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ot(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Sn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw k()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){let n={};return Dr(t,(r,o)=>{n[r]=this.convertValue(o,i)}),n}convertGeoPoint(t){return new Tr(Ot(t.latitude),Ot(t.longitude))}convertArray(t,i){return(t.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(t,i){switch(i){case"previous":let n=yb(t);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(Wa(t));default:return null}}convertTimestamp(t){let i=Wi(t);return new Pt(i.seconds,i.nanos)}convertDocumentKey(t,i){let n=at.fromString(t);L(oC(n));let r=new Dn(n.get(1),n.get(3)),o=new A(n.popFirst(5));return r.isEqual(i)||Lt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}};function Uu(e,t,i){let n;return n=e?i&&(i.merge||i.mergeFields)?e.toFirestore(t,i):e.toFirestore(t):t,n}var fb=class extends ts{constructor(t){super(),this.firestore=t}convertBytes(t){return new ki(t)}convertReference(t){let i=this.convertDocumentKey(t,this.firestore._databaseId);return new vt(this.firestore,null,i)}};var Hi=class{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Qe=class extends Ar{constructor(t,i,n,r,o,s){super(t,i,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let i=new Cn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){let n=this._document.data.field(Bu("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}},Cn=class extends Qe{data(t={}){return super.data(t)}},ci=class{constructor(t,i,n,r){this._firestore=t,this._userDataWriter=i,this._snapshot=r,this.metadata=new Hi(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(n=>{t.call(i,new Cn(this._firestore,this._userDataWriter,n.key,n,new Hi(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new v(p.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new Cn(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Hi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Cn(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Hi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:pP(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function pP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k()}}function $u(e,t){return e instanceof Qe&&t instanceof Qe?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ci&&t instanceof ci&&e._firestore===t._firestore&&ju(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function u_(e){e=ct(e,vt);let t=ct(e.firestore,Dt);return FC(Qt(t),e._key).then(i=>y_(t,e,i))}var Xi=class extends ts{constructor(t){super(),this.firestore=t}convertBytes(t){return new ki(t)}convertReference(t){let i=this.convertDocumentKey(t,this.firestore._databaseId);return new vt(this.firestore,null,i)}};function h_(e){e=ct(e,vt);let t=ct(e.firestore,Dt),i=Qt(t),n=new Xi(t);return cP(i,e._key).then(r=>new Qe(t,n,e._key,r,new Hi(r!==null&&r.hasLocalMutations,!0),e.converter))}function m_(e){e=ct(e,vt);let t=ct(e.firestore,Dt);return FC(Qt(t),e._key,{source:"server"}).then(i=>y_(t,e,i))}function f_(e){e=ct(e,le);let t=ct(e.firestore,Dt),i=Qt(t),n=new Xi(t);return QC(e._query),OC(i,e._query).then(r=>new ci(t,n,e,r))}function p_(e){e=ct(e,le);let t=ct(e.firestore,Dt),i=Qt(t),n=new Xi(t);return lP(i,e._query).then(r=>new ci(t,n,e,r))}function g_(e){e=ct(e,le);let t=ct(e.firestore,Dt),i=Qt(t),n=new Xi(t);return OC(i,e._query,{source:"server"}).then(r=>new ci(t,n,e,r))}function qu(e,t,i){e=ct(e,vt);let n=ct(e.firestore,Dt),r=Uu(e.converter,t,i);return cs(n,[zu(Rr(n),"setDoc",e._key,r,e.converter!==null,i).toMutation(e._key,Nt.none())])}function Gu(e,t,i,...n){e=ct(e,vt);let r=ct(e.firestore,Dt),o=Rr(r),s;return s=typeof(t=kt(t))=="string"||t instanceof ai?t_(o,"updateDoc",e._key,t,i,n):Jb(o,"updateDoc",e._key,t),cs(r,[s.toMutation(e._key,Nt.exists(!0))])}function b_(e){return cs(ct(e.firestore,Dt),[new Fn(e._key,Nt.none())])}function __(e,t){let i=ct(e.firestore,Dt),n=as(e),r=Uu(e.converter,t);return cs(i,[zu(Rr(e.firestore),"addDoc",n._key,r,e.converter!==null,{}).toMutation(n._key,Nt.exists(!1))]).then(()=>n)}function Hu(e,...t){var i,n,r;e=kt(e);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||ib(t[s])||(o=t[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ib(t[s])){let u=t[s];t[s]=(i=u.next)===null||i===void 0?void 0:i.bind(u),t[s+1]=(n=u.error)===null||n===void 0?void 0:n.bind(u),t[s+2]=(r=u.complete)===null||r===void 0?void 0:r.bind(u)}let c,l,d;if(e instanceof vt)l=ct(e.firestore,Dt),d=is(e._key.path),c={next:u=>{t[s]&&t[s](y_(l,e,u))},error:t[s+1],complete:t[s+2]};else{let u=ct(e,le);l=ct(u.firestore,Dt),d=u._query;let h=new Xi(l);c={next:m=>{t[s]&&t[s](new ci(l,h,u,m))},error:t[s+1],complete:t[s+2]},QC(e._query)}return function(h,m,y,_){let x=new Zo(_),V=new ac(m,x,y);return h.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return kb(yield Jo(h),V)})),()=>{x.$a(),h.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return Mb(yield Jo(h),V)}))}}(Qt(l),d,a,c)}function v_(e,t){return dP(Qt(e=ct(e,Dt)),ib(t)?t:{next:t})}function cs(e,t){return function(n,r){let o=new Ht;return n.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){return $M(yield Bb(n),r,o)})),o.promise}(Qt(e),t)}function y_(e,t,i){let n=i.docs.get(t._key),r=new Xi(e);return new Qe(e,r,t._key,n,new Hi(i.hasPendingWrites,i.fromCache),t.converter)}var gP={maxAttempts:5};var Ru=class{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Rr(t)}set(t,i,n){this._verifyNotCommitted();let r=In(t,this._firestore),o=Uu(r.converter,i,n),s=zu(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,n);return this._mutations.push(s.toMutation(r._key,Nt.none())),this}update(t,i,n,...r){this._verifyNotCommitted();let o=In(t,this._firestore),s;return s=typeof(i=kt(i))=="string"||i instanceof ai?t_(this._dataReader,"WriteBatch.update",o._key,i,n,r):Jb(this._dataReader,"WriteBatch.update",o._key,i),this._mutations.push(s.toMutation(o._key,Nt.exists(!0))),this}delete(t){this._verifyNotCommitted();let i=In(t,this._firestore);return this._mutations=this._mutations.concat(new Fn(i._key,Nt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new v(p.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function In(e,t){if((e=kt(e)).firestore!==t)throw new v(p.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var pb=class extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=Rr(i)}get(i){let n=In(i,this._firestore),r=new fb(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||o.length!==1)return k();let s=o[0];if(s.isFoundDocument())return new Ar(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Ar(this._firestore,r,n._key,null,n.converter);throw k()})}set(i,n,r){let o=In(i,this._firestore),s=Uu(o.converter,n,r),a=zu(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(i,n,r,...o){let s=In(i,this._firestore),a;return a=typeof(n=kt(n))=="string"||n instanceof ai?t_(this._dataReader,"Transaction.update",s._key,n,r,o):Jb(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(i){let n=In(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){let i=In(t,this._firestore),n=new Xi(this._firestore);return super.get(t).then(r=>new Qe(this._firestore,n,i._key,r._document,new Hi(!1,!1),i.converter))}};function w_(e,t,i){e=ct(e,Dt);let n=Object.assign(Object.assign({},gP),i);return function(o){if(o.maxAttempts<1)throw new v(p.INVALID_ARGUMENT,"Max attempts must be at least 1")}(n),function(o,s,a){let c=new Ht;return o.asyncQueue.enqueueAndForget(()=>g(this,null,function*(){let l=yield oP(o);new Zg(o.asyncQueue,l,a,s,c).Xa()})),c.promise}(Qt(e),r=>t(new pb(e,r)),n)}function x_(){return new dc("deleteField")}function I_(){return new sb("serverTimestamp")}function E_(...e){return new ab("arrayUnion",e)}function C_(...e){return new cb("arrayRemove",e)}function T_(e){return new lb("increment",e)}(function(t,i=!0){(function(r){es=r})(qv),Is(new Kn("firestore",(n,{instanceIdentifier:r,options:o})=>{let s=n.getProvider("app").getImmediate(),a=new Dt(new yp(n.getProvider("auth-internal")),new Ep(n.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new v(p.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dn(l.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:i},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ue(cI,"4.6.1",t),ue(cI,"4.6.1","esm2017")})();var bP="@firebase/firestore-compat",_P="0.3.30";function M_(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new v("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function ZC(){if(typeof Uint8Array>"u")throw new v("unimplemented","Uint8Arrays are not available in this environment.")}function JC(){if(!wE())throw new v("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Wu=class e{constructor(t){this._delegate=t}static fromBase64String(t){return JC(),new e(ki.fromBase64String(t))}static fromUint8Array(t){return ZC(),new e(ki.fromUint8Array(t))}toBase64(){return JC(),this._delegate.toBase64()}toUint8Array(){return ZC(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function A_(e){return vP(e,["next","error","complete"])}function vP(e,t){if(typeof e!="object"||e===null)return!1;let i=e;for(let n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}var S_=class{enableIndexedDbPersistence(t,i){return Gb(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return Hb(t._delegate)}clearIndexedDbPersistence(t){return Wb(t._delegate)}},Ku=class{constructor(t,i,n){this._delegate=i,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Dn||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){let i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&We("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&(t=Object.assign(Object.assign({},i),t),delete t.merge),this._delegate._setSettings(t)}useEmulator(t,i,n={}){Nu(this._delegate,t,i,n)}enableNetwork(){return Qb(this._delegate)}disableNetwork(){return Yb(this._delegate)}enablePersistence(t){let i=!1,n=!1;return t&&(i=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,$b("synchronizeTabs",i,"experimentalForceOwningTab",n)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Kb(this._delegate)}onSnapshotsInSync(t){return v_(this._delegate,t)}get app(){if(!this._appCompat)throw new v("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new us(this,Vu(this._delegate,t))}catch(i){throw Ie(i,"collection()","Firestore.collection()")}}doc(t){try{return new Pi(this,as(this._delegate,t))}catch(i){throw Ie(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Or(this,qb(this._delegate,t))}catch(i){throw Ie(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return w_(this._delegate,i=>t(new Qu(this,i)))}batch(){return Qt(this._delegate),new Yu(new Ru(this._delegate,t=>cs(this._delegate,t)))}loadBundle(t){return Xb(this._delegate,t)}namedQuery(t){return Zb(this._delegate,t).then(i=>i?new Or(this,i):null)}},ls=class extends ts{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wu(new ki(t))}convertReference(t){let i=this.convertDocumentKey(t,this.firestore._databaseId);return Pi.forKey(i,this.firestore,null)}};function yP(e){gb(e)}var Qu=class{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new ls(t)}get(t){let i=Mr(t);return this._delegate.get(i).then(n=>new Pr(this._firestore,new Qe(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,i.converter)))}set(t,i,n){let r=Mr(t);return n?(M_("Transaction.set",n),this._delegate.set(r,i,n)):this._delegate.set(r,i),this}update(t,i,n,...r){let o=Mr(t);return arguments.length===2?this._delegate.update(o,i):this._delegate.update(o,i,n,...r),this}delete(t){let i=Mr(t);return this._delegate.delete(i),this}},Yu=class{constructor(t){this._delegate=t}set(t,i,n){let r=Mr(t);return n?(M_("WriteBatch.set",n),this._delegate.set(r,i,n)):this._delegate.set(r,i),this}update(t,i,n,...r){let o=Mr(t);return arguments.length===2?this._delegate.update(o,i):this._delegate.update(o,i,n,...r),this}delete(t){let i=Mr(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}},ds=class e{constructor(t,i,n){this._firestore=t,this._userDataWriter=i,this._delegate=n}fromFirestore(t,i){let n=new Cn(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Fr(this._firestore,n),i??{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){let n=e.INSTANCES,r=n.get(t);r||(r=new WeakMap,n.set(t,r));let o=r.get(i);return o||(o=new e(t,new ls(t),i),r.set(i,o)),o}};ds.INSTANCES=new WeakMap;var Pi=class e{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new ls(t)}static forPath(t,i,n){if(t.length%2!==0)throw new v("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new e(i,new vt(i._delegate,n,new A(t)))}static forKey(t,i,n){return new e(i,new vt(i._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new us(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new us(this.firestore,Vu(this._delegate,t))}catch(i){throw Ie(i,"collection()","DocumentReference.collection()")}}isEqual(t){return t=kt(t),t instanceof vt?Lu(this._delegate,t):!1}set(t,i){i=M_("DocumentReference.set",i);try{return i?qu(this._delegate,t,i):qu(this._delegate,t)}catch(n){throw Ie(n,"setDoc()","DocumentReference.set()")}}update(t,i,...n){try{return arguments.length===1?Gu(this._delegate,t):Gu(this._delegate,t,i,...n)}catch(r){throw Ie(r,"updateDoc()","DocumentReference.update()")}}delete(){return b_(this._delegate)}onSnapshot(...t){let i=tT(t),n=eT(t,r=>new Pr(this.firestore,new Qe(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Hu(this._delegate,i,n)}get(t){let i;return t?.source==="cache"?i=h_(this._delegate):t?.source==="server"?i=m_(this._delegate):i=u_(this._delegate),i.then(n=>new Pr(this.firestore,new Qe(this.firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,this._delegate.converter)))}withConverter(t){return new e(this.firestore,t?this._delegate.withConverter(ds.getInstance(this.firestore,t)):this._delegate.withConverter(null))}};function Ie(e,t,i){return e.message=e.message.replace(t,i),e}function tT(e){for(let t of e)if(typeof t=="object"&&!A_(t))return t;return{}}function eT(e,t){var i,n;let r;return A_(e[0])?r=e[0]:A_(e[1])?r=e[1]:typeof e[0]=="function"?r={next:e[0],error:e[1],complete:e[2]}:r={next:e[1],error:e[2],complete:e[3]},{next:o=>{r.next&&r.next(t(o))},error:(i=r.error)===null||i===void 0?void 0:i.bind(r),complete:(n=r.complete)===null||n===void 0?void 0:n.bind(r)}}var Pr=class{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new Pi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return $u(this._delegate,t._delegate)}},Fr=class extends Pr{data(t){let i=this._delegate.data(t);return this._delegate._converter||cE(i!==void 0,"Document in a QueryDocumentSnapshot should exist"),i}},Or=class e{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new ls(t)}where(t,i,n){try{return new e(this.firestore,Mi(this._delegate,n_(t,i,n)))}catch(r){throw Ie(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new e(this.firestore,Mi(this._delegate,r_(t,i)))}catch(n){throw Ie(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new e(this.firestore,Mi(this._delegate,o_(t)))}catch(i){throw Ie(i,"limit()","Query.limit()")}}limitToLast(t){try{return new e(this.firestore,Mi(this._delegate,s_(t)))}catch(i){throw Ie(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new e(this.firestore,Mi(this._delegate,a_(...t)))}catch(i){throw Ie(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new e(this.firestore,Mi(this._delegate,c_(...t)))}catch(i){throw Ie(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new e(this.firestore,Mi(this._delegate,l_(...t)))}catch(i){throw Ie(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new e(this.firestore,Mi(this._delegate,d_(...t)))}catch(i){throw Ie(i,"endAt()","Query.endAt()")}}isEqual(t){return ju(this._delegate,t._delegate)}get(t){let i;return t?.source==="cache"?i=p_(this._delegate):t?.source==="server"?i=g_(this._delegate):i=f_(this._delegate),i.then(n=>new _c(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,this._delegate,n._snapshot)))}onSnapshot(...t){let i=tT(t),n=eT(t,r=>new _c(this.firestore,new ci(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Hu(this._delegate,i,n)}withConverter(t){return new e(this.firestore,t?this._delegate.withConverter(ds.getInstance(this.firestore,t)):this._delegate.withConverter(null))}},D_=class{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Fr(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},_c=class{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new Or(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Fr(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new D_(this._firestore,i))}forEach(t,i){this._delegate.forEach(n=>{t.call(i,new Fr(this._firestore,n))})}isEqual(t){return $u(this._delegate,t._delegate)}},us=class e extends Or{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let t=this._delegate.parent;return t?new Pi(this.firestore,t):null}doc(t){try{return t===void 0?new Pi(this.firestore,as(this._delegate)):new Pi(this.firestore,as(this._delegate,t))}catch(i){throw Ie(i,"doc()","CollectionReference.doc()")}}add(t){return __(this._delegate,t).then(i=>new Pi(this.firestore,i))}isEqual(t){return Lu(this._delegate,t._delegate)}withConverter(t){return new e(this.firestore,t?this._delegate.withConverter(ds.getInstance(this.firestore,t)):this._delegate.withConverter(null))}};function Mr(e){return ct(e,vt)}var R_=class e{constructor(...t){this._delegate=new ai(...t)}static documentId(){return new e(jt.keyField().canonicalString())}isEqual(t){return t=kt(t),t instanceof ai?this._delegate._internalPath.isEqual(t._internalPath):!1}};var k_=class e{constructor(t){this._delegate=t}static serverTimestamp(){let t=I_();return t._methodName="FieldValue.serverTimestamp",new e(t)}static delete(){let t=x_();return t._methodName="FieldValue.delete",new e(t)}static arrayUnion(...t){let i=E_(...t);return i._methodName="FieldValue.arrayUnion",new e(i)}static arrayRemove(...t){let i=C_(...t);return i._methodName="FieldValue.arrayRemove",new e(i)}static increment(t){let i=T_(t);return i._methodName="FieldValue.increment",new e(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}};var wP={Firestore:Ku,GeoPoint:Tr,Timestamp:Pt,Blob:Wu,Transaction:Qu,WriteBatch:Yu,DocumentReference:Pi,DocumentSnapshot:Pr,Query:Or,QueryDocumentSnapshot:Fr,QuerySnapshot:_c,CollectionReference:us,FieldPath:R_,FieldValue:k_,setLogLevel:yP,CACHE_SIZE_UNLIMITED:LC};function xP(e,t){e.INTERNAL.registerComponent(new Kn("firestore-compat",i=>{let n=i.getProvider("app-compat").getImmediate(),r=i.getProvider("firestore").getImmediate();return t(n,r)},"PUBLIC").setServiceProps(Object.assign({},wP)))}function IP(e){xP(e,(t,i)=>new Ku(t,i,new S_)),e.registerVersion(bP,_P)}IP(Ze);function EP(e,t=Ic){return new De(i=>{let n;return t!=null?t.schedule(()=>{n=e.onSnapshot({includeMetadataChanges:!0},i)}):n=e.onSnapshot({includeMetadataChanges:!0},i),()=>{n?.()}})}function iT(e,t){return EP(e,t)}function CP(e,t){return iT(e,t).pipe(Oi(void 0),ps(),j(i=>{let[n,r]=i;return r.exists?n?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function O_(e,t){return iT(e,t).pipe(j(i=>({payload:i,type:"query"})))}var Xu=class{ref;afs;constructor(t,i){this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){let n=this.ref.collection(t),{ref:r,query:o}=aT(n,i);return new Ju(r,o,this.afs)}snapshotChanges(){return CP(this.ref,this.afs.schedulers.outsideAngular).pipe(ve)}valueChanges(t={}){return this.snapshotChanges().pipe(j(({payload:i})=>t.idField?ht(C({},i.data()),{[t.idField]:i.id}):i.data()))}get(t){return wt(this.ref.get(t)).pipe(ve)}};function Zu(e,t){return O_(e,t).pipe(Oi(void 0),ps(),j(i=>{let[n,r]=i,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{let l=o.find(u=>u.doc.ref.isEqual(a.ref)),d=n?.payload.docs.find(u=>u.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function nT(e,t,i){return Zu(e,i).pipe(Lr((n,r)=>TP(n,r.map(o=>o.payload),t),[]),fs(),j(n=>n.map(r=>({type:r.type,payload:r}))))}function TP(e,t,i){return t.forEach(n=>{i.indexOf(n.type)>-1&&(e=AP(e,n))}),e}function P_(e,t,i,...n){let r=e.slice();return r.splice(t,i,...n),r}function AP(e,t){switch(t.type){case"added":if(!(e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)))return P_(e,t.newIndex,0,t);break;case"modified":if(e[t.oldIndex]==null||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))if(t.oldIndex!==t.newIndex){let i=e.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}else return P_(e,t.newIndex,1,t);break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return P_(e,t.oldIndex,1);break}return e}function rT(e){return(!e||e.length===0)&&(e=["added","removed","modified"]),e}var Ju=class{ref;query;afs;constructor(t,i,n){this.ref=t,this.query=i,this.afs=n}stateChanges(t){let i=Zu(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe(j(n=>n.filter(r=>t.indexOf(r.type)>-1)))),i.pipe(Oi(void 0),ps(),Kt(([n,r])=>r.length>0||!n),j(([,n])=>n),ve)}auditTrail(t){return this.stateChanges(t).pipe(Lr((i,n)=>[...i,...n],[]))}snapshotChanges(t){let i=rT(t);return nT(this.query,i,this.afs.schedulers.outsideAngular).pipe(ve)}valueChanges(t={}){return O_(this.query,this.afs.schedulers.outsideAngular).pipe(j(i=>i.payload.docs.map(n=>t.idField?ht(C({},n.data()),{[t.idField]:n.id}):n.data())),ve)}get(t){return wt(this.query.get(t)).pipe(ve)}add(t){return this.ref.add(t)}doc(t){return new Xu(this.ref.doc(t),this.afs)}},F_=class{query;afs;constructor(t,i){this.query=t,this.afs=i}stateChanges(t){return!t||t.length===0?Zu(this.query,this.afs.schedulers.outsideAngular).pipe(ve):Zu(this.query,this.afs.schedulers.outsideAngular).pipe(j(i=>i.filter(n=>t.indexOf(n.type)>-1)),Kt(i=>i.length>0),ve)}auditTrail(t){return this.stateChanges(t).pipe(Lr((i,n)=>[...i,...n],[]))}snapshotChanges(t){let i=rT(t);return nT(this.query,i,this.afs.schedulers.outsideAngular).pipe(ve)}valueChanges(t={}){return O_(this.query,this.afs.schedulers.outsideAngular).pipe(j(n=>n.payload.docs.map(r=>t.idField?C({[t.idField]:r.id},r.data()):r.data())),ve)}get(t){return wt(this.query.get(t)).pipe(ve)}},oT=new N("angularfire2.enableFirestorePersistence"),sT=new N("angularfire2.firestore.persistenceSettings"),SP=new N("angularfire2.firestore.settings"),DP=new N("angularfire2.firestore.use-emulator");function aT(e,t=i=>i){return{query:t(e),ref:e}}var RP=(()=>{class e{schedulers;firestore;persistenceEnabled$;constructor(i,n,r,o,s,a,c,l,d,u,h,m,y,_,x,V,q){this.schedulers=c;let O=Kl(i,a,n),X=d;u&&If(O,a,h,y,_,x,m,V),[this.firestore,this.persistenceEnabled$]=Ql(`${O.name}.firestore`,"AngularFirestore",O.name,()=>{let et=a.runOutsideAngular(()=>O.firestore());if(o&&et.settings(o),X&&et.useEmulator(...X),r&&!Wn(s)){let lt=()=>{try{return wt(et.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(Bt){return typeof console<"u"&&console.warn(Bt),M(!1)}};return[et,a.runOutsideAngular(lt)]}else return[et,M(!1)]},[o,X,r])}collection(i,n){let r;typeof i=="string"?r=this.firestore.collection(i):r=i;let{ref:o,query:s}=aT(r,n),a=this.schedulers.ngZone.run(()=>o);return new Ju(a,s,this)}collectionGroup(i,n){let r=n||(s=>s),o=this.firestore.collectionGroup(i);return new F_(r(o),this)}doc(i){let n;typeof i=="string"?n=this.firestore.doc(i):n=i;let r=this.schedulers.ngZone.run(()=>n);return new Xu(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(n){return new(n||e)(b(Hl),b(Wl,8),b(oT,8),b(SP,8),b(Te),b($),b(vi),b(sT,8),b(DP,8),b(jw,8),b(bf,8),b(_f,8),b(vf,8),b(yf,8),b(wf,8),b(xf,8),b(ei,8))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),cT=(()=>{class e{constructor(){Ze.registerVersion("angularfire",_i.full,"fst-compat")}static enablePersistence(i){return{ngModule:e,providers:[{provide:oT,useValue:!0},{provide:sT,useValue:i}]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=U({type:e});static \u0275inj=B({providers:[RP]})}return e})();function kP(e,t){e&1&&(I(0,"div",9),F(1,"El nombre es requerido"),E())}function MP(e,t){if(e&1&&(I(0,"div"),se(1,kP,2,0,"div",8),E()),e&2){let i,n=Xt();it(),_t("ngIf",(i=n.miFormulario.get("nombre"))==null?null:i.errors)}}function PP(e,t){e&1&&(I(0,"div",9),F(1,"El email es requerido. El email no es v\xE1lido."),E())}function FP(e,t){if(e&1&&(I(0,"div"),se(1,PP,2,0,"div",8),E()),e&2){let i,n=Xt();it(),_t("ngIf",(i=n.miFormulario.get("email"))==null?null:i.errors)}}var lT=(()=>{let t=class t{constructor(n){this.formBuilder=n,this.miFormulario=this.formBuilder.group({nombre:["",gn.required],email:["",[gn.required,gn.email]],password:["",gn.required],confirmarPassword:["",[gn.required,this.confirmPasswordValidator]]})}onSubmit(){console.warn(this.miFormulario.value)}confirmPasswordValidator(n){return r=>{let o=this.miFormulario.get("password")?.value;return console.log(o),o!==r.value?{confirmPasswordError:!0}:null}}};t.\u0275fac=function(r){return new(r||t)(T(J0))},t.\u0275cmp=Z({type:t,selectors:[["app-registro"]],standalone:!0,features:[J],decls:23,vars:4,consts:[[1,"container"],[1,"form",3,"ngSubmit","formGroup"],["placeholder","Nombre","type","text","formControlName","nombre","required","",1,"inputclass"],[4,"ngIf"],["placeholder","Ingrese email","type","text","formControlName","email","required","",1,"inputclass"],["type","password","placeholder","Ingresa tu contrase\xF1a","formControlName","password","required","",1,"inputclass"],["matInput","","type","password","placeholder","Ingresa nuevamente tu contrase\xF1a","formControlName","confirmarPassword","required","",1,"inputclass"],["type","submit",1,"btnregistro",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(r,o){if(r&1&&(I(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),F(3," Registro"),E()(),I(4,"mat-card-content")(5,"div",0)(6,"form",1),xt("ngSubmit",function(){return o.onSubmit()}),I(7,"label"),F(8,"Nombre:"),E(),nt(9,"input",2),se(10,MP,2,1,"div",3),I(11,"label"),F(12,"Email: "),E(),nt(13,"input",4),se(14,FP,2,1,"div",3),I(15,"label"),F(16,"Contrase\xF1a:"),E(),nt(17,"input",5),I(18,"label"),F(19,"Confirme contrase\xF1a:"),E(),nt(20,"input",6),I(21,"button",7),F(22,"Registrar"),E()()()()()),r&2){let s,a;it(6),_t("formGroup",o.miFormulario),it(4),_t("ngIf",((s=o.miFormulario.get("nombre"))==null?null:s.invalid)&&((s=o.miFormulario.get("nombre"))==null?null:s.touched)),it(4),_t("ngIf",((a=o.miFormulario.get("email"))==null?null:a.invalid)&&((a=o.miFormulario.get("email"))==null?null:a.touched)),it(7),_t("disabled",!o.miFormulario.valid)}},dependencies:[_e,Kr,qe,fn,bi,uo,gi,Il,go,Vl,po,Pl,Fl,af,tw,of,sf,cT],styles:['mat-card-header[_ngcontent-%COMP%]{background-color:#112e57;color:#fff;display:flex;align-items:center;justify-content:center;height:10vh;box-shadow:5px 5px 10px #0000004d}mat-card-title[_ngcontent-%COMP%]{letter-spacing:1.5vw;font-family:"system-ui";text-transform:uppercase;text-align:center}mat-card-content[_ngcontent-%COMP%]{background-image:url(/assets/Imagenes/login-fondo.png);height:120vh}label[_ngcontent-%COMP%]{color:#0e155c}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.form[_ngcontent-%COMP%]{width:500px;padding:40px;border-radius:8px;background-color:#fff;font-family:"system-ui";box-shadow:5px 5px 10px #0000004d;margin-top:20px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.inputclass[_ngcontent-%COMP%]{width:100%;border-radius:6px;border-style:solid;border-width:1px;padding:5px 0;text-indent:6px;margin-top:10px;margin-bottom:20px;font-family:"system-ui";font-size:.9rem;letter-spacing:2px}.btnregistro[_ngcontent-%COMP%]{border-style:none;border-radius:5px;background-color:#6b69cf;color:#fff;padding:8px 20px;font-family:"system-ui";text-transform:uppercase;letter-spacing:.8px;display:block;margin:10px auto auto;box-shadow:2px 2px 5px #0003;cursor:pointer;width:40%}.btnregistro[_ngcontent-%COMP%]:hover{background-color:#d2691e}.btnregistro[_ngcontent-%COMP%]:disabled{background-color:#6e6a74}.error[_ngcontent-%COMP%]{color:red;font-size:14px}']});let e=t;return e})();var dT=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:x0},{path:"login",component:iw},{path:"about",component:gw},{path:"home/ahorcado",component:vw},{path:"registro",component:lT},{path:"home/mayoromenor",component:yw},{path:"home/preguntados",component:ww},{path:"**",component:bw}];var OP="@",NP=(()=>{let t=class t{constructor(n,r,o,s,a){this.doc=n,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=R(yv,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-PNADOTOV.js")).catch(r=>{throw new gt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let o=this.delegate.createRenderer(n,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new N_(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let c=a.createRenderer(n,r);s.use(c)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){qn()},t.\u0275prov=P({token:t,factory:t.\u0275fac});let e=t;return e})(),N_=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,n,r){this.delegate.insertBefore(t,i,n,r)}removeChild(t,i,n){this.delegate.removeChild(t,i,n)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,r){this.delegate.setAttribute(t,i,n,r)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,r){this.delegate.setStyle(t,i,n,r)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,n)),this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(t,i,n)),this.delegate.listen(t,i,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(OP)}};function uT(e="animations"){return wv("NgAsyncAnimations"),bs([{provide:Mc,useFactory:(t,i,n)=>new NP(t,i,n,e),deps:[Q,Hc,$]},{provide:Be,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var hT="auth",vc=class{constructor(t){return t}},yc=class{constructor(){return ca(hT)}};var V_=new N("angularfire2.auth-instances");function NF(e,t){let i=$l(hT,e,t);return i&&new vc(i)}function VF(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new vc(n)}}var LF={provide:yc,deps:[[new re,V_]]},jF={provide:vc,useFactory:NF,deps:[[new re,V_],Ui]},zF=(()=>{class e{constructor(){ue("angularfire",_i.full,"auth")}static \u0275fac=function(n){return new(n||e)};static \u0275mod=U({type:e});static \u0275inj=B({providers:[jF,LF]})}return e})();function mT(e,...t){return{ngModule:zF,providers:[{provide:V_,useFactory:VF(e),multi:!0,deps:[$,ge,vi,rr,[new re,ei],...t]}]}}var fT=_o(Vh,!0);var wc=class{constructor(t){return t}},pT="firestore",L_=class{constructor(){return ca(pT)}};var j_=new N("angularfire2.firestore-instances");function BF(e,t){let i=$l(pT,e,t);return i&&new wc(i)}function UF(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new wc(n)}}var $F={provide:L_,deps:[[new re,j_]]},qF={provide:wc,useFactory:BF,deps:[[new re,j_],Ui]},GF=(()=>{class e{constructor(){ue("angularfire",_i.full,"fst")}static \u0275fac=function(n){return new(n||e)};static \u0275mod=U({type:e});static \u0275inj=B({providers:[qF,$F]})}return e})();function gT(e,...t){return{ngModule:GF,providers:[{provide:j_,useFactory:UF(e),multi:!0,deps:[$,ge,vi,rr,[new re,yc],[new re,ei],...t]}]}}var bT=_o(jC,!0);var _T={providers:[Ky(dT),uT(),Dc(Iw(()=>Ew({projectId:"saladejuegoscorreasolange2024",appId:"1:529477867637:web:498eafa9213ea7d6d3403c",storageBucket:"saladejuegoscorreasolange2024.appspot.com",apiKey:"AIzaSyBomULtDTfiWVaN3VW_Rfhdga3qhbiL6ts",authDomain:"saladejuegoscorreasolange2024.firebaseapp.com",messagingSenderId:"529477867637"}))),Dc(mT(()=>fT())),Dc(gT(()=>bT()))]};var HF=["switch"],WF=["*"];function KF(e,t){e&1&&(I(0,"div",10),vh(),I(1,"svg",12),nt(2,"path",13),E(),I(3,"svg",14),nt(4,"path",15),E()())}var QF=new N("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),YF={provide:oa,useExisting:Vi(()=>vT),multi:!0},th=class{constructor(t,i){this.source=t,this.checked=i}},XF=0,vT=(()=>{let t=class t{_createChangeEvent(n){return new th(this,n)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(n){this._checked=n,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,r,o,s,a,c){this._elementRef=n,this._focusMonitor=r,this._changeDetectorRef=o,this.defaults=a,this._onChange=l=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new Rt,this.toggleChange=new Rt,this.tabIndex=parseInt(s)||0,this.color=a.color||"accent",this._noopAnimations=c==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++XF}`,this.hideIcon=a.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n==="keyboard"||n==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):n||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(n){n.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(n){this.checked=!!n}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorOnChange=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new th(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}};t.\u0275fac=function(r){return new(r||t)(T(dt),T(bl),T(Pe),Un("tabindex"),T(QF),T(Be,8))},t.\u0275cmp=Z({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(r,o){if(r&1&&qr(HF,5),r&2){let s;Ye(s=Xe())&&(o._switchElement=s.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,o){r&2&&(Pc("id",o.id),Yt("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),ui(o.color?"mat-"+o.color:""),At("mat-mdc-slide-toggle-focused",o._focused)("mat-mdc-slide-toggle-checked",o.checked)("_mat-animation-noopable",o._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[G.None,"aria-label","ariaLabel"],ariaLabelledby:[G.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[G.None,"aria-describedby","ariaDescribedby"],required:[G.HasDecoratorInputTransform,"required","required",St],color:"color",disabled:[G.HasDecoratorInputTransform,"disabled","disabled",St],disableRipple:[G.HasDecoratorInputTransform,"disableRipple","disableRipple",St],tabIndex:[G.HasDecoratorInputTransform,"tabIndex","tabIndex",n=>n==null?0:Lc(n)],checked:[G.HasDecoratorInputTransform,"checked","checked",St],hideIcon:[G.HasDecoratorInputTransform,"hideIcon","hideIcon",St]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[de([YF,{provide:ir,useExisting:t,multi:!0}]),be,Ce,J],ngContentSelectors:WF,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,o){if(r&1){let s=hi();Zt(),I(0,"div",1)(1,"button",2,0),xt("click",function(){return je(s),ze(o._handleClick())}),nt(3,"div",3),I(4,"div",4)(5,"div",5)(6,"div",6),nt(7,"div",7),E(),I(8,"div",8),nt(9,"div",9),E(),se(10,KF,5,0,"div",10),E()()(),I(11,"label",11),xt("click",function(c){return je(s),ze(c.stopPropagation())}),It(12),E()()}if(r&2){let s=Ih(2);_t("labelPosition",o.labelPosition),it(),At("mdc-switch--selected",o.checked)("mdc-switch--unselected",!o.checked)("mdc-switch--checked",o.checked)("mdc-switch--disabled",o.disabled),_t("tabIndex",o.disabled?-1:o.tabIndex)("disabled",o.disabled),Yt("id",o.buttonId)("name",o.name)("aria-label",o.ariaLabel)("aria-labelledby",o._getAriaLabelledBy())("aria-describedby",o.ariaDescribedby)("aria-required",o.required||null)("aria-checked",o.checked),it(8),_t("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),it(),ys(10,o.hideIcon?-1:10),it(),_t("for",o.buttonId),Yt("id",o._labelId)}},dependencies:[vl,w0],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0});let e=t;return e})();var yT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[vT,pt,pt]});let e=t;return e})();var ZF=["*",[["mat-toolbar-row"]]],JF=["*","mat-toolbar-row"],tO=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let e=t;return e})(),wT=(()=>{let t=class t{constructor(n,r,o){this._elementRef=n,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};t.\u0275fac=function(r){return new(r||t)(T(dt),T(Mt),T(Q))},t.\u0275cmp=Z({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&Gn(s,tO,5),r&2){let a;Ye(a=Xe())&&(o._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(ui(o.color?"mat-"+o.color:""),At("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[J],ngContentSelectors:JF,decls:2,vars:0,template:function(r,o){r&1&&(Zt(ZF),It(0),It(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let e=t;return e})();var xT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[pt,pt]});let e=t;return e})();var xc=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},z_=class extends xc{constructor(t,i,n,r,o){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},eh=class extends xc{constructor(t,i,n,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},B_=class extends xc{constructor(t){super(),this.element=t instanceof dt?t.nativeElement:t}},U_=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof z_)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof eh)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof B_)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var ih=class extends U_{constructor(t,i,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||ge.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var IT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({});let e=t;return e})();var iO=20,ET=(()=>{let t=class t{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new yt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=iO){return this._platform.isBrowser?new De(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(hh(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):M()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Kt(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=ji(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return nv(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(b($),b(Mt),b(Q,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var nO=20,$_=(()=>{let t=class t{constructor(n,r,o){this._platform=n,this._change=new yt,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),a=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,c=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(n=nO){return n>0?this._change.pipe(hh(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(b(Mt),b($),b(Q,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({});let e=t;return e})(),q_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({imports:[mn,rh,mn,rh]});let e=t;return e})();var CT=Jy(),G_=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Vt(-this._previousScrollPosition.left),t.style.top=Vt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,n=t.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),CT&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),CT&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var H_=class{constructor(t,i,n,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Kt(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},oh=class{enable(){}disable(){}attach(){}};function W_(e,t){return t.some(i=>{let n=e.bottom<i.top,r=e.top>i.bottom,o=e.right<i.left,s=e.left>i.right;return n||r||o||s})}function TT(e,t){return t.some(i=>{let n=e.top<i.top,r=e.bottom>i.bottom,o=e.left<i.left,s=e.right>i.right;return n||r||o||s})}var K_=class{constructor(t,i,n,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();W_(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},oO=(()=>{let t=class t{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new oh,this.close=a=>new H_(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new G_(this._viewportRuler,this._document),this.reposition=a=>new K_(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};t.\u0275fac=function(r){return new(r||t)(b(ET),b($_),b($),b(Q))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),sh=class{constructor(t){if(this.scrollStrategy=new oh,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let n of i)t[n]!==void 0&&(this[n]=t[n])}}};var Q_=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var kT=(()=>{let t=class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(b(Q))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),sO=(()=>{let t=class t extends kT{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let c=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(o)):c.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(b(Q),b($,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),aO=(()=>{let t=class t extends kT{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ti(s)},this._clickListener=s=>{let a=ti(s),c=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let d=l.length-1;d>-1;d--){let u=l[d];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(a)||u.overlayElement.contains(c))break;let h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(s)):h.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(b(Q),b(Mt),b($,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),MT=(()=>{let t=class t{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Zs()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),Zs()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(b(Q),b(Mt))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Y_=class{constructor(t,i,n,r,o,s,a,c,l,d=!1){this._portalOutlet=t,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new yt,this._attachments=new yt,this._detachments=new yt,this._locationChanges=Fi.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new yt,this._outsidePointerEvents=new yt,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ke(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=C(C({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ht(C({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Vt(this._config.width),t.height=Vt(this._config.height),t.minWidth=Vt(this._config.minWidth),t.minHeight=Vt(this._config.minHeight),t.maxWidth=Vt(this._config.maxWidth),t.maxHeight=Vt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,n){let r=co(i||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(Ni(Tc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},AT="cdk-overlay-connected-position-bounding-box",cO=/([A-Za-z%]+)$/,X_=class{get positions(){return this._preferredPositions}constructor(t,i,n,r,o){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new yt,this._resizeSubscription=Fi.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(AT),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,i,a),d=this._getOverlayFit(l,i,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,l,n)){o.push({position:a,origin:c,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:i})}if(o.length){let a=null,c=-1;for(let l of o){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Nr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(AT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:a}i.left<0&&(r-=i.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(t,i,n){let r;n.overlayX=="center"?r=-i.width/2:n.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,i,n,r){let o=DT(i),{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let d=0-s,u=s+o.width-n.width,h=0-a,m=a+o.height-n.height,y=this._subtractOverflows(o.width,d,u),_=this._subtractOverflows(o.height,h,m),x=y*_;return{visibleArea:x,isCompletelyWithinViewport:o.width*o.height===x,fitsInViewportVertically:_===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){let r=n.bottom-i.y,o=n.right-i.x,s=ST(this._overlayRef.getConfig().minHeight),a=ST(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||s!=null&&s<=r,l=t.fitsInViewportHorizontally||a!=null&&a<=o;return c&&l}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=DT(i),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-n.top-t.y,0),l=Math.max(o.left-n.left-t.x,0),d=0,u=0;return r.width<=o.width?d=l||-s:d=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?u=c||-a:u=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!lO(this._lastScrollVisibility,n)){let r=new Q_(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,i){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(i.overlayY==="top")s=t.y,o=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")a=n.height-t.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let m=Math.min(n.bottom-t.y+n.top,t.y),y=this._lastBoundingBoxSize.height;o=m*2,s=t.y-m,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-y/2)}let c=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,l=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,d,u,h;if(l)h=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(c)u=t.x,d=n.right-t.x;else{let m=Math.min(n.right-t.x+n.left,t.x),y=this._lastBoundingBoxSize.width;d=m*2,u=t.x-m,d>y&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-y/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(t,i){let n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Vt(n.height),r.top=Vt(n.top),r.bottom=Vt(n.bottom),r.width=Vt(n.width),r.left=Vt(n.left),r.right=Vt(n.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Vt(o)),s&&(r.maxWidth=Vt(s))}this._lastBoundingBoxSize=n,Nr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Nr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Nr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Nr(n,this._getExactOverlayY(i,t,d)),Nr(n,this._getExactOverlayX(i,t,d))}else n.position="static";let a="",c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=Vt(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Vt(s.maxWidth):o&&(n.maxWidth="")),Nr(this._pane.style,n)}_getExactOverlayY(t,i,n){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Vt(o.y);return r}_getExactOverlayX(t,i,n){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Vt(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:TT(t,n),isOriginOutsideView:W_(t,n),isOverlayClipped:TT(i,n),isOverlayOutsideView:W_(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&co(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof dt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}};function Nr(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function ST(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(cO);return!i||i==="px"?parseFloat(t):null}return e||null}function DT(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function lO(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var RT="cdk-global-overlay-wrapper",Z_=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(RT),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",y="",_="";c?_="flex-start":d==="center"?(_="center",h?y=u:m=u):h?d==="left"||d==="end"?(_="flex-end",m=u):(d==="right"||d==="start")&&(_="flex-start",y=u):d==="left"||d==="start"?(_="flex-start",m=u):(d==="right"||d==="end")&&(_="flex-end",y=u),t.position=this._cssPosition,t.marginLeft=c?"0":m,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":y,i.justifyContent=_,i.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(RT),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},dO=(()=>{let t=class t{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new Z_}flexibleConnectedTo(n){return new X_(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(b($_),b(Q),b(Mt),b(MT))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),uO=0,hs=(()=>{let t=class t{constructor(n,r,o,s,a,c,l,d,u,h,m,y){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=d,this._directionality=u,this._location=h,this._outsideClickDispatcher=m,this._animationsModuleType=y}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new sh(n);return a.direction=a.direction||this._directionality.value,new Y_(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${uO++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Hr)),new ih(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(b(oO),b(MT),b(kc),b(dO),b(sO),b(ge),b($),b(Q),b(d0),b(Hn),b(aO),b(Be,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var hO=new N("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=R(hs);return()=>e.scrollStrategies.reposition()}});function mO(e){return()=>e.scrollStrategies.reposition()}var fO={provide:hO,deps:[hs],useFactory:mO},PT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({providers:[hs,fO],imports:[mn,IT,q_,q_]});let e=t;return e})();var FT={transformMenu:kh("transformMenu",[Mh("void",Qr({opacity:0,transform:"scale(0.8)"})),zc("void => enter",jc("120ms cubic-bezier(0, 0, 0.2, 1)",Qr({opacity:1,transform:"scale(1)"}))),zc("* => void",jc("100ms 25ms linear",Qr({opacity:0})))]),fadeInItems:kh("fadeInItems",[Mh("showing",Qr({opacity:1})),zc("void => *",[Qr({opacity:0}),jc("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},m4=FT.fadeInItems,f4=FT.transformMenu;var pO=new N("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let e=R(hs);return()=>e.scrollStrategies.reposition()}});function gO(e){return()=>e.scrollStrategies.reposition()}var bO={provide:pO,deps:[hs],useFactory:gO};var OT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=U({type:t}),t.\u0275inj=B({providers:[bO],imports:[_e,yl,pt,PT,rh,pt]});let e=t;return e})();var NT=(()=>{let t=class t{menuItemClicked(n){console.log(n+" clicked")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Z({type:t,selectors:[["app-menu"]],standalone:!0,features:[J],decls:12,vars:0,consts:[[1,"miToolbar"],[1,"espaciador"],["routerLink","home","routerLinkActive","active-route","mat-button","",1,"miButton"],["routerLink","login","routerLinkActive","active-route","mat-button","",1,"miButton"],["routerLink","about","routerLinkActive","active-route","mat-button","",1,"miButton"]],template:function(r,o){r&1&&(I(0,"mat-toolbar",0)(1,"span")(2,"mat-icon"),F(3,"smart_toy"),E(),F(4," Sala de juegos"),E(),nt(5,"span",1),I(6,"button",2),F(7," Home "),E(),I(8,"button",3),F(9," Login "),E(),I(10,"button",4),F(11," Sobre mi "),E()())},dependencies:[hn,oo,ml,Ll,aw,Bl,pw,OT,xT,wT],styles:["mat-toolbar[_ngcontent-%COMP%]{height:64px;padding:0 16px;justify-content:space-between}.espaciador[_ngcontent-%COMP%]{flex:1 1 auto}.miToolbar[_ngcontent-%COMP%]{background-color:#6c53e7;color:#fff}.miButton[_ngcontent-%COMP%]{background-color:#6c53e7;color:#fff!important;border:none;padding:30px 25px;border-radius:5px;font-size:16px;cursor:pointer}.miButton[_ngcontent-%COMP%]:hover{background-color:#4937a1}"]});let e=t;return e})();var VT=(()=>{let t=class t{constructor(n){this.router=n,this.title="SalaDeJuegos2024"}goTo(n){this.router.navigate([n])}};t.\u0275fac=function(r){return new(r||t)(T(Ae))},t.\u0275cmp=Z({type:t,selectors:[["app-root"]],standalone:!0,features:[J],decls:2,vars:0,template:function(r,o){r&1&&nt(0,"app-menu")(1,"router-outlet")},dependencies:[Rm,hn,yT,NT],styles:[".active-route[_ngcontent-%COMP%]{background-color:#c46984}"]});let e=t;return e})();oy(VT,_T).catch(e=>console.error(e));
